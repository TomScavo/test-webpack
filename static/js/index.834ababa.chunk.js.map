{"version":3,"sources":["webpack:///./src/pages/DataSetDetail/style.module.less?f796","webpack:///./src/pages/Header/style.module.less?99dc","webpack:///./src/pages/HomePage/style.module.less?1fa5","webpack:///./src/pages/DataSetList/style.module.less?a34c","webpack:///./src/pages/UploadManagement/style.module.less?dcef","webpack:///index).)*\\.ts$","webpack:///./src/model/task.ts","webpack:///./src/pages/Header/style.module.less","webpack:///./node_modules/moment/locale sync ^\\.\\/.*$","webpack:///./src/pages/FilterSearchBar/style.module.less","webpack:///./src/pages/HomePage/style.module.less","webpack:///./src/pages/DataSetList/style.module.less","webpack:///./src/pages/FilterSearchBar/style.module.less?f4a9","webpack:///./src/pages/DataSetDetail/style.module.less","webpack:///./src/pages/UploadManagement/style.module.less","webpack:///./src/pages/Router/style.less?3239","webpack:///./src/pages/Router/style.less","webpack:///index).)*\\.ts$?fe3e","webpack:///./src/style/global.less?687f","webpack:///./src/style/global.less","webpack:///./src/model/index.ts","webpack:///./src/api/common.ts","webpack:///./src/api/assets.ts","webpack:///./src/api/upload.ts","webpack:///./src/api/util.ts","webpack:///./src/api/user.ts","webpack:///./src/pages/Header/index.tsx","webpack:///./src/pages/FilterSearchBar/index.tsx","webpack:///./src/pages/HomePage/index.tsx","webpack:///./src/pages/DataSetTagsModal/index.tsx","webpack:///./src/util/download.ts","webpack:///./src/pages/DataSetList/index.tsx","webpack:///./src/pages/DataSetDetail/ComponentForm.tsx","webpack:///./src/util/getPrefixComponentName.ts","webpack:///./src/pages/DataSetDetail/CreateComponentModal.tsx","webpack:///./src/pages/DataSetDetail/MediaPlayer.tsx","webpack:///./src/pages/DataSetDetail/index.tsx","webpack:///./src/pages/UploadManagement/UploadingList.tsx","webpack:///./src/pages/UploadManagement/index.tsx","webpack:///./src/pages/Router/index.tsx","webpack:///./src/router/index.tsx","webpack:///./src/index.tsx"],"names":["api","content","__esModule","default","module","i","options","exported","locals","exports","map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","webpackContextKeys","Object","resolve","service","mock","Promise","name","task","namespace","state","tasks","reducers","addTask","payload","concat","effects","addsTask","_","put","call","data","type","___CSS_LOADER_API_IMPORT___","push","webpackEmptyContext","models","importAll","r","forEach","key","require","Axios","defaults","baseURL","AxiosInstance","initAxiosInstance","interceptors","response","use","error","prefix","URLGroup","assets","cancelToken","post","assetname","get","component_type","component_name","params","delete","responseType","upload","util","headers","user","withRouter","Header","props","useState","userName","setUserName","setIsAdmin","handleLogin","rbac","RbacURL","location","href","useEffect","getCookieValue","cookieName","result","document","cookie","match","pop","a","API","rulesData","userData","isAdmin","some","rule","project","fullname","console","log","fetchUserInfo","className","style","Link","to","theme","mode","selectedKeys","getRootPath","pathname","index","indexOf","substring","lineHeight","path","text","filter","item","hide","config","Item","marginLeft","background","flex","color","cursor","TabPane","RangePicker","FIELDS_OPTIONS","FilterSearchBar","wrapperStyle","isHomePage","history","handleFilter","isOpen","setIsOpen","showFilterDropdown","setShowFilterDropdown","selectedTime","setSelectedTime","filterMode","setFilterMode","editorValue","setEditorValue","filters","setFilters","inputValue","setInputValue","editingInputValue","setEditingInputValue","fieldValue","setFieldValue","operatorValue","setOperatorValue","filterValue","setFilterValue","labelValue","setLabelValue","timeRangeRef","useRef","editIndexRef","inputHeight","closeFilterModal","current","clearInputsValue","isDisableSaveButton","includes","length","JSON","parse","handleSaveFilter","getInputsFilter","inputsValue","isEditorValue","convertToEsQuery","stopPropagation","queryValue","query","exists","field","isExclude","splice","esQuery","match_phrase","bool","minimum_should_match","should","value","queryString","search","date","filterList","timeRange","handleClickOutSide","window","addEventListener","removeEventListener","span","onMouseDown","handleDropDownClick","onClick","width","open","dropdownMatchSelectWidth","dropdownStyle","boxShadow","dropdownRender","getDropdownRender","getTimeList","list","time","handleTimeClick","marginTop","defaultActiveKey","tab","margin","showTime","hideDisabledOptions","defaultValue","moment","onOk","handleRangeOk","range","startTime","endTime","format","paddingLeft","showSearch","showArrow","allowClear","textAlign","dropdownClassName","onSearch","onChange","extractInputValue","startIndex","endIndex","lastIndexOf","Option","position","right","top","fontSize","handleSearch","stringify","getFilterData","must","must_not","getTimeRange","getRange","Time","gte","lte","utcOffset","set","hour","minute","second","millisecond","startOf","subtract","_filter","_input","height","handleFilterClick","getFilterDropdown","menu","handleFilterModeChange","display","justifyContent","overlay","trigger","getFilterDropdownContent","paddingRight","size","placeholder","marginRight","operator","target","setOptions","useWorker","showPrintMargin","editorProps","$blockScrolling","padding","ghost","disabled","getFilterTag","getTagBackground","isNot","getTag","replace","join","HomePage","DataSetTagsModal","isMutipleTag","onClose","onSuccess","defaultTags","checkedList","editTagAssetName","editTags","setEditTags","searchTags","setSearchTags","showSearchList","setShowSearchList","isLoading","setIsLoading","searchTimer","assetnames","tags","message","success","clearTimeout","setTimeout","title","onCancel","paddingTop","paddingBottom","visible","maskClosable","handleTagsOk","okText","cancelText","confirmLoading","slice","autoClearSearchValue","notFoundContent","onFocus","filterOption","option","handleSearchTag","tag","download","status","fileName","split","blob","Blob","objectUrl","URL","createObjectURL","aLink","createElement","click","OrderType","CancelToken","ORDER_METHOD","DataSet","setCheckedList","currentPageList","setCurrentPageList","total","setTotal","page","setPage","num","setNum","viewMethod","setViewMethod","showImg","setShowImg","selectedImg","setSelectedImg","showEditTagModal","setShowEditTagModal","setIsMutipleTag","setEditTagAssetName","filterParams","setFilterParams","orderType","setOrderType","allAssetNameRef","cancelRef","isFetchingListRef","fetchAssetList","isFetchAll","sortParams","ascItems","AssetAsc","ProjectAsc","TimeAsc","_direction","AssetDesc","_sort","ProjectDesc","TimeDesc","_page","_num","cancel","fetchList","items","getIcons","removeCheck","checkedAssetname","handlePreview","preview","handleDownLoadAsset","marginBottom","onConfirm","handleDelete","icon","handleEditTag","isMutiple","handleCheck","getTags","maxLength","maxItem","showingTags","isOverflow","isCheckAll","isCheckCurrentPage","every","lastPage","Math","ceil","Group","Button","handleCheckAll","checked","fetchAll","indeterminate","isCheckAllIndeterminate","handleCheckCurrentPage","concatList","Set","currentPageAssetNames","isCheckCurrentPageIndeterminate","getGridCard","flexWrap","projectname","isChecked","left","zIndex","overflow","transform","src","onError","alt","bottom","fontWeight","getColumnCard","createtime","flexDirection","showQuickJumper","showSizeChanger","defaultCurrent","defaultPageSize","pageSizeOptions","onShowSizeChange","float","clear","footer","COMPONENT_FIELDS","body","isRequired","isInt","face","audio","video","feature","UrlValue","wordBreak","ComponentForm","form","isCreate","onEditUpload","isReplaceLoading","fileList","setFileList","getFieldDecorator","setFieldsValue","formItemLayout","labelCol","xs","sm","wrapperCol","uploadProps","onRemove","file","undefined","beforeUpload","editUploadProps","showUploadList","label","rules","required","initialValue","loading","getPrefixComponentName","model","samplerate","Form","create","CreateComponentModal","validateFieldsAndScroll","handleOk","err","values","fd","FormData","isFile","append","validFileName","React","forwardRef","MediaPlayer","ref","isPlaying","setIsPlaying","duration","setDuration","currentDuration","setCurrentDuration","waves","setWaves","media","analyserRef","animationRef","handlePause","cancelAnimationFrame","renderSoundWave","waveArray","Uint8Array","requestAnimationFrame","getByteFrequencyData","Array","from","initMedia","crossOrigin","preload","onloadedmetadata","floor","ontimeupdate","currentTime","onended","context","AudioContext","createMediaElementSource","analyser","createAnalyser","connect","destination","fftSize","alignItems","getAudioWave","arr","handlePlayOrPause","paused","play","pause","getTimestamp","getTwoDigitsTime","totalTime","tipFormatter","max","handleFullScreen","requestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","msRequestFullscreen","COMPONENT_TYPES","DEFAULT_PAGINATIONS","DataSetDetail","assetInfo","setAssetInfo","selectedName","setSelectedName","selectedType","setSelectedType","showCreateModal","setShowCreateModal","componentInfo","setComponentInfo","currentPaginations","setCurrentPaginations","componentInfoTab","setComponentInfoTab","isEditProjectName","setIsEditProjectName","setisReplaceLoading","isDownloadAsset","setIsDownloadAsset","isDownloadComponent","setIsDownloadComponent","componentName","fetchAsset","isInit","initTypesValue","asset","bodyName","handleClickList","handleEditUpload","url","isComponent","confirm","deleteAsset","fetchComponentInfo","actorname","comment","handleChangeProjectName","handleDownloadAsset","onPressEnter","onBlur","charAt","toUpperCase","getFileList","defaultSelectedKeys","defaultOpenKeys","pageSize","showTotal","handleDownloadComponent","getComponentFields","getPreview","forceRender","submitComponentInfo","handleCreateSuccess","STATUS","UploadingList","files","infoFile","handleUploadSuccess","show","metaData","setMetaData","uploadedSize","setUploadedSize","setStatus","isPause","setIsPause","totalSize","metaDataRef","uploadQueue","failedFileRef","retryTimeRef","finishRetryTimeRef","isPauseRef","handleFinishError","sendComplete","requestid","currentSize","c","getMegabyteFormat","toFixed","fetchIdAndUpload","getTotleFilesSize","reduce","currentFile","component_num","percent","showInfo","strokeColor","offset","handlePauseOrResume","resume","FILE_TYPES","UploadManagement","setList","uploadingList","setUploadingList","setSearch","isReadingFiles","setIsReadingFiles","uploadingFilesRef","isMultipleRef","isReadingFilesRef","isFetchList","totalNum","fetchUploadList","createtime__lt","_offset","readFileInfo","folderName","reader","FileReader","onload","onReaderLoad","event","validteFilesAndUpload","fileInfo","currentFiles","isExist","exist","handleFileNotFound","getFileName","lastIndex","handleUpload","clearUpdatedFiles","getRootFolderName","readAsText","webkitRelativePath","removeUploadingList","directory","processFile","rootFolderName","currentPageStartIndex","currentPageEndIndex","disabledDate","currentDate","handleDateChange","Search","msg","Router","Content","maxWidth","Switch","Route","exact","component","render","routeProps","DataSetList","Redirect","routes","configSorter","b","priority","sort","resolveRouteConfig","route","commonProps","redirect","children","childConfig","BrowserRouter","app","dva","router","start"],"mappings":"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R,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,aAAc,IACd,UAAW,IACX,aAAc,IACd,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,UAAW,IACX,aAAc,IACd,UAAW,IACX,aAAc,IACd,UAAW,IACX,aAAc,IACd,UAAW,IACX,aAAc,IACd,UAAW,IACX,aAAc,IACd,UAAW,IACX,aAAc,IACd,UAAW,IACX,aAAc,IACd,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,aAAc,IACd,UAAW,IACX,aAAc,IACd,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,aAAc,IACd,UAAW,IACX,aAAc,IACd,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,aAAc,IACd,gBAAiB,IACjB,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,UAAW,IACX,aAAc,IACd,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,aAAc,IACd,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,aAAc,IACd,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,aAAc,IACd,UAAW,IACX,OAAQ,IACR,UAAW,IACX,UAAW,IACX,aAAc,IACd,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,aAAc,IACd,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,YAAa,IACb,eAAgB,IAChB,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,QAAS,IACT,WAAY,IACZ,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,UAAW,IACX,aAAc,IACd,QAAS,IACT,WAAY,IACZ,OAAQ,IACR,UAAW,IACX,QAAS,IACT,WAAY,IACZ,QAAS,IACT,aAAc,IACd,gBAAiB,IACjB,WAAY,IACZ,UAAW,IACX,aAAc,IACd,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,YAAa,IACb,eAAgB,IAChB,UAAW,IACX,OAAQ,IACR,UAAW,IACX,aAAc,IACd,gBAAiB,IACjB,OAAQ,IACR,UAAW,IACX,UAAW,IACX,aAAc,IACd,UAAW,IACX,aAAc,IACd,UAAW,IACX,aAAc,KAIf,SAASC,eAAeC,GACvB,IAAIC,EAAKC,sBAAsBF,GAC/B,OAAOG,EAAoBF,GAE5B,SAASC,sBAAsBF,GAC9B,IAAIG,EAAoBC,EAAEN,EAAKE,GAAM,CACpC,IAAIK,EAAI,IAAIC,MAAM,uBAAyBN,EAAM,KAEjD,MADAK,EAAEE,KAAO,mBACHF,EAEP,OAAOP,EAAIE,GAEZD,eAAeS,KAAO,SAASC,qBAC9B,OAAOC,OAAOF,KAAKV,IAEpBC,eAAeY,QAAUT,sBACzBV,EAAOK,QAAUE,eACjBA,eAAeE,GAAK,K,qBCjRpBJ,EADkC,EAAQ,GAChCkC,EAA4B,IAE9BC,KAAK,CAACxC,EAAOC,EAAI,qtHAAstH,KAE/uHI,EAAQD,OAAS,CAChB,iBAAkB,uCAClB,MAAS,8BACT,YAAa,kCACb,gBAAiB,sCACjB,0BAA2B,gDAC3B,aAAc,mCACd,0BAA2B,gDAC3B,gBAAiB,sCACjB,YAAa,mCAEdJ,EAAOK,QAAUA,G,qBCfjBA,EADkC,EAAQ,GAChCkC,EAA4B,IAE9BC,KAAK,CAACxC,EAAOC,EAAI,00DAA20D,KAEp2DI,EAAQD,OAAS,CAChB,eAAgB,qCAChB,MAAS,8BACT,YAAa,kCACb,gBAAiB,sCACjB,0BAA2B,gDAC3B,gBAAiB,sCACjB,YAAa,mCAEdJ,EAAOK,QAAUA,G,qBCbjBA,EADkC,EAAQ,GAChCkC,EAA4B,IAE9BC,KAAK,CAACxC,EAAOC,EAAI,6kBAA8kB,KAEvmBI,EAAQD,OAAS,CAChB,QAAW,gCACX,eAAgB,sCAEjBJ,EAAOK,QAAUA,G,mBCVjB,IAAIT,EAAM,EAAQ,IACFC,EAAU,EAAQ,KAIC,kBAFvBA,EAAUA,EAAQC,WAAaD,EAAQE,QAAUF,KAG/CA,EAAU,CAAC,CAACG,EAAOC,EAAIJ,EAAS,MAG9C,IAAIK,EAAU,CAEd,OAAiB,OACjB,WAAoB,GAIhBC,GAFSP,EAAIC,EAASK,GAEXL,EAAQO,OAASP,EAAQO,OAAS,IAIjDJ,EAAOK,QAAUF,G,qBClBjBE,EADkC,EAAQ,GAChCkC,EAA4B,IAE9BC,KAAK,CAACxC,EAAOC,EAAI,kzCAAmzC,KAE50CI,EAAQD,OAAS,CAChB,SAAY,kCAEbJ,EAAOK,QAAUA,G,qBCPjBA,EADkC,EAAQ,GAChCkC,EAA4B,IAE9BC,KAAK,CAACxC,EAAOC,EAAI,oRAAqR,KAE9SI,EAAQD,OAAS,CAChB,iBAAkB,wCAEnBJ,EAAOK,QAAUA,G,oBCTjB,IAAIT,EAAM,EAAQ,IACFC,EAAU,EAAQ,KAIC,kBAFvBA,EAAUA,EAAQC,WAAaD,EAAQE,QAAUF,KAG/CA,EAAU,CAAC,CAACG,EAAOC,EAAIJ,EAAS,MAG9C,IAAIK,EAAU,CAEd,OAAiB,OACjB,WAAoB,GAIhBC,GAFSP,EAAIC,EAASK,GAEXL,EAAQO,OAASP,EAAQO,OAAS,IAIjDJ,EAAOK,QAAUF,G,qBClBjBE,EADkC,EAAQ,GAChCkC,EAA4B,IAE9BC,KAAK,CAACxC,EAAOC,EAAI,mGAAoG,KAE7HD,EAAOK,QAAUA,G,kBCNjB,SAASoC,oBAAoBjC,GAC5B,IAAIK,EAAI,IAAIC,MAAM,uBAAyBN,EAAM,KAEjD,MADAK,EAAEE,KAAO,mBACHF,EAEP4B,oBAAoBzB,KAAO,WAAa,MAAO,IAC/CyB,oBAAoBtB,QAAUsB,oBAC9BzC,EAAOK,QAAUoC,oBACjBA,oBAAoBhC,GAAK,K,oBCRzB,IAAIb,EAAM,EAAQ,IACFC,EAAU,EAAQ,KAIC,kBAFvBA,EAAUA,EAAQC,WAAaD,EAAQE,QAAUF,KAG/CA,EAAU,CAAC,CAACG,EAAOC,EAAIJ,EAAS,MAG9C,IAAIK,EAAU,CAEd,OAAiB,OACjB,WAAoB,GAIhBC,GAFSP,EAAIC,EAASK,GAEXL,EAAQO,OAASP,EAAQO,OAAS,IAIjDJ,EAAOK,QAAUF,G,qBClBjBE,EADkC,EAAQ,GAChCkC,EAA4B,IAE9BC,KAAK,CAACxC,EAAOC,EAAI,GAAI,KAE7BD,EAAOK,QAAUA,G,8ECNXqC,EAA+B,IAErC,SAASC,UAAUC,GACjBA,EAAE5B,OAAO6B,SAAQ,SAAAC,GACfJ,EAAOF,KAAKI,EAAEE,GAAK/C,YAIvB4C,CAAUI,QAEKL,Q,+LCPfM,IAAMC,SAASC,QAAU,UAEzB,IAAMC,EAAgBC,8BAEtBD,EAAcE,aAAaC,SAASC,KAAI,SAAAD,GAEtC,OAAKA,GADa,CAAEjB,KAAM,SAGzB,SAAAmB,GACD,MAAO,CAAEnB,KAAM,SAIFc,Q,+kDCbf,IAAMM,EAASC,mBAAS,WAEXC,EAAS,mBACV7B,GAA6B,IAApB8B,EAAoB,uDAAN,KAC/B,OAAOZ,EAAMa,KAAKJ,EAAX,mBAAqB3B,EAAS,CAAE8B,iBAF9BD,EAAS,oBAKTG,GACT,OAAOd,EAAMe,IAAIN,EAAV,mBAAqBK,KANnBH,EAAS,wBASLG,EAAWE,EAAgBC,GACxC,OAAOjB,EAAMe,IAAIN,EAAV,mBAAqBK,EAAwBE,EAAoBC,KAV/DN,EAAS,oBAaTO,GACT,OAAOlB,EAAMe,IAAIN,EAAV,oBAAyB,CAAES,YAdzBP,EAAS,iBAiBZ7B,GACN,OAAOkB,EAAMa,KAAKJ,EAAX,oBAA0B3B,IAlBxB6B,EAAS,sBAqBPG,EAAWE,EAAgBlC,GACtC,OAAOkB,EAAMa,KAAKJ,EAAX,mBAAsBK,EAAyBE,GAAmBlC,IAtBhE6B,EAAS,oBAyBTG,EAAWhC,GACpB,OAAOkB,EAAMb,IAAIsB,EAAV,mBAAqBK,GAAkBhC,IA1BrC6B,EAAS,qBA6BRG,EAAWhC,GACrB,OAAOkB,EAAMb,IAAIsB,EAAV,mBAAqBK,GAAahC,IA9BhC6B,EAAS,yBAiCJG,EAAWE,EAAgBC,EAAgBnC,GACzD,OAAOkB,EAAMb,IAAIsB,EAAV,mBAAqBK,EAAwBE,EAAoBC,GAAkBnC,IAlCjF6B,EAAS,6BAqCAG,EAAWE,EAAgBC,EAAgBnC,GAC7D,OAAOkB,EAAMb,IAAIsB,EAAV,oBAAqBK,EAAwBE,EAA0BC,GAAkBnC,IAtCvF6B,EAAS,qBAyCRG,GACV,OAAOd,EAAMmB,OAAOV,EAAb,oBAAwBK,KA1CtBH,EAAS,yBA6CJG,EAAWE,EAAgBC,GACzC,OAAOjB,EAAMmB,OAAOV,EAAb,oBAAwBK,EAAwBE,EAAoBC,KA9ClEN,EAAS,2BAiDFG,EAAWE,EAAgBC,GAC3C,OAAOjB,EAAMe,IAAIN,EAAV,oBAAqBK,EAAwBE,EAAoBC,GAA2B,CAACG,aAAc,iB,6PCpDtH,IAAMX,EAASC,mBAAS,WAcXW,EAAS,yBAKJH,EAA0BN,GAExC,OAAOZ,EAAMe,IAAIN,EAAV,0BAA0B,CAAES,SAAQN,iBAPlCS,EAAS,gBAUbvC,GACL,OAAOkB,EAAMa,KAAKJ,EAAX,0BAA4B3B,I,6WCzBvC,IAAM2B,EAASC,mBAAS,IAEXY,EAAO,uBACJxC,GACZ,OAAOkB,EAAMa,KAAKJ,EAAX,uBAAyB3B,EAAS,CAAEyC,QAAS,CAAE,eAAgB,0BAF7DD,EAAO,gBAKXxC,EAAS8B,GACd,OAAOZ,EAAMa,KAAKJ,EAAX,wBAA4B3B,EAAS,CAAC8B,cAAaW,QAAS,CAAE,eAAgB,0BAN5ED,EAAO,uBASJJ,GACZ,OAAOlB,EAAMe,IAAIN,EAAV,wBAA6B,CAAES,SAAQE,aAAc,iB,qPCZhE,IAAMX,EAASC,mBAAS,UAEXc,EAAO,wBACHA,GACb,OAAOxB,EAAMe,IAAIN,EAAV,sBAAqBe,KAFnBA,GAAO,uBAKJA,GACZ,OAAOxB,EAAMe,IAAIN,EAAV,uBAAqBe,K,qBCkFjBC,gBAnFuC,SAAhDC,OAAiDC,GAAU,MAC/BC,mBAAS,IADsB,WACxDC,EADwD,KAC9CC,EAD8C,OAEjCF,mBAAS,IAFwB,WAE/CG,GAF+C,WA2B/D,SAASC,cACP,IAAMC,EAAOC,SAAW,qCACxBC,SAASC,KAAT,UAAmBH,EAAnB,uBAAsCE,SAASC,MA8BjD,OA3BAC,qBAAU,WACR,SAASC,eAAeC,GACtB,IAAMC,EAASC,SAASC,OAAOC,MAAM,gBAAkBJ,EAAa,oBACpE,OAAOC,EAASA,EAAOI,MAAQ,GAHnB,8DAMd,8CAAAC,EAAA,sEACQrB,EAAOc,eAAe,eACjBN,cAFb,kBAKsCc,EAAwBtB,GAL9D,uBAKkBuB,EALlB,EAKY1D,KALZ,SAMqCyD,GAAuBtB,GAN5D,gBAMkBwB,EANlB,EAMY3D,KACF4D,EAAUF,GAAaA,EAAUG,MAAK,SAAAC,GAAI,MAAkB,kBAAdA,EAAKpF,MAA6C,YAAjBoF,EAAKC,WACpFvB,EAAWmB,EAASK,SAC1B1B,EAAMI,WAAWkB,GACjBlB,EAAWkB,GACXnB,EAAYD,GAXhB,kDAaIyB,QAAQC,IAAR,MACAvB,cAdJ,iEANc,gCAMCwB,gBAND,4CAwBdA,KACC,IAGD,2BACE,sBAAQ9B,OAAR,CAAe+B,UAAWC,KAAM,mBAC9B,yBAAKD,UAAWC,KAAM,iBACpB,kBAACC,EAAA,EAAD,CAAMC,GAAG,YAAYH,UAAWC,KAAM,gBAAtC,WACE,uBACEG,MAAM,OACNC,KAAK,aACLC,aAAc,CA9C1B,SAASC,cAAc,IACbC,EAAatC,EAAMQ,SAAnB8B,SACFC,EAAQD,EAASE,QAAQ,IAAK,GACpC,OAAkB,IAAXD,EAAeD,EAAWA,EAASG,UAAU,EAAGF,GA2C9BF,IACfN,MAAO,CAAEW,WAAY,SA/DpB,CACX,CACEC,KAAM,YACNC,KAAM,gBAER,CACED,KAAM,WACNC,KAAM,sBAER,CACED,KAAM,UACNC,KAAM,6BAqDQC,QAAO,SAAAC,GAAI,OAAKA,EAAKC,QAAMpH,KAAI,SAACqH,EAAQ1H,GAAT,OACnC,sBAAM2H,KAAN,CAAW9E,IAAK6E,EAAOL,KAAMZ,MAAO,CAACmB,WAAY,GAAIC,WAAY,gBAC/D,kBAACnB,EAAA,EAAD,CAAMC,GAAIe,EAAOL,MAAOK,EAAOJ,WAIrC,yBAAKb,MAAO,CAACqB,KAAM,KACnB,yBAAKrB,MAAO,CAACsB,MAAO,4BAA6BC,OAAQ,YAAapD,S,+jBC5E1EqD,G,KAAAA,QACAC,G,KAAAA,YAQFC,GAAiB,CACrB,YACA,OACA,WACA,UACA,aACA,cACA,UACA,aACA,cACA,eACA,WACA,gBACA,kBACA,gBACA,mBACA,kBACA,WACA,aACA,eACA,mBACA,YACA,aACA,eACA,YACA,eACA,eAusBa3D,gBApsBgD,SAAzD4D,gBAA0D,GAAqE,QAApEC,oBAAoE,MAArD,GAAqD,EAAjDC,EAAiD,EAAjDA,WAAYC,EAAqC,EAArCA,QAASrD,EAA4B,EAA5BA,SAAUsD,EAAkB,EAAlBA,aAAkB,EACvG7D,oBAAS,GAD8F,WAC5H8D,EAD4H,KACpHC,EADoH,OAE/E/D,oBAAS,GAFsE,WAE5HgE,EAF4H,KAExGC,EAFwG,OAG3FjE,mBAAS,SAHkF,WAG5HkE,EAH4H,KAG9GC,EAH8G,OAI/FnE,mBAAS,iBAJsF,WAI5HoE,EAJ4H,KAIhHC,EAJgH,OAK7FrE,mBAAS,MALoF,WAK5HsE,EAL4H,KAK/GC,EAL+G,OAMrGvE,mBAAS,IAN4F,WAM5HwE,EAN4H,KAMnHC,EANmH,OAQ/FzE,mBAAS,IARsF,WAQ5H0E,EAR4H,KAQhHC,EARgH,OASjF3E,mBAAS,IATwE,WAS5H4E,EAT4H,KASzGC,EATyG,OAU/F7E,mBAAS,MAVsF,WAU5H8E,EAV4H,KAUhHC,EAVgH,OAWzF/E,mBAAS,MAXgF,WAW5HgF,EAX4H,KAW7GC,EAX6G,OAY7FjF,mBAAS,MAZoF,WAY5HkF,EAZ4H,KAY/GC,GAZ+G,QAa/FnF,mBAAS,IAbsF,aAa5HoF,GAb4H,MAahHC,GAbgH,MAc7HC,GAAeC,iBAAO,IAEtBC,GAAeD,iBAAO,MAGtBE,GAAc9B,EAAc,OAAS,OAgE3C,SAAS+B,mBAOPnB,EAAe,MACfF,EAAc,iBACdJ,GAAsB,GACtBuB,GAAaG,QAAU,KATvB,SAASC,mBACPb,EAAc,MACdE,EAAiB,MACjBE,GAAe,MACfE,GAAc,IAMhBO,GASF,SAASC,sBACP,GAAmB,kBAAfzB,EACF,OAAKU,IAAeE,IAAmBE,IAAgB,CAAC,SAAU,kBAAkBY,SAASd,OACzF,CAAC,YAAa,iBAAiBc,SAASd,IAAmBE,EAAYa,QAG3E,IAEE,OADAC,KAAKC,MAAM3B,IACJ,EACP,MAAMrI,GACN,OAAO,GAKb,SAASiK,iBAAiBjK,GAGxB,SAASkK,gBAAgBC,GACvB,O,4XAAA,EACEC,eAAe,GACZD,EAFL,CAGE9B,YAAagC,iBAAiBF,KAIlC,IAAIxD,EAEJ,GAZA3G,EAAEsK,kBAYiB,kBAAfnC,EAAgC,CAOlCxB,EAASuD,gBANW,CAClBrB,aACAE,gBACAE,cACAE,oBAGG,CACL,IAAMoB,EAAaR,KAAKC,MAAM3B,GAAamC,OAAS,GAQpD,GANA7D,EAAS,CACPyD,eAAe,EACf/B,YAAakC,EACbpB,eAGEoB,EAAWzF,MAAO,CACpB,IAAM+D,EAAaxI,OAAOF,KAAKoK,EAAWzF,OAAO,GAEjD,GAAI+D,GAAc0B,EAAWzF,MAAM+D,GAAY2B,MAM7C7D,EAASuD,gBALW,CAClBrB,aACAE,cAAe,KACfE,YAAasB,EAAWzF,MAAM+D,GAAY2B,QAMhD,GAAID,EAAWE,OAAQ,CACrB,IAAM5B,EAAaxI,OAAOF,KAAKoK,EAAWzF,OAAO,GAEjD,GAAI+D,GAAc0B,EAAWE,OAAO5B,GAAY6B,MAM9C/D,EAASuD,gBALW,CAClBrB,aACAE,cAAe,SACfE,YAAasB,EAAWE,OAAO5B,GAAY6B,SAOtB,OAAzBnB,GAAaG,SAEf/C,EAAOgE,UAAYpC,EAAQgB,GAAaG,SAASiB,UACjDpC,EAAQqC,OAAOrB,GAAaG,QAAS,EAAG/C,GACxC6B,EAAW,KAAID,KAEfC,EAAW,GAAD,YAAKD,GAAL,CAAc5B,KAG1B8C,mBA6SF,SAASY,iBAAiBF,GAAa,IAEjCU,EADIhC,EAA0CsB,EAA1CtB,WAAYE,EAA8BoB,EAA9BpB,cAAeE,EAAekB,EAAflB,YAGnC,OAAOF,GACL,IAAK,KACL,IAAK,SACH8B,EAAU,CAACC,aAAc,QAAEjC,EAAa,CAAC2B,MAAOvB,KAChD,MAGF,IAAK,YACL,IAAK,gBACH4B,EAAU,CACRE,KAAM,CACJC,qBAAsB,EACtBC,OAAQhC,EAAYxJ,KAAI,SAAAyL,GAAK,MAAK,CAACJ,aAAc,QAAEjC,EAAaqC,SAGpE,MAGF,IAAK,SACL,IAAK,iBACHL,EAAU,CAACJ,OAAQ,CAACC,MAAO7B,IAK/B,OAAOgC,EAqIT,OA1UArG,qBAAU,WAAM,MACsC2G,KAAYnB,MAAM1F,EAAS8G,SAAW,GAAlFC,EADM,EACNA,KAAMC,EADA,EACAA,WAAY7C,EADZ,EACYA,WAAY8C,EADxB,EACwBA,UAEtC,IACE,IAAMhD,EAAUwB,KAAKC,MAAMsB,GAC3B9C,EAAWD,GACX,MAAMvI,GACNyF,QAAQC,IAAI1F,GAGdqL,GAAQnD,EAAgBmD,GACxB5C,GAAcC,EAAcD,GAC5B8C,IAAclC,GAAaK,QAAU6B,KACpC,IAEH/G,qBAAU,WACR,SAASgH,qBACP1D,GAAU,GACV2B,mBAKF,OAFAgC,OAAOC,iBAAiB,QAASF,oBAE1B,WACLC,OAAOE,oBAAoB,QAASH,uBAErC,IAiTD,yBAAK5F,UAAWC,KAAM,kBAAoBA,MAAO4B,GAC/C,4BACE,wBAAKmE,KAAM,EAAGhG,UAAS,8BAAyB8B,EAAa,QAAU,WAAamE,YAziB1F,SAASC,oBAAoB9L,GAC3BA,EAAEsK,kBACFxC,GAAWD,GACX4B,oBAsiB0HsC,QAAS,iBAAA/L,GAAC,OAAIA,EAAEsK,oBACpI,wBACEzE,MAAO,CAACmG,MAAO,QACfd,MAAOjD,EACPgE,KAAMpE,EACNqE,0BAA0B,EAC1BC,cAAe,CAAClF,WAAY,cAAemF,UAAW,QACtDC,eA5nBV,SAASC,oBAQP,SAASC,YAAYC,GACnB,OACE,4BACGA,EAAK/M,KAAI,SAAAgN,GAAI,OACZ,wBAAI7G,UAAWC,KAAM,aAAckG,QAAS,0BAVpD,SAASW,gBAAgBD,GACvBvE,EAAgBuE,GAChB3E,GAAU,GAQ8C4E,CAAgBD,IAAOxK,IAAKwK,GAAOA,OAgB7F,OACE,yBACE7G,UAAWC,KAAM,iBACjBA,MAAO,CAACmG,MAAO,IAAK/E,WAAY,UAAW0F,UAAW,IACtDd,YAAa,qBAAA7L,GAAC,OAAIA,EAAEsK,mBACpByB,QAAS,iBAAA/L,GAAC,OAAIA,EAAEsK,oBAEhB,wBAAMsC,iBAAiB,KACrB,kBAACvF,GAAD,CAASwF,IAAI,QAAQ5K,IAAI,KACvB,4BACE,wBAAK2J,KAAM,GACRW,YAAY,CAAC,QAAS,YAAa,gBAEtC,wBAAKX,KAAM,GACRW,YAAY,CAAC,cAAe,eAAgB,oBAInD,kBAAClF,GAAD,CAASwF,IAAI,WAAW5K,IAAI,KAC5B,kBAACqF,GAAD,CACEzB,MAAO,CAACmG,MAAO,OAAQc,OAAQ,UAC/BC,SAAU,CACRC,qBAAqB,EACrBC,aAAc,CAACC,KAAO,WAAY,gBAAiBA,KAAO,WAAY,kBAExEC,KAnCR,SAASC,cAAcC,GACrBvF,GAAU,GACVI,EAAgB,YAFY,UAGCmF,EAHD,GAGrBC,EAHqB,KAGVC,EAHU,KAI5BlE,GAAaK,QAAU,CACrB4D,YACAC,YA8BIC,OAAO,oCAykBX,wBAAK5B,KAAM,GAAIhG,UAAS,8BAAyB8B,EAAa,QAAU,WAAa7B,MAAO,CAAC4H,YAAa,KACxG,wBACEC,YAAU,EACVC,WAAW,EACXC,YAAU,EACV1C,MAAOzC,EACP5C,MAAO,CAAEmG,MAAO,OAAQ6B,UAAW,QACnC1B,cAAe,CAAElF,WAAY,WAE7B6G,kBAAkB,gCAClBC,SAAU,kBAAA7C,GAAK,OAAItC,EAAqBsC,IACxC8C,SAAU,kBAAA9C,GACRtC,EAAqB,IACrBF,EAAcwC,KAKd,CAAC,YAAa,cAAe,QAAQzL,KAAI,SAAAiB,GACvC,IAAMwK,EAAQ,GAAH,OAAMxK,EAAN,aAAeiI,IAAwCF,EAvChF,SAASwF,oBACP,IAAMC,EAAazF,EAAWnC,QAAQ,KAChC6H,EAAW1F,EAAW2F,YAAY,KAExC,OAAQ3F,EAAWlC,UAAU2H,EAAa,EAAGC,GAmC8CF,GAAsB,IAA1F,KAEX,OACE,uBAAQI,OAAR,CAAenD,MAAOA,EAAOjJ,IAAKvB,GAC/BwK,OAMX,wBACEzJ,KAAK,SACLoE,MAAO,CAACyI,SAAU,WAAYC,MAAO,GAAIC,IAAK9G,EAAa,GAAK,GAAI+G,SAAU,GAAIrH,OAAQ,WAC1F2E,QApEV,SAAS2C,eACP,GAAIhH,EACFC,EAAQhG,KAAK,CAAEyE,SAAU,WAAYgF,OAAQ,eAAF,OAAiBrB,KAAK4E,UAAUpG,GAAhC,uBAAuDE,EAAvD,iBAA0ER,EAA1E,sBAAoG8B,KAAK4E,UAAUtF,GAAaK,gBAD7K,CAKA,IAAM/C,EAjHR,SAASiI,gBACP,IAAMjI,EAAS,CACboE,KAAM,CACJpE,OAAQ,GACRkI,KAAM,GACNC,SAAU,GACV7D,OAAQ,KA0CZ,OAtCA1C,EAAQvG,SAAQ,SAAA4E,GACd,IAAIA,EAAK+D,UAET,GAAI/D,EAAKwD,cACPzD,EAAOoE,KAAKpE,OAAOhF,KAAKiF,EAAKyB,iBACxB,KACGQ,EAA0CjC,EAA1CiC,WAAYE,EAA8BnC,EAA9BmC,cAAeE,EAAerC,EAAfqC,YAEnC,OAAOF,GACL,IAAK,KACL,IAAK,SACH,IAAMmC,EAAQ,CAACJ,aAAc,QAAEjC,EAAa,CAAC2B,MAAOvB,KAClC,OAAlBF,EAAyBpC,EAAOoE,KAAKpE,OAAOhF,KAAKuJ,GAASvE,EAAOoE,KAAK+D,SAASnN,KAAKuJ,GACpF,MAGF,IAAK,YACL,IAAK,gBACH,IAAMA,EAAQ,CACZH,KAAM,CACJC,qBAAsB,EACtBC,OAAQhC,EAAYxJ,KAAI,SAAAyL,GAAK,MAAK,CAACJ,aAAc,QAAEjC,EAAaqC,SAGlD,cAAlBnC,EAAgCpC,EAAOoE,KAAKpE,OAAOhF,KAAKuJ,GAASvE,EAAOoE,KAAK+D,SAASnN,KAAKuJ,GAC3F,MAGF,IAAK,SACL,IAAK,iBACH,IAAMA,EAAQ,CAACT,OAAQ,CAACC,MAAO7B,IACb,WAAlBE,EAA6BpC,EAAOoE,KAAKpE,OAAOhF,KAAKuJ,GAASvE,EAAOoE,KAAK+D,SAASnN,KAAKuJ,QAOzFvE,EAiEQiI,GACTrD,EA/DR,SAASwD,eACP,SAASC,SAAS1B,EAAWC,GAC3B,MAAO,CACLF,MAAO,CACL4B,KAAM,CACJzB,OAAQ,4BACR0B,IAAK5B,EAAUE,OAAO,4BACtB2B,IAAK5B,EAAQC,OAAO,+BAM5B,IAAMD,EAAUL,OAEhB,OAAOjF,GACL,IAAK,QACH,IAAMqF,EAAYJ,OAASkC,UAAU,GAGrC,OAFA9B,EAAU+B,IAAI,CAACC,KAAK,EAAEC,OAAO,EAAEC,OAAO,EAAEC,YAAY,IAE7CT,SAAS1B,EAAWC,GAG7B,IAAK,YAEH,OAAOyB,SADW9B,OAASwC,QAAQ,WACRnC,GAG7B,IAAK,aAEH,OAAOyB,SADW9B,OAASwC,QAAQ,SACRnC,GAG7B,IAAK,cAEH,OAAOyB,SADW9B,OAASyC,SAAS,EAAG,SACZpC,GAG7B,IAAK,eAEH,OAAOyB,SADW9B,OAASyC,SAAS,GAAI,SACbpC,GAG7B,IAAK,eAEH,OAAOyB,SADW9B,OAASyC,SAAS,GAAI,SACbpC,GAG7B,IAAK,WAAY,MACgBlE,GAAaK,QAE5C,OAAOsF,SAHQ,EACP1B,UADO,EACIC,UAcLwB,GAClBpI,EAAOoE,KAAKpE,OAAOhF,KAAK4J,GAExB3D,GAAgBA,EAAa,CAC3BgI,QAASjJ,EACTkJ,OAAQpH,SA4DN,wBAAKmD,KAAM,GACT,0BAAMhG,UAAWC,KAAM,iBAAkBA,MAAO,CAAEiK,OAAQtG,GAAahD,WAAYgD,IAAeuC,QAnY1G,SAASgE,kBAAkB/P,GACzBA,EAAEsK,kBACFxC,GAAU,GACVE,GAAuBD,KAgYjB,cACCA,GA/fT,SAASiI,oBAuFP,IAAMC,EACJ,uBAAMlE,QAAS,2BAvFjB,SAASmE,uBAAuBjO,GAC9BmG,EAAcnG,GAsFYiO,CAAX,EAAEjO,OACf,sBAAM8E,KAAN,CAAW9E,IAAI,iBAAf,iBAGA,sBAAM8E,KAAN,CAAW9E,IAAI,aAAf,cAMJ,OACE,yBAAK2D,UAAWC,KAAM,2BAA4BkG,QAAS,iBAAA/L,GAAC,OAAIA,EAAEsK,oBAChE,yBAAKzE,MAAO,CAACsK,QAAS,OAAQC,eAAgB,kBAC5C,wCACA,wBAAUC,QAASJ,EAAMK,QAAS,CAAC,UACjC,0BAAMzK,MAAO,CAACuB,OAAQ,YACnBe,EAAW,wBAAM1G,KAAK,YAnGjC,SAAS8O,2BAEP,OACE,oCACE,wBAAK1K,MAAO,CAAC8G,UAAW,GAAIwD,QAAwB,kBAAfhI,EAAiC,QAAU,SAC9E,wBAAKyD,KAAM,EAAG/F,MAAO,CAAC2K,aAAc,IAClC,wBACEC,KAAK,QACLvF,MAAOrC,GAAc,GACrBmF,SAAU,kBAAAtD,GAAK,OAAI5B,EAAc4B,IACjCgG,YAAY,QACZ7K,MAAO,CAACmG,MAAO,OAAQ2E,YAAa,IAGlCpJ,GAAe9H,KAAI,SAAAmH,GAAI,OACrB,uBAAQyH,OAAR,CAAepM,IAAK2E,GACjBA,QAMX,wBAAKgF,KAAM,EAAG/F,MAAO,CAAC2K,aAAc,IAClC,wBACEC,KAAK,QACLvF,MAAOnC,GAAiB,GACxBiF,SAAU,kBAAA4C,GACR5H,EAAiB4H,GACjB1H,GAAe,OAEjBwH,YAAY,WACZ7K,MAAO,CAACmG,MAAO,OAAQ2E,YAAa,IAGlC,CAAC,KAAM,SAAU,YAAa,gBAAiB,SAAU,kBAAkBlR,KAAI,SAAAmH,GAAI,OACjF,uBAAQyH,OAAR,CAAepM,IAAK2E,GACjBA,QAMX,wBAAKgF,KAAM,KAEY,OAAlB7C,GAA4C,WAAlBA,IACvB,wBACE0H,KAAK,QACLvF,MAAOjC,EACPyH,YAAY,YACZ1C,SAAU,kBAAAhO,GAAC,OAAIkJ,GAAelJ,EAAE6Q,OAAO3F,WAM1B,cAAlBnC,GAAmD,kBAAlBA,IAC9B,wBACE0H,KAAK,QACLxK,KAAK,OACLiF,MAAOjC,GAAe,GACtBpD,MAAO,CAACmG,MAAO,QACf0E,YAAY,YACZ1C,SAAU,kBAAA9C,GAAK,OAAIhC,GAAegC,QAM9C,kBAAC,KAAD,CACEjF,KAAK,OACL6K,WAAY,CAAEC,WAAW,GACzB7F,MAAO7C,EACP2I,iBAAiB,EACjBhD,SAAU,kBAAA9C,GAAK,OAAI5C,EAAe4C,IAClCxK,KAAK,mBACLmF,MAAO,CAACiK,OAAQ,IAAK9D,MAAO,OAAQmE,QAAwB,kBAAfhI,EAAiC,OAAS,SACvF8I,YAAa,CAAEC,iBAAiB,MA2BnCX,GACD,yBAAK1K,MAAO,CAACgI,UAAW,OAAQsD,QAAS,WAAzC,SACA,4BACE,wBAAKvF,KAAM,GACT,wBAAOV,MAAO/B,GAAYsH,KAAK,QAAQC,YAAY,WAAW1C,SAAU,kBAAAhO,GAAC,OAAIoJ,GAAcpJ,EAAE6Q,OAAO3F,YAGxG,yBAAKrF,MAAO,CAACsK,QAAS,OAAQC,eAAgB,aAC5C,wBAAQ3O,KAAK,UAAU2P,OAAK,EAACvL,MAAO,CAAC8K,YAAa,IAAK5E,QAAStC,kBAAhE,UACA,wBAAQhI,KAAK,UAAU4P,SAAUzH,sBAAuBmC,QAAS9B,kBAAjE,UA0YuB+F,KAG3B,yBAAKnK,MAAO,CAACgI,UAAW,SACrBtF,EAAQ9I,KAAK,SAACkH,EAAQN,GAAT,OAtUpB,SAASiL,aAAa3K,EAAQN,GAC5B,SAASkL,iBAAiBC,GACxB,OAAI7K,EAAOgE,UACF6G,EAAS,yIAA2I,kFAEpJA,EAAS,iBAAmB,oBAIvC,SAASC,OAAOvG,GAAsB,IAAfsG,EAAe,wDACpC,OACE,wBACEvP,IAAKiJ,EAAQ7E,EAEbT,UAAWC,KAAM,cACjBsB,MAAOqK,EAAS,uBAAyB,0BACzC3L,MAAO,CAACoB,WAAYsK,iBAAiBC,KALvC,UAOMA,EAAQ,OAAS,GAPvB,YAO6BtG,GAC3B,yBAAKtF,UAAWC,KAAM,2BAA4BA,MAAO,CAAEoB,WAAYuK,EAAQ,yBAA2B,4BACxG,wBAASnB,QAAS1J,EAAOgE,UAAY,kBAAoB,mBACvD,wBACElJ,KAAMkF,EAAOgE,UAAY,UAAY,WACrC9E,MAAO,CAAE4I,SAAU,GAAIrH,OAAQ,WAC/B2E,QAAS,mBACPpF,EAAOgE,WAAahE,EAAOgE,UAC3BnC,EAAW,KAAID,QAKrB,wBAAS9G,KAAK,aACd,wBAAS4O,QAAQ,UACf,wBACE5O,KAAK,SACLoE,MAAO,CAAE4I,SAAU,GAAIrH,OAAQ,WAC/B2E,QAAS,0BAAMvD,EAAWD,EAAQ5B,QAAO,SAAAC,GAAI,OAAIA,IAASD,UAI9D,wBAASlF,KAAK,aAEd,wBAAS4O,QAAQ,QACf,wBACE5O,KAAK,OACLoE,MAAO,CAAE4I,SAAU,GAAIrH,OAAQ,WAC/B2E,QAAS,iBAAC/L,GAKR,GAJAA,EAAEsK,kBACFf,GAAaG,QAAUrD,EACvB2B,GAAsB,GAElBrB,EAAOyD,cAIT,OAHA9B,EAAeyB,KAAK4E,UAAU,CAACnE,MAAO7D,EAAO0B,aAAc,KAAM,IACjED,EAAc,kBACdgB,GAAczC,EAAOwC,YAIvB,IAAId,EAGFA,EADE1B,EAAO0B,YAAYyC,aACP,CAACN,MAAO,CAAC1F,MAAO6B,EAAO0B,YAAYyC,eAEnC,CAACN,MAAO7D,EAAO0B,aAG/BC,EAAeyB,KAAK4E,UAAUtG,EAAa,KAAM,IACjDS,EAAcnC,EAAOkC,YACrBG,EAAiBrC,EAAOoC,eACxBG,GAAevC,EAAOsC,aACtBG,GAAczC,EAAOwC,kBAtEA,IAgF3BN,EAA2ClC,EAA3CkC,WAAYE,EAA+BpC,EAA/BoC,cAAeE,EAAgBtC,EAAhBsC,YAEnC,GAAItC,EAAOwC,WAAY,CAErB,OAAOsI,OAAO9K,EAAOwC,WADC,CAAC,SAAU,gBAAiB,kBACHU,SAASd,IAG1D,GAAIpC,EAAOyD,cAET,OAAOqH,OADO1H,KAAK4E,UAAUhI,EAAO0B,aAAaqJ,QAAQ,MAAO,KAIhE,OAAQ3I,GACN,IAAK,KACH,OAAO0I,OAAO,GAAD,OAAI5I,EAAJ,aAAmBI,IAClC,IAAK,SACH,OAAOwI,OAAO,GAAD,OAAI5I,EAAJ,aAAmBI,IAAe,GACjD,IAAK,YACH,OAAOwI,OAAO,GAAD,OAAI5I,EAAJ,YAAkBE,EAAlB,YAAmCE,EAAY0I,KAAK,OACnE,IAAK,gBACH,OAAOF,OAAO,GAAD,OAAI5I,EAAJ,sBAA4BI,EAAY0I,KAAK,OAAQ,GACpE,IAAK,SACH,OAAOF,OAAO,GAAD,OAAI5I,EAAJ,YAAkBE,IACjC,IAAK,iBACH,OAAO0I,OAAO,GAAD,OAAI5I,EAAJ,YAAyB,IA8NPyI,CAAa3K,EAAQN,W,qBCxtB/CuL,I,KAhBPvK,QAES,SAAXuK,WAEJ,OACE,yBAAKhM,UAAWC,KAAM,iBACpB,wBAAID,UAAWC,KAAK,OAApB,WACA,uBAAGD,UAAWC,KAAM,cAApB,8FACA,kBAAC,GAAD,CACE6B,YAAU,EACVD,aAAc,CAACuE,MAAO,MAAOc,OAAQ,SAAUH,UAAW,S,8GCmEnDkF,GA7EU,SAAnBA,iBAAoB,GAA6F,IAA5FC,EAA4F,EAA5FA,aAAcC,EAA8E,EAA9EA,QAASC,EAAqE,EAArEA,UAAqE,IAA1DC,mBAA0D,MAA5C,GAA4C,MAAxCC,mBAAwC,MAA1B,GAA0B,EAAtBC,EAAsB,EAAtBA,iBAAsB,EACrFpO,mBAASkO,GAD4E,WAC9GG,EAD8G,KACpGC,EADoG,OAEjFtO,mBAAS,IAFwE,WAE9GuO,EAF8G,KAElGC,EAFkG,OAGzExO,oBAAS,GAHgE,WAG9GyO,EAH8G,KAG9FC,EAH8F,OAInF1O,oBAAS,GAJ0E,WAI9G2O,EAJ8G,KAInGC,EAJmG,KAM/GC,EAActJ,iBAAO,MAN0F,4DAQrH,oCAAAtE,EAAA,kEACE2N,GAAa,IACIb,EAFnB,gCAEwC7M,EAAmB,CAAE4N,WAAYX,EAAaY,KAAMV,IAF5F,0DAE+GnN,EAAsBkN,EAAkB,CAAEW,KAAMV,IAF/J,qCAEU5Q,EAFV,EAEUA,KACRmR,GAAa,GACRnR,EAJP,mDAKEsQ,EAAeiB,GAAA,EAAQC,QAAQ,wCAAYD,GAAA,EAAQC,QAAQ,wCAC3DhB,IACAD,IAPF,mDARqH,wFAkBrH,kBAA+BrR,GAA/B,SAAAsE,EAAA,gEACSyN,IAAP/R,GACIkS,EAAYlJ,SAASuJ,aAAaL,EAAYlJ,SAClDkJ,EAAYlJ,QAAUwJ,WAAU,cAAC,qCAAAlO,EAAA,gFACRC,EAAsB,CAAEvE,SADhB,mBACvBc,EADuB,EACvBA,KADuB,iDAG/B+Q,EAAc/Q,GAHiB,kDAI9B,KAPL,mDAlBqH,sBA4BrH,OACE,wBACI2R,MAAOrB,EAAe,uCAAW,2BACjCsB,SAAU,2BAAMrB,KAChBlM,MAAO,CAACwN,WAAY,GAAIC,cAAe,IACvCC,SAAS,EACTvH,MAAO,IACPwH,cAAc,EACdrG,KApC+G,SAQtGsG,eARsG,4CAqC/GC,OAAO,eACPC,WAAW,eACXC,eAAgBlB,GAEhB,2BAAIZ,EAAe,gBAAH,OAAUI,EAAY2B,MAAM,EAAG,GAAGlC,KAAK,UAAvC,kBAAgDO,EAAYpI,OAA5D,yDAAwFqI,EAAxF,iBAChB,wBACElM,KAAK,OACLiF,MAAOkH,EACPnG,KAAMuG,EACN5M,UAAU,mBACVC,MAAO,CAAEmG,MAAO,QAChB0E,YAAY,iCACZoD,sBAAsB,EACtBzH,eAAgB,wBAAA4D,GAAI,OAClB,6BACGA,IAGL8D,gBAAiB,KACjB/F,SAAU,kBAAA9C,GACRmH,EAAYnH,GACZqH,EAAc,IACdE,GAAkB,IAEpBuB,QAAS,0BAAMzB,EAAc,KAC7B0B,aAAc,sBAACxL,EAAYyL,GACzB,OAAO,GAETnG,SAjE6G,SAkBtGoG,gBAlBsG,mDAmE5G7B,EAAW7S,KAAI,SAAA2U,GAAG,OACjB,uBAAQ/F,OAAR,CAAepM,IAAKmS,GACjBA,SC5DAC,GAfE,SAAXA,SAAa1P,GAAY,IACrB2P,EAA0B3P,EAA1B2P,OAAQ9S,EAAkBmD,EAAlBnD,KAER+S,EAF0B5P,EAAZjB,QAEK,uBAAuB8Q,MAAM,aAAa,GAEnE,GAAe,MAAXF,EAAJ,CAEF,IAAMG,EAAO,IAAIC,KAAK,CAAClT,GAAO,CAACC,KAAM,6BAC7BkT,EAAYC,IAAIC,gBAAgBJ,GAChCK,EAAQlQ,SAASmQ,cAAc,KACrCD,EAAMvQ,KAAOoQ,EACbG,EAAMT,SAAWE,EACjBO,EAAME,U,oqBCDV,IAWKC,GAXCC,GAAc/S,IAAM+S,YAEpBC,GAAe,CACnB,kCACA,kCACA,uCACA,uCACA,yCACA,2C,SAGGF,O,uBAAAA,I,qBAAAA,I,yBAAAA,I,uBAAAA,I,6BAAAA,I,4BAAAA,Q,KASL,IAsZeG,GAtZ+B,SAAxCA,UAA8C,MACZrR,mBAAmB,IADP,WAC3CmO,EAD2C,KAC9BmD,EAD8B,OAEJtR,mBAAS,IAFL,WAE3CuR,EAF2C,KAE1BC,EAF0B,OAGxBxR,mBAAS,GAHe,WAG3CyR,EAH2C,KAGpCC,EAHoC,OAI1B1R,mBAAS,GAJiB,WAI3C2R,EAJ2C,KAIrCC,EAJqC,OAK5B5R,mBAAS,IALmB,WAK3C6R,EAL2C,KAKtCC,EALsC,OAMd9R,mBAAS,QANK,WAM3C+R,EAN2C,KAM/BC,EAN+B,OAOpBhS,oBAAS,GAPW,WAO3CiS,EAP2C,KAOlCC,EAPkC,OAQZlS,mBAAS,IARG,WAQ3CmS,EAR2C,KAQ9BC,EAR8B,OASFpS,oBAAS,GATP,WAS3CqS,EAT2C,KASzBC,EATyB,OAUVtS,oBAAS,GAVC,WAU3C+N,EAV2C,KAU7BwE,EAV6B,OAWlBvS,mBAAS,IAXS,WAW3CqO,EAX2C,KAWjCC,EAXiC,QAYFtO,mBAAS,IAZP,aAY3CoO,GAZ2C,MAYzBoE,GAZyB,SAaVxS,mBAAS,IAbC,aAa3CyS,GAb2C,MAa7BC,GAb6B,SAchB1S,mBAAS,GAdO,aAc3C2S,GAd2C,MAchCC,GAdgC,MAiB5CC,GAAkBtN,iBAAO,IACzBuN,GAAYvN,iBAAO,MACnBwN,GAAoBxN,kBAAO,GAgBjC,SAASyN,iBAAmC,IAApBC,EAAoB,wDACpCC,EAAa,GACbC,EAAW,CAACjC,GAAUkC,SAAUlC,GAAUmC,WAAYnC,GAAUoC,SAGtE,OAFAH,EAASrN,SAAS6M,IAAcO,EAAWK,WAAa,MAAUL,EAAWK,WAAa,OAEnFZ,IACL,KAAKzB,GAAUkC,SACf,KAAKlC,GAAUsC,UACbN,EAAWO,MAAQ,YACnB,MACF,KAAKvC,GAAUmC,WACf,KAAKnC,GAAUwC,YACbR,EAAWO,MAAQ,cACnB,MACF,KAAKvC,GAAUyC,SACf,KAAKzC,GAAUoC,QACbJ,EAAWO,MAAQ,aAIvB,IAAMnU,EAAS,0BACbsU,MAAOjC,EACPkC,KAAMZ,GAAc,EAAIpB,GACrBY,GAHO,GAIPS,GAGClU,EAAc,IAAImS,IAAY,SAAA2C,GAAM,OAAIhB,GAAUnN,QAAUmO,KAElE,OAAO5S,EAAqB5B,EAAQN,GAhEY,SAmEnC+U,YAnEmC,8FAmElD,qCAAA9S,EAAA,uEACqC,IAA9B8R,GAAkBpN,SAAmBmN,GAAUnN,SAAWmN,GAAUnN,UAD3E,SAIIoN,GAAkBpN,SAAU,EAJhC,SAK2BqN,iBAL3B,mBAKYvV,EALZ,EAKYA,KACRsV,GAAkBpN,SAAU,EAEvBlI,EART,mDASI+T,EAAmB/T,EAAKuW,OACxBtC,EAASjU,EAAKgU,OAVlB,kDAYI/P,QAAQC,IAAI,kBAZhB,kEAnEkD,gGAqFlD,kBAAmCzC,GAAnC,eAAA+B,EAAA,gFACuBC,EAAuB,CAAChC,cAD/C,OACQ0B,EADR,OAGE0P,GAAS1P,GAHX,mDArFkD,sBA2FlD,SAASqT,SAASpR,GAMhB,SAASqR,cACP5C,EAAenD,EAAYvL,QAAO,SAAAuR,GAAgB,OAAItR,EAAK3D,YAAciV,MAPrD,4DAUtB,kCAAAlT,EAAA,+EACyBC,EAAuB2B,EAAK3D,WADrD,kBACUzB,KACRyW,cACAlF,GAAA,EAAQC,QAAQ,4BAChB8E,YAJF,kDAVsB,sBAiBtB,OACE,yBAAK/L,QAAS,iBAAA/L,GAAC,OAAIA,EAAEsK,oBACnB,wBAAMyB,QAlBV,SAASoM,gBACPlC,GAAW,GACXE,EAAevP,EAAKwR,UAgBY3W,KAAK,MAAMoE,MAAO,CAAC8K,YAAa,EAAGvJ,OAAQ,aACzE,kBAACtB,EAAA,EAAD,CAAMC,GAAE,mBAAca,EAAK3D,WAAa4C,MAAO,CAACsB,MAAO,SACrD,wBAAM1F,KAAK,aAAaoE,MAAO,CAAC8K,YAAa,EAAGvJ,OAAQ,cAE1D,wBAAM3F,KAAK,WAAYsK,QAAS,0BAlHY,SAqFnCsM,oBArFmC,qDAkHNA,CAAoBzR,EAAK3D,YAAY4C,MAAO,CAAC8K,YAAa,EAAGvJ,OAAQ,aAC3G,wBACE+L,MAAO,uBAAGtN,MAAO,CAAEyS,aAAc,IAA1B,8CAAyC1R,EAAK3D,UAA9C,YACPsV,UA1BgB,SAUPC,eAVO,4CA2BhB9E,OAAO,eACPC,WAAW,eACX8E,KAAM,wBAAMhX,KAAK,eAAemE,UAAWC,KAAM,gBAAiBG,MAAM,YAExE,wBAAMvE,KAAK,aAMnB,SAASiX,cAAcC,GAAwC,IAA7B1V,EAA6B,uDAAnB,GAAImP,EAAe,uDAAJ,GACzDiE,GAAoB,GACpBC,EAAgBqC,GAChBtG,EAAYD,GACRnP,GAAWsT,GAAoBtT,GAGrC,SAAS2V,YAAY3V,GACfiP,EAAYrI,SAAS5G,GACvBoS,EAAenD,EAAYvL,QAAO,SAAAC,GAAI,OAAIA,IAAS3D,OAEnDiP,EAAYvQ,KAAKsB,GACjBoS,EAAe,KAAInD,KAIvB,SAAS2G,QAAQ/F,EAAMgG,EAAWC,GAChC,IAAMC,EAAclG,EAAKe,MAAM,EAAGkF,GAElC,OACE,oCAGIC,EAAYvZ,KAAI,SAAC2U,EAAK/N,GACpB,IAAM4S,EAAc7E,EAAItK,OAASgP,EAC3BvF,EAAU0F,EAAa,GAAK,CAAC1F,SAAS,GAE5C,OACE,4BAASJ,MAAOiB,GAASb,EAAzB,CAAmCtR,IAAKmS,IACtC,4BAAM6E,EAAa,GAAH,OAAM7E,EAAI7N,UAAU,EAAGuS,GAAvB,OAAyC1E,OAQ/DtB,EAAKhJ,OAASiP,GACZ,wBAAS1I,QAASyC,EAAKnB,KAAK,WAC1B,qCA+HZ,SAASuH,aACP,QAAKtC,GAAgBlN,QAAQI,QACtBoI,EAAYpI,SAAW8M,GAAgBlN,QAAQI,OAWxD,SAASqP,qBACP,OAAkC,IAA3B7D,EAAgBxL,QAAgBwL,EAAgB8D,OAAM,SAAAxS,GAAI,OAAIsL,EAAYrI,SAASjD,EAAK3D,cAOjG,OAtSAuB,qBAAU,WACRsT,cACC,CAACpC,EAAME,EAAKY,GAAcE,KAE7BlS,qBAAU,WACR6Q,EAAe,MACd,CAACmB,KAEJhS,qBAAU,WACR,IAAM6U,EAAWC,KAAKC,KAAK/D,EAAQI,GAC9ByD,GACD3D,EAAO2D,GAAU1D,EAAQ0D,KAC5B,CAAC7D,IA2RF,oCACE,kBAAC,GAAD,CACE/N,aAAc,CAAC6L,cAAe,IAC9B5L,YAAY,EACZE,aATN,SAAS8G,aAAarL,GACpBoT,GAAgBpT,MAUd,yBAAKwC,MAAO,CAACsK,QAAS,OAAQC,eAAgB,kBAC5C,6BACE,uBAAOoJ,MAAP,CAAatO,MAAO4K,EAAY9H,SAAU,kBAAChO,GAAD,OAAO+V,EAAc/V,EAAE6Q,OAAO3F,SACtE,uBAAOuO,OAAP,CAAcvO,MAAM,QAAO,wBAAMzJ,KAAK,cACtC,uBAAOgY,OAAP,CAAcvO,MAAM,UAAS,wBAAMzJ,KAAK,WAG1C,wBACEwL,aAAckI,GAAa,GAC3BtP,MAAO,CAACmB,WAAY,GAAIgF,MAAO,KAC/BgC,SAAU,kBAAAhO,GAAC,OAAI2W,GAAa3W,KAI1BmV,GAAa1V,KAAI,SAACiB,EAAM2F,GAAP,OACf,uBAAQgI,OAAR,CAAepM,IAAKvB,EAAMwK,MAAO7E,GAC9B3F,QAOX,6BACE,0BAAMmF,MAAO,CAACmB,WAAY,KAA1B,eAAkCkL,EAAYpI,OAA9C,UACA,0BAAMjE,MAAO,CAACmB,WAAY,KACxB,wBAAUgH,SAvEpB,SAAS0L,eAAe1Z,GAGtB,IAFoBA,EAAE6Q,OAAd8I,QAEM,OAAOtE,EAAe,IAHX,oDAKzB,uCAAArQ,EAAA,gFACyB+R,iBADzB,gBACUvV,EADV,EACUA,KACAuW,EAAUvW,EAAVuW,MAERnB,GAAgBlN,QAAUqO,EAAMtY,KAAI,SAAAmH,GAAI,OAAIA,EAAK3D,aACjDoS,EAAgBuB,GAAgBlN,SALlC,mDALyB,sBAazB,OAAKkN,GAAgBlN,QAAQI,OACtBuL,EAAgBuB,GAAgBlN,SAdd,SAKVkQ,WALU,uCAamBA,IA0DAC,cAjD9C,SAASC,0BACP,OAA8B,IAAvB5H,EAAYpI,SAAiBoP,aAgDuBY,GAA2BH,QAAST,cAAvF,iBAEF,0BAAMrT,MAAO,CAACmB,WAAY,KACxB,wBAAUgH,SArFpB,SAAS+L,uBAAuB/Z,GAC9B,IAAM2Z,EAAU3Z,EAAE6Q,OAAO8I,QACnBK,EAAa9H,EAAYhR,OAAOoU,EAAgB7V,KAAI,SAAAmH,GAAI,OAAIA,EAAK3D,cACvE,GAAI0W,EACFtE,EAAe,KAAI,IAAI4E,IAAID,SACtB,CACL,IAAME,EAAwB5E,EAAgB7V,KAAI,SAAAmH,GAAI,OAAIA,EAAK3D,aAC/DoS,EAAenD,EAAYvL,QAAO,SAAA1D,GAAS,OAAKiX,EAAsBrQ,SAAS5G,SA8E7B4W,cAhDtD,SAASM,kCACP,OAAO7E,EAAgBjQ,MAAK,SAAAuB,GAAI,OAAIsL,EAAYrI,SAASjD,EAAK3D,gBAAgBkW,qBA+CXgB,GAAmCR,QAASR,sBAAvG,mCAEF,0BAAMtT,MAAO,CAACmB,WAAY,KACxB,4BAASmM,MAAK,2GAA6BjB,EAAYpI,QAAU,EAAI,CAAEyJ,SAAS,GAAU,IACxF,wBAAQxH,QAAS,0BAAM2M,eAAc,IAAOrH,SAAUa,EAAYpI,OAAS,GAA3E,4CAMN,yBAAKjE,MAAO,CAAC8G,UAAW,KAEpB,oCA3LV,SAASyN,cAEP,OACE,wBAAIxU,UAAU,eAAeC,MAAO,CAACwU,SAAU,OAAQlK,QAAwB,SAAf2F,EAAwB,OAAS,SAE7FR,EAAgB7V,KAAI,SAACmH,GAAS,IACrB3D,EAAyC2D,EAAzC3D,UAAWqX,EAA8B1T,EAA9B0T,YAAsBxH,GAAQlM,EAAjBwR,QAAiBxR,EAARkM,MAClCyH,EAAYrI,EAAYrI,SAAS5G,GAEvC,OACE,wBAAIhB,IAAKgB,EAAW4C,MAAO,CAACqB,KAAM,UAAW8E,MAAO,MAAOsM,aAAc,GAAI3H,YAAa,SACxF,yBAAK/K,UAAW2U,EAAY1U,KAAM8T,QAAU,GAAI9T,MAAO,CAACyI,SAAU,WAAYlC,UAAW,gCAAiCnF,WAAY,SACnIsT,GAAa,wBAAM9Y,KAAK,QAAQoE,MAAO,CAACyI,SAAU,WAAYnH,MAAO,OAAQsH,SAAU,GAAI+L,KAAM,EAAGhM,IAAK,EAAGiM,OAAQ,KACrH,yBAAK5U,MAAO,CAACyI,SAAU,WAAYoM,SAAU,SAAU5K,OAAQ,IAAK1I,OAAQ,WAAY2E,QAAS,0BAAM6M,YAAY3V,KACjH,yBAAK6M,OAAO,OAAOjK,MAAO,CAACmB,WAAY,MAAO2T,UAAW,oBAAqBC,IAAKhU,EAAKwR,QAASyC,QAAS,iBAAC7a,GAAMA,EAAE6Q,OAAO+J,IAAI,+BAAgCE,IAAI,KAClK,yBAAKjV,MAAO,CAAEyI,SAAU,WAAYE,IAAK,EAAGD,MAAO,IAChDyJ,SAASpR,IAGZ,yBAAKf,MAAO,CAACyI,SAAU,WAAYyM,OAAQ,EAAGP,KAAM,IAClD,yBAAK3U,MAAO,CAAEyS,aAAc,GAAI7J,SAAU,GAAIuM,WAAY,MACvD/X,GAGH,6BACGqX,KAMP,yBAAKzU,MAAO,CAACsL,QAAS,EAAGlK,WAAY,SAEjC4R,QAAQ/F,EAAM,EAAG,GAEnB,wBAAM/G,QAAS,0BAAM2M,eAAc,EAAOzV,EAAW6P,IAAOrR,KAAK,UAAUoE,MAAO,CAACuB,OAAQ,oBAyJhGgT,GA9Ib,SAASa,gBACP,OACE,wBAAIpV,MAAO,CAAEsK,QAAwB,SAAf2F,EAAwB,OAAS,UAEnDR,EAAgB7V,KAAI,SAAAmH,GAAQ,IACnB3D,EAAqD2D,EAArD3D,UAAWqX,EAA0C1T,EAA1C0T,YAAsBxH,GAAoBlM,EAA7BwR,QAA6BxR,EAApBkM,MAAMoI,EAActU,EAAdsU,WACxCX,EAAYrI,EAAYrI,SAAS5G,GAEvC,OACE,wBAAI8I,QAAS,0BAAM6M,YAAY3V,IAAYhB,IAAK2E,EAAK3D,UAAW2C,UAAW2U,EAAY1U,KAAM8T,QAAU,GAAI9T,MAAO,CAACmG,MAAO,OAAQ8D,OAAQ,IAAKqB,QAAS,GAAI7C,SAAU,WAAYlH,OAAQ,UAAWuF,UAAW,GAAIP,UAAW,gCAAiCnF,WAAY,SAC1Q,yBAAKpB,MAAO,CAACyI,SAAU,WAAYC,MAAO,GAAIC,IAAK,KAChDwJ,SAASpR,IAEX2T,GAAa,wBAAM9Y,KAAK,QAAQoE,MAAO,CAACyI,SAAU,WAAYnH,MAAO,OAAQsH,SAAU,GAAI+L,KAAM,EAAGhM,IAAK,EAAGiM,OAAQ,KACrH,yBAAK5U,MAAO,CAACsK,QAAS,OAAQC,eAAgB,eAC5C,yBAAKvK,MAAO,CAACyI,SAAU,WAAYwB,OAAQ,GAAI9D,MAAO,GAAI0O,SAAU,SAAUzT,WAAY,SACxF,yBAAK2T,IAAK,8BAA+BC,QAAS,iBAAC7a,GAAMA,EAAE6Q,OAAO+J,IAAI,+BAAgC9K,OAAO,KAAKgL,IAAI,GAAGjV,MAAO,CAACmB,WAAY,MAAO2T,UAAW,uBAEjK,yBAAK9U,MAAO,CAACsK,QAAS,OAAQgL,cAAe,SAAU/K,eAAgB,gBAAiBpJ,WAAY,KAClG,0BAAMnB,MAAO,CAAC4I,SAAU,GAAIuM,WAAY,MAAO/X,GAC/C,8BAAOqX,EAAP,IAAqBY,GACrB,8BAEIrC,QAAQ/F,EAAM,EAAG,GAEnB,wBACE/G,QAAS,iBAAC/L,GACRA,EAAEsK,kBACFoO,eAAc,EAAOzV,EAAW6P,IAElCrR,KAAK,UACLoE,MAAO,CAACuB,OAAQ,qBAgHzB6T,KAKT,wBACEG,iBAAe,EACfC,iBAAe,EACfC,eAAgB,EAChB5R,QAASgM,EACT6F,gBAAiB,GACjBC,gBAAiB,CAAC,KAAM,KAAM,KAAM,MACpChG,MAAOA,EACPxH,SAAU,kBAAA0H,GAAI,OAAIC,EAAQD,IAC1B+F,iBAAkB,0BAAC/F,EAAMjF,GACvBkF,EAAQD,GACRG,EAAOpF,IAET5K,MAAO,CAAC6V,MAAO,QAAS/O,UAAW,MAErC,yBAAK9G,MAAO,CAAC8V,MAAO,WACpB,wBAAOvI,SAAU,2BAAM6C,GAAW,IAAQrQ,UAAU,oBAAoBC,MAAO,CAACwN,WAAY,GAAIC,cAAe,IAAKC,QAASyC,EAAShK,MAAO,IAAK4P,OAAQ,MACxJ,yBAAKhB,IAAK1E,EAAalK,MAAM,OAAO8O,IAAI,MAIxC1E,GACE,kBAAC,GAAD,CACEnE,YAAaG,EACbN,aAAcA,EACdC,QAAS,0BAAMsE,GAAoB,IACnCrE,UAAW8F,UACX5F,YAAaA,EACbC,iBAAkBA,O,4ECzaxB0J,GAAmB,CACvBC,KAAM,CACJ,CACEpb,KAAM,QACNqb,YAAY,GAEd,CACErb,KAAM,SACNqb,YAAY,GAEd,CACErb,KAAM,UACNqb,YAAY,EACZ9O,aAAc,IAEhB,CACEvM,KAAM,MACNqb,YAAY,EACZC,OAAO,GAET,CACEtb,KAAM,WACNqb,YAAY,EACZC,OAAO,GAET,CACEtb,KAAM,aACNqb,YAAY,EACZ9O,aAAc,EACd+O,OAAO,GAET,CACEtb,KAAM,WACNqb,YAAY,EACZ9O,aAAc,EACd+O,OAAO,GAET,CACEtb,KAAM,cACNqb,YAAY,GAEd,CACErb,KAAM,aACNqb,YAAY,IAGhBE,KAAM,CACJ,CACEvb,KAAM,QACNqb,YAAY,GAEd,CACErb,KAAM,SACNqb,YAAY,GAEd,CACErb,KAAM,UACNqb,YAAY,EACZ9O,aAAc,IAEhB,CACEvM,KAAM,YACNqb,YAAY,EACZC,OAAO,GAET,CACEtb,KAAM,UACNqb,YAAY,EACZC,OAAO,GAET,CACEtb,KAAM,SACNqb,YAAY,EACZC,OAAO,GAET,CACEtb,KAAM,QACNqb,YAAY,EACZC,OAAO,IAGXE,MAAO,CACL,CACExb,KAAM,OACNqb,YAAY,GAEd,CACErb,KAAM,SACNqb,YAAY,GAEd,CACErb,KAAM,aACNqb,YAAY,EACZC,OAAO,IAGXG,MAAO,CACL,CACEzb,KAAM,OACNqb,YAAY,GAEd,CACErb,KAAM,SACNqb,YAAY,IAGhBK,QAAS,CACP,CACE1b,KAAM,OACNqb,YAAY,KAYZM,GAAW,SAAXA,SAAY,GAAiB,QAAhBnR,aAAgB,MAAR,GAAQ,EAEjC,OACE,0BAAMrF,MAAO,CAACyW,UAAW,cAAepR,IAuF7BqR,GAnF6C,SAAtDA,cAAuD,GAA6D,IAA3DC,EAA2D,EAA3DA,KAAM/a,EAAqD,EAArDA,KAAMgb,EAA+C,EAA/CA,SAAUC,EAAqC,EAArCA,aAAcC,EAAuB,EAAvBA,iBAAuB,EACxF5Y,mBAAS,IAD+E,WACjH6Y,EADiH,KACvGC,EADuG,KAGhHC,EAAsCN,EAAtCM,kBAAmBC,EAAmBP,EAAnBO,eAErBC,EAAiB,CACrBC,SAAU,CACRC,GAAI,CAAEtR,KAAM,IACZuR,GAAI,CAAEvR,KAAM,IAEdwR,WAAY,CACVF,GAAI,CAAEtR,KAAM,IACZuR,GAAI,CAAEvR,KAAM,MAIVyR,EAAc,CAClBT,WACAU,SAAU,oBACRT,EAAY,IACZE,EAAe,CAAEQ,UAAMC,KAEzBC,aAAc,sBAAAF,GAGZ,OAFAV,EAAY,CAACU,IACbR,EAAe,CAAEQ,UACV,IAILG,EAAkB,CACtBC,gBAAgB,EAChBF,aAAc,sBAAAF,GAEZ,OADAb,EAAaa,IACN,IAIX,OACE,kBAAC,KAAD,KAEI1B,GAAiBpa,GAAMhC,KAAI,gBAAEiB,EAAF,EAAEA,KAAMqb,EAAR,EAAQA,WAAYC,EAApB,EAAoBA,MAAO/O,EAA3B,EAA2BA,aAA3B,OACzB,kBAAC,KAAKlG,KAAN,OAAeiW,EAAf,CAA+B/a,IAAKvB,EAAMkd,MAAOld,IAC9Coc,EAAkBpc,EAAM,CACvBmd,MAAO,CACL,CAAEC,SAAU/B,EAAYhJ,QAAS,GAAF,OAAKrS,EAAL,8BAEjCqd,kBAA+BP,IAAjBvQ,EAA6BA,EAAe,IAJ3D6P,CAMCd,EAAQ,wBAAanW,MAAO,CAACoB,WAAYwV,EAAW,GAAK,UAAWzQ,MAAO,UAAc,wBAAOnG,MAAO,CAACoB,WAAYwV,EAAW,GAAK,kBAM1IA,EACE,kBAAC,KAAK1V,KAAN,OAAeiW,EAAf,CAA+BY,MAAM,SAClCd,EAAkB,OAAQ,CACzBe,MAAO,CACL,CAAEC,UAAU,EAAM/K,QAAS,0CAF9B+J,CAKC,uBAAYO,EACV,4BACE,wBAAM5b,KAAK,WADb,gCAON,kBAAC,KAAKsF,KAAN,OAAeiW,EAAf,CAA+BY,MAAM,QAClCd,EAAkB,MAAO,GAAzBA,CACC,kBAAC,GAAD,OAEF,uBAAYY,EACR,wBAAQjN,KAAK,QAAQ5K,MAAO,CAACmB,WAAY,IAAKgX,QAASrB,GAAvD,oBCxLDsB,GAtBgB,SAAzBA,uBAA2Bxc,EAAMmF,GAAU,IACvCsX,EAAmCtX,EAAnCsX,MAAO1Q,EAA4B5G,EAA5B4G,OAAQ2Q,EAAoBvX,EAApBuX,WAAYzd,EAAQkG,EAARlG,KAEnC,OAAOe,GAEL,IAAK,OACL,IAAK,OACH,gBAAUyc,EAAV,YAAmB1Q,GAGrB,IAAK,QACH,gBAAU9M,EAAV,YAAkB8M,EAAlB,YAA4B2Q,GAE9B,IAAK,QACH,gBAAUzd,EAAV,YAAkB8M,GAEpB,IAAK,UACH,gBAAU9M,KC0DD0d,QAAKC,QAALD,EA5D+B,SAAxCE,qBAAyC,GAAkD,IAAjDrb,EAAiD,EAAjDA,UAAWxB,EAAsC,EAAtCA,KAAM+a,EAAgC,EAAhCA,KAAMpJ,EAA0B,EAA1BA,SAAUpB,EAAgB,EAAhBA,UAAgB,EAC7DjO,oBAAS,GADoD,WACxF2O,EADwF,KAC7EC,EAD6E,KAGvF4L,EAA4B/B,EAA5B+B,wBAmCR,OACE,wBACE3Y,UAAU,0BACVuN,MAAM,eACNnH,MAAO,IACPuH,SAAS,EACTC,cAAc,EACdrG,KAzCJ,SAASqR,WACPD,EAAuB,+BAAE,iBAAOE,EAAKC,GAAZ,iCAAA1Z,EAAA,mEAEnByZ,EAFmB,iDAGjBE,EAAK,IAAIC,SAHQ,MAINve,OAAOF,KAAKue,GAJN,4CAIdhe,EAJc,MAKfme,EAAkB,SAATne,GACNie,EAAGG,OAAOpe,EAAMge,EAAOhe,GAAM6c,MAAQoB,EAAGG,OAAOpe,EAAMge,EAAOhe,KACjEme,EAPiB,oBAQbtB,EAAOmB,EAAOhe,GAAM6c,KAErBmB,EAAOhe,OAAQge,EAAOlR,QAAWkR,EAAOR,MAV1B,wBAWAX,EAAK7c,KAAK6F,UAAUgX,EAAK7c,KAAK0N,YAAY,KAAO,KACjDsQ,EAAOlR,QAAQuF,GAAA,EAAQpQ,MAAM,8CAZ7B,8BAgBboc,EAAgBd,GAAuBxc,EAAMid,GAC7CnK,EAAWgJ,EAAK7c,KAAK6F,UAAU,EAAGgX,EAAK7c,KAAK0N,YAAY,MAI1D2Q,IAAkBxK,EArBH,0CAqBoBxB,GAAA,EAAQpQ,MAAM,yCArBlC,0CAyBvBgQ,GAAa,GAzBU,UA0BA1N,EAAwBhC,EAAWxB,EAAMkd,GA1BzC,iBA0Bfnd,EA1Be,EA0BfA,KACRmR,GAAa,GACbI,GAAA,EAAQC,QAAQ,4BAChBhB,EAAUxQ,GA7Ba,kDAAF,0DAyCrB4R,SAAUA,EACVM,OAAO,eACPC,WAAW,eACXC,eAAgBlB,GAEhB,kBAAC,GAAD,CACE8J,KAAMA,EACN/a,KAAMA,EACNgb,UAAQ,Q,wCCmHDuC,OAAMC,YA9KgB,SAA/BC,YAAgC,EAAeC,GAAQ,IAArB1d,EAAqB,EAArBA,KAAMmZ,EAAe,EAAfA,IAAe,EACzB7W,oBAAS,GADgB,WACpDqb,EADoD,KACzCC,EADyC,OAE3Btb,mBAAS,GAFkB,WAEpDub,EAFoD,KAE1CC,EAF0C,OAGbxb,mBAAS,GAHI,WAGpDyb,EAHoD,KAGnCC,EAHmC,OAIjC1b,mBAAS,IAJwB,WAIpD2b,EAJoD,KAI7CC,EAJ6C,KAMrDC,EAAQtW,iBAAO,MACfuW,EAAcvW,iBAAO,MACrBwW,EAAexW,iBAAO,MAE5B,SAASyW,cACPV,GAAa,GACbM,EAAS,IACTG,EAAapW,SAAWsW,qBAAqBF,EAAapW,SAwC5D,SAASuW,kBACP,IAAMC,EAAY,IAAIC,WAAW,IACjCL,EAAapW,QAAU0W,sBAAsBH,iBAE7CJ,EAAYnW,QAAQ2W,qBAAqBH,GAEzCP,EAASW,MAAMC,KAAKL,IAmEtB,OAlFA1b,qBAAU,YA5BV,SAASgc,YAgBP,GAfAZ,EAAMlW,QAAQkR,IAAMA,EACpBgF,EAAMlW,QAAQ+W,YAAc,YAC5Bb,EAAMlW,QAAQgX,QAAU,WACxBd,EAAMlW,QAAQiX,iBAAmB,WAE/BpB,EAAYjG,KAAKsH,MAAMhB,EAAMlW,QAAQ4V,YAEvCM,EAAMlW,QAAQmX,aAAe,SAAC7gB,GAC5Byf,EAAmBnG,KAAKsH,MAAMhB,EAAMlW,QAAQoX,eAE9ClB,EAAMlW,QAAQqX,QAAU,WACtBhB,cACAH,EAAMlW,QAAQoX,YAAc,GAGjB,UAATrf,EAAkB,CACpB,IAAMuf,EAAU,IAAIC,aACdrG,EAAMoG,EAAQE,yBAAyBtB,EAAMlW,SAC7CyX,EAAWH,EAAQI,iBACzBvB,EAAYnW,QAAUyX,EACtBvG,EAAIyG,QAAQF,GACZA,EAASE,QAAQL,EAAQM,aAEzBH,EAASI,QAAU,KAKrBf,KACC,CAAC/e,IAEJ+C,qBAAU,WACRub,gBACC,CAACte,EAAMmZ,IA6ER,oCAEa,UAATnZ,EAEE,2BAAOmZ,IAAKA,EAAKuE,IAAKS,EAAO5T,MAAM,SAGnC,6BACE,2BAAO4O,IAAKA,EAAKuE,IAAKS,EAAOa,YAAY,cACzC,yBAAK5a,MAAO,CAACsK,QAAS,OAAQC,eAAgB,SAAUoR,WAAY,SAAU1R,OAAQ,MA/ChG,SAAS2R,eAEP,IAAK/B,EAAM5V,OAAQ,CAEjB,IADA,IAAI4X,EAAM,GACDtiB,EAAI,EAAGA,EAAI,GAAIA,IACbsiB,EAAItiB,GAAbA,EAAI,EAAc,GAAgB,GAGpC,OAAOsiB,EAAIjiB,KAAI,SAACqQ,EAAQzJ,GAAT,OACb,yBAAKpE,IAAKoE,EAAOR,MAAO,CAAEiK,UAAUlK,UAAWC,KAAK,cAKxD,OAAO6Z,EAAMjgB,KAAI,SAACmM,EAAMvF,GACtB,IAMMyJ,EAAU,IANClE,EACF,GAKA,IAHA,GAKf,OAAO,yBAAK3J,IAAKoE,EAAOR,MAAO,CAAEiK,UAAUlK,UAAWC,KAAK,cAyBhD4b,KAMX,wBAAK5b,MAAO,CAAC8G,UAAW,GAAIwD,QAAS,OAAQqR,WAAY,SAAUlT,SAAU,WAAYyM,QAAS,GAAI/O,MAAO,SAC3G,wBAAKJ,KAAM,GACT,yBAAKG,QAnFb,SAAS4V,oBACP,GAAI/B,EAAMlW,QAAQkY,QAIhB,GAHAhC,EAAMlW,QAAQmY,OACdxC,GAAa,GAEA,UAAT5d,EAAkB,CACF,IAAI0e,WAAW,IACjCF,wBAGFL,EAAMlW,QAAQoY,QACd/B,eAwEqC/T,MAAM,OAAO4O,IAAG,yBAAoBwE,EAAY,QAAU,OAA1C,QAAwDvZ,MAAO,CAACuB,OAAQ,WAAY0T,IAAI,MAE3I,wBAAKlP,KAAM,EAAG/F,MAAO,CAAC4H,YAAa,KA/BzC,SAASsU,eACP,SAASC,iBAAiBvV,GACxB,OAAOA,EAAO,GAAP,WAAgBA,GAASA,EAElC,IAAMwV,EAAY,GAAH,OAAMD,iBAAiB1I,KAAKsH,MAAMtB,EAAW,KAA7C,YAAqD0C,iBAAiB1C,EAAW,KAC1FwB,EAAc,GAAH,OAAMkB,iBAAiB1I,KAAKsH,MAAMpB,EAAkB,KAApD,YAA4DwC,iBAAiBxC,EAAkB,KAEhH,gBAAUsB,EAAV,YAAyBmB,GAyBlBF,IAEH,wBAAKnW,KAAM,IACT,wBACEV,MAAOsU,EACP5Z,UAAU,iBACVsc,aAAc,KACdC,IAAK7C,EACLtR,SAAU,kBAAC9C,GACT0U,EAAMlW,QAAQoX,YAAc5V,EAC5BuU,EAAmBvU,OAKd,UAATzJ,GACE,wBAAKmK,KAAM,EAAG/F,MAAO,CAAC4H,YAAa,KACjC,wBAAM1B,QAxFlB,SAASqW,mBACHxC,EAAMlW,QAAQ2Y,kBAChBzC,EAAMlW,QAAQ2Y,oBACLzC,EAAMlW,QAAQ4Y,qBACvB1C,EAAMlW,QAAQ4Y,uBACL1C,EAAMlW,QAAQ6Y,wBACvB3C,EAAMlW,QAAQ6Y,0BACL3C,EAAMlW,QAAQ8Y,qBACvB5C,EAAMlW,QAAQ8Y,uBAgF2B/gB,KAAK,aAAaoE,MAAO,CAACuB,OAAQ,mB,2pBC/JzEC,G,KAAAA,QAEFob,GAAkB,CAAC,OAAQ,OAAQ,QAAS,QAAS,WAIrDC,GAAsB,GAE5BD,GAAgBzgB,SAAQ,SAAAP,GACtBihB,GAAoBjhB,GAAQ,KAO9B,IA8Ve2c,QAAKC,QAALD,EA9VwB,SAAjCuE,cAAkC,GAAoC,IAAnC7d,EAAmC,EAAnCA,MAAO6C,EAA4B,EAA5BA,QAAS6U,EAAmB,EAAnBA,KAAmB,KAAbpX,QAC3BrB,mBAAS,OAD+B,WACnE6e,EADmE,KACxDC,EADwD,OAElC9e,mBAAS,IAFyB,WAEnE+e,EAFmE,KAErDC,EAFqD,OAGlChf,mBAAS0e,GAAgB,IAHS,WAGnEO,EAHmE,KAGrDC,EAHqD,OAI5Blf,oBAAS,GAJmB,WAInEmf,EAJmE,KAIlDC,EAJkD,OAKhCpf,mBAAiB,IALe,WAKnEqf,EALmE,KAKpDC,EALoD,OAMtBtf,mBAAS2e,IANa,WAMnEY,EANmE,KAM/CC,EAN+C,OAO1Bxf,oBAAS,GAPiB,WAOnEqS,EAPmE,KAOjDC,EAPiD,OAQ1BtS,mBAAS,IARiB,WAQnEyf,EARmE,KAQjDC,EARiD,OASxB1f,oBAAS,GATe,WASnE2f,GATmE,KAShDC,GATgD,QAU1B5f,oBAAS,GAViB,aAUnE4Y,GAVmE,MAUjDiH,GAViD,SAW5B7f,oBAAS,GAXmB,aAWnE8f,GAXmE,MAWlDC,GAXkD,SAYpB/f,oBAAS,GAZW,aAYnEggB,GAZmE,MAY9CC,GAZ8C,MAclE/gB,GAAc6B,EAAMzB,OAApBJ,UAEAsb,GAA4C/B,EAA5C+B,wBAAyBxB,GAAmBP,EAAnBO,eAhByC,wEAkB1E,kBAAkCkH,GAAlC,iBAAAjf,EAAA,mEACOif,EADP,iEAEyBhf,EAA0BhC,GAAW+f,EAAciB,GAF5E,gBAEUziB,EAFV,EAEUA,KAGRub,GAAevb,GACf6hB,EAAiB7hB,GANnB,mDAlB0E,+BA2B3D0iB,aA3B2D,iGA2B1E,yDAAAlf,EAAA,uEAA0Bmf,EAA1B,yCACyBlf,EAAsBhC,IAD/C,mBACUzB,EADV,EACUA,KADV,iDAGQ4iB,EAAiB,GAEvB3B,GAAgBzgB,SAAQ,SAAAP,GACtB2iB,EAAe3iB,GAAQ,MAGnB4iB,EATR,8BAUOD,EAVP,GAWO5iB,GAGLqhB,EAAawB,GACTF,IACIG,EAAWrG,GAAuB,OAAQoG,EAAMvI,KAAK,IAAM,IACjEiH,EAAgBuB,IAjBpB,oDA3B0E,sBA0E1E,SAASC,gBAAgBvkB,GACvB+iB,EAAgB/iB,EAAEiC,KA3EsD,SA+G3DuiB,iBA/G2D,sHA+G1E,kBAAgCjH,GAAhC,mBAAAvY,EAAA,uEACQ2Z,EAAK,IAAIC,UACZE,OAAO,OAAQvB,GAClBqG,IAAoB,GAHtB,SAIyB3e,EAA+BhC,GAAW+f,EAAcF,EAAcnE,GAJ/F,mBAIUnd,EAJV,EAIUA,KACRoiB,IAAoB,GACfpiB,EANP,0CAMoBuR,GAAA,EAAQpQ,MAAM,6BANlC,QAQEoQ,GAAA,EAAQC,QAAQ,4BAChB+J,GAAe,CAAC0H,IAAKjjB,EAAKijB,MAT5B,oDA/G0E,gGAmJ1E,6BAAAzf,EAAA,gEACEuZ,GAAuB,+BAAE,kBAAOE,EAAKC,GAAZ,eAAA1Z,EAAA,oEACnByZ,EADmB,iEAEAxZ,EAA2BhC,GAAW+f,EAAcF,EAAcpE,GAFlE,qBAEfld,KAFe,iDAIvBuR,GAAA,EAAQC,QAAQ,4BAChBkR,aALuB,mDAAF,yDADzB,mDAnJ0E,sBA+J1E,SAAS1L,aAAakM,GAAa,0DACjC,kCAAA1f,EAAA,mEACmB0f,EADnB,gCACuCzf,EAA2BhC,GAAW+f,EAAcF,GAD3F,yDACiH7d,EAAuBhC,IADxI,mCACUzB,KAERuhB,EAAgB,IAChBhQ,GAAA,EAAQC,QAAQ,4BAChB0R,GAAeR,cACdQ,GAAe/c,EAAQhG,KAAK,YAN/B,mDADiC,sBAUjC,KAAMgjB,QAAQ,CACZjR,OAAQ,eACRC,WAAY,eACZR,MAAO,iCAAF,OAAUuR,EAAc5B,EAAe7f,GAAvC,UACLkK,KAJY,iBAVmB,SAClByX,cADkB,0CAe7BA,IAEFxR,SAPY,wBAoBhB,GA7IA5O,qBAAU,WACR0f,YAAW,KACV,IAEH1f,qBAAU,YApDgE,SAkB3DqgB,mBAlB2D,oDAqDxEA,CAAmB/B,KAClB,CAACA,IAuGJrd,QAAQC,IAAIkd,IAgCPA,EAAW,OAAO,KA7LmD,IA+LlEtI,GAAsDsI,EAAtDtI,YAAawK,GAAyClC,EAAzCkC,UAAW5J,GAA8B0H,EAA9B1H,WAAYpI,GAAkB8P,EAAlB9P,KAAMiS,GAAYnC,EAAZmC,QA/LwB,SA4M3DC,wBA5M2D,2IA4M1E,kBAAuChlB,GAAvC,iBAAAgF,EAAA,mEACQsV,EAActa,EAAE6Q,OAAO3F,MAD/B,uBAGI6H,GAAA,EAAQpQ,MAAM,8CACdghB,IAAqB,GAJzB,0CAOyB1e,EAAuBhC,GAAW,CAAEqX,gBAP7D,kBAOU9Y,KAERuR,GAAA,EAAQC,QAAQ,4BAChB6P,EAAa,8BAAID,EAAL,CAAgBtI,iBAC5BqJ,IAAqB,GAXvB,oDA5M0E,wGA0N1E,mCAAA3e,EAAA,oEACM+e,GADN,wDAEEC,IAAuB,GAFzB,SAGuB/e,EAA6BhC,GAAW+f,EAAcF,GAH7E,UAGQne,EAHR,OAIEqf,IAAuB,GAClBrf,EALP,iDAME0P,GAAS1P,GANX,oDA1N0E,gGAmO1E,mCAAAK,EAAA,uEACE8e,IAAmB,GADrB,SAEuB7e,EAAuB,CAAChC,eAF/C,UAEQ0B,EAFR,OAGEmf,IAAmB,GACdnf,EAJP,iDAKE0P,GAAS1P,GALX,mDAnO0E,sBA2O1E,OACE,oCACE,wBAAYkB,MAAO,CAACyS,aAAc,KAChC,uBAAYvR,KAAZ,KAAiB,kBAACjB,EAAA,EAAD,CAAMC,GAAG,YAAT,uBACjB,uBAAYgB,KAAZ,qCAEF,yBAAKlB,MAAO,CAACoB,WAAY,OAAQkK,QAAS,GAAIhB,QAAS,OAAQ7B,SAAU,WAAYgK,aAAc,KACjG,yBAAKzS,MAAO,CAACyI,SAAU,WAAYC,MAAO,GAAIC,IAAK,KACjD,wBAAQ/M,KAAK,SAAS2P,OAAK,EAACvL,MAAO,CAACmG,MAAO,IAAKD,QAASyM,cAAzD,gBACA,wBAAQ/W,KAAK,UAAU2P,OAAK,EAACvL,MAAO,CAACmG,MAAO,GAAI2E,YAAa,GAAI3J,WAAY,IAAK+E,QAAS,0BAAMsK,GAAoB,KAArH,4BACA,wBAAQ5U,KAAK,UAAUoE,MAAO,CAACmG,MAAO,IAAKD,QArPuB,SAmO3DkZ,sBAnO2D,mDAqPOjH,QAAS6F,IAAlF,iBAEF,yBAAKhe,MAAO,CAACmG,MAAO,IAAK8D,OAAQ,IAAK4K,SAAU,SAAU/J,YAAa,GAAI1J,WAAY,YACrF,yBAAK2T,IAAKgI,EAAUxK,QAAStI,OAAO,OAAOgL,IAAI,GAAGjV,MAAO,CAACmB,WAAY,MAAO2T,UAAW,uBAE1F,yBAAK9U,MAAO,CAACqB,KAAM,IACjB,yBAAKrB,MAAO,CAACiK,OAAQ,IAAKK,QAAS,OAAQgL,cAAe,SAAU/K,eAAgB,kBAClF,6BAAMnN,IACN,6BACE,+DAGIygB,GACE,wBACEjT,KAAK,QACLxD,aAAcqN,GACdzU,MAAO,CAACmG,MAAO,KACfkZ,aAAc,sBAACllB,GAAD,OAAOglB,wBAAwBhlB,IAC7CmlB,OAAQ,gBAACnlB,GAAD,OAAOglB,wBAAwBhlB,MAEvCsa,IAGR,wBAAM7Y,KAAK,OAAOoE,MAAO,CAAEmB,WAAY,GAAII,OAAQ,WAAa2E,QAAS,0BAAM4X,IAAqB,OAEtG,6BAAMmB,GAAWA,GAAY,SAAM,GAAI5J,IACvC,yBAAKrV,MAAO,CAACiK,OAAQ,IAAK7I,WAAY,UAAWkK,QAAS,GAAIuJ,SAAU,OAAQpC,aAAc,KAC3FxF,GAAKrT,KAAI,SAAA2U,GAAG,OACX,wBAAKnS,IAAKmS,GAAMA,QAItB,6BAAM2Q,MAIV,4BACE,wBAAKnZ,KAAM,IACT,yBAAK/F,MAAO,CAACoB,WAAY,OAAQ0J,YAAa,GAAIQ,QAAS,GAAIrB,OAAQ,MACrE,wBACElK,UAAU,yBACVgH,iBAAiB,IACjBoB,SAAU,kBAAAvM,GACRwhB,EAAgBxhB,GAChBshB,EAAgBH,EAAUnhB,GAAM,IAAMwc,GAAuBxc,EAAMmhB,EAAUnhB,GAAM,OAGnFghB,GAAgBhjB,KAAI,SAAAgC,GAAI,OACtB,kBAAC,GAAD,CACEoL,IAAKpL,EAAK2jB,OAAO,GAAGC,cAAgB5jB,EAAKoS,MAAM,GAC/C5R,IAAKR,EACLoE,MAAO,CAACyN,cAAe,GAAIxD,OAAQ,MA1NrD,SAASwV,YAAY7jB,GAEnB,OACE,oCACE,wBAAQsK,QAAS,0BAAMoX,GAAmB,IAAO1K,KAAK,OAAO5S,MAAO,CAACsL,QAAS,SAAUrE,OAAQ,WAAhG,gBACA,uBACEf,QAASwY,gBACT1e,MAAO,CAAEmG,MAAO,QAChBuZ,oBAAqB,CAAC,KACtBC,gBAAiB,CAAC,QAClBvf,KAAK,SACLC,aAAc,CAAC4c,IAEdrd,QAAQC,IAAIjE,GACZmhB,EAAUnhB,GAAMoS,MAAuC,GAAhCyP,EAAmB7hB,GAAQ,GAAyC,GAAhC6hB,EAAmB7hB,GAAQ,GAAS,GAAGhC,KAAI,SAACmH,EAAMP,GAAP,OACrG,sBAAMU,KAAN,CAAW9E,IAAKgc,GAAuBxc,EAAMmF,IAAQqX,GAAuBxc,EAAMmF,QAGtF,wBACEhB,UAAU,uBACV4P,MAAOoN,EAAUnhB,GAAMqI,OACvB2G,KAAK,QACLzC,SAAU,kBAAAtE,GACR6Z,EAAsB,8BAAID,EAAL,QAA0B7hB,EAAOiI,KACtDqZ,EAAgB9E,GAAuBxc,EAAMmhB,EAAUnhB,GAAsB,GAAfiI,EAAU,OAE1E+b,SApHQ,EAqHRC,UAAW,2CAAU9C,EAAUnhB,GAAMqI,OAA1B,cAiMAwb,CAAY7jB,UAQzB,wBAAKmK,KAAM,GAAI/F,MAAO,CAACoB,WAAY,OAAQkK,QAAS,GAAIrB,OAAQ,MAE5DgT,GACE,oCACE,2BAAIA,GACJ,0BAAMjd,MAAO,CAAC6V,MAAO,QAAS/O,WAAY,KACxC,wBAAMlL,KAAK,WAAWoE,MAAO,CAAC4I,SAAU,GAAIkC,YAAa,GAAIvJ,OAAQ,WAAY2E,QAxTvB,SA0N3D4Z,0BA1N2D,yDAyT1D,wBAAMlkB,KAAK,SAASoE,MAAO,CAAC4I,SAAU,GAAIrH,OAAQ,WAAY2E,QAAS,0BAAMyM,cAAa,OAE5F,+BAhMd,SAASoN,qBACP,OACE,wBAAMnkB,KAAK,OAAOmE,UAAU,yBAAyBoI,SAAU,kBAAAnB,GAAG,OAAI4W,EAAoB5W,KACxF,kBAAC,GAAD,CAASA,IAAI,eAAK5K,IAAI,gBACpB,yBAAK4D,MAAO,CAACsL,QAAS,GAAIrB,OAAQ,IAAK7I,WAAY,UAAWqH,SAAU,aAvEhF,SAASuX,aACP,OAAQ7C,GACN,IAAK,QACL,IAAK,QACH,OACE,kBAAC,GAAD,CAAavhB,KAAMuhB,EAAcpI,IAAMwI,GAAiBA,EAAcqB,KAAQ,KAGlF,QACE,OACE,yBAAK5e,MAAO,CAACmG,MAAO,OAAQ6B,UAAW,SAAUrH,WAAY,UAA7D,mCA8DGqf,KAGL,kBAAC,GAAD,CAAShZ,IAAI,eAAK5K,IAAI,eAAK6jB,aAAa,GACtC,yBAAKjgB,MAAO,CAACsL,QAAS,GAAIrB,OAAQ,IAAK7I,WAAY,UAAWqH,SAAU,WAAYoM,SAAU,SAC5F,kBAAC,GAAD,CACE8B,KAAMA,EACN/a,KAAMuhB,EACNvG,UAAU,EACVC,aAAc8H,iBACd7H,iBAAkBA,MAGA,iBAArB6G,GAA6B,wBAAQzX,QAAS,0BA7ImB,SAmJ3Dga,sBAnJ2D,kDA6IbA,IAAuBlgB,MAAO,CAAC6V,MAAO,QAAS/O,UAAW,KAAjF,8BA+KvBiZ,MAST1C,GACE,kBAAC,GAAD,CACEjgB,UAAWA,GACXxB,KAAMuhB,EACNhR,UArJV,SAASgU,oBAAoBxkB,GAC3B2hB,GAAmB,GACnBN,EAAa,8BACRD,EADO,WAELI,EAAexhB,EAAKwhB,OAkJnB5P,SAAU,2BAAM+P,GAAmB,MAMvC/M,GACE,kBAAC,GAAD,CACEnE,YAAa2Q,EAAU9P,KACvBhB,cAAc,EACdE,UAAWkS,WACXnS,QAAS,0BAAMsE,GAAoB,IACnClE,iBAAkBlP,S,sCChXxBiS,GAAc/S,IAAM+S,YAkBpB+Q,GACK,iCADLA,GAEO,qBAFPA,GAIG,iCAJHA,GAKE,2BAyJOC,GAtJwB,SAAjCA,cAAkC,GAA8D,IAA5DjjB,EAA4D,EAA5DA,UAAWkjB,EAAiD,EAAjDA,MAAOC,EAA0C,EAA1CA,SAAUC,EAAgC,EAAhCA,oBAAqBC,EAAW,EAAXA,KAAW,EACpEviB,mBAAwB,MAD4C,WAC7FwiB,EAD6F,KACnFC,EADmF,OAE5DziB,mBAAS,GAFmD,WAE7F0iB,EAF6F,KAE/EC,EAF+E,OAGxE3iB,mBAASkiB,IAH+D,WAG7F3R,EAH6F,KAGrFqS,EAHqF,OAItE5iB,oBAAS,GAJ6D,WAI7F6iB,EAJ6F,KAIpFC,EAJoF,KAM9FC,EAAYxd,iBAAO,GACnByd,EAAczd,iBAAO,MACrB0d,EAAc1d,iBAAO,KAAI6c,IACzBtP,EAAYvN,iBAAO,MACnB2d,EAAgB3d,iBAAO,MACvB4d,EAAe5d,iBAAO,GACtB6d,EAAqB7d,iBAAO,GAC5B8d,EAAa9d,kBAAO,GAE1B,SAAS+d,oBACPC,eAhBkG,SAmBrFA,eAnBqF,uGAmBpG,kCAAAtiB,EAAA,sEACE2hB,EAAUV,IADZ,kBAG2BhhB,EAAkB,CAAEsiB,UAAWR,EAAYrd,QAAQ6d,YAH9E,kBAGY/lB,KACR6kB,EAAoBpjB,GAJxB,qDAMQkkB,EAAmBzd,SAAW,GANtC,0CAOaqJ,GAAA,EAAQpQ,MAAM,+CAP3B,QASIwkB,EAAmBzd,QAAUyd,EAAmBzd,QAAU,EAC1D2d,oBAVJ,gEAnBoG,sBAkCpG,SAASxM,UACP,IAAIuM,EAAW1d,QAAf,CACA,GAAIwd,EAAaxd,SAAW,EAC1B,OAAOqJ,GAAA,EAAQpQ,MAAMsjB,IAIvBiB,EAAaxd,QAAUwd,EAAaxd,QAAU,EAC9ClG,OAAOyjB,EAAcvd,QAAS+c,IAGhC,SAASzU,UAAUwV,EAAajK,GAC9B2J,EAAaxd,QAAU,EACvBgd,EAAgBc,EAAcjK,EAAK9M,MACnCjN,OAAOwjB,EAAYtd,QAAQ3E,MAAOyiB,EAAcjK,EAAK9M,MAhD6C,SAmDrFjN,OAnDqF,wFAmDpG,kBAAsB+Z,GAAtB,uCAAAvY,EAAA,mEAA4BwiB,EAA5B,+BAA0C,EACnCjK,EADP,yCACoB+J,gBADpB,gBAGmCP,EAAYrd,QAArC6d,EAHV,EAGUA,UAAWtkB,EAHrB,EAGqBA,WACb0b,EAAK,IAAIC,UAEZE,OAAO,YAAayI,GACvB5I,EAAGG,OAAO,YAAa7b,GACvB0b,EAAGG,OAAO,OAAQvB,GAEZxa,EAAc,IAAImS,IAAa,SAAAuS,GAAM5Q,EAAUnN,QAAU+d,KAVjE,mBAa2BxiB,EAAgB0Z,EAAI5b,GAb/C,mBAaYvB,KACRwQ,UAAUwV,EAAajK,GAd3B,kDAkBI0J,EAAcvd,QAAU6T,EACxB1C,UAnBJ,kEAnDoG,0FA0EpG,uCAAA7V,EAAA,uEACQ2Z,EAAK,IAAIC,UACZE,OAAO,OAAQsH,GAFpB,SAGyBnhB,EAAuB0Z,GAHhD,gBAGUnd,EAHV,EAGUA,KAERglB,EAAYhlB,GACZulB,EAAYrd,QAAUlI,EACtBmlB,EAAUV,IACVziB,OAAOwjB,EAAYtd,QAAQ3E,OAR7B,oDA1EoG,sBA4FpG,SAAS2iB,kBAAkBjX,GACzB,OAAQA,EAAO,SAAekX,QAAQ,GAyBxC,OALAnjB,qBAAU,YAjH0F,SA0ErFojB,mBA1EqF,+CAkHlGA,GA7BF,SAASC,oBACP,IAAMpX,EAAO0V,EAAM2B,QAAO,SAACrX,EAAMsX,GAC/B,OAAOtX,EAAOsX,EAAYtX,OACzB,GACHqW,EAAUpd,QAAU+G,EA0BpBoX,KACC,IAEEtB,GACAD,EAGH,uBAAMvf,KAAN,KACE,wBAAKlB,MAAO,CAAEmG,MAAO,OAAQmE,QAAS,OAAQqR,WAAY,WACxD,wBAAK5V,KAAM,GACT,6BAAM3I,GACN,uCAASsjB,EAASjM,aAAlB,OAAgCiM,EAASjM,YAAc,IAAM,IAA7D,OAAkEiM,EAASyB,cAA3E,iBAEF,wBAAKpc,KAAM,EAAG/F,MAAO,CAACgI,UAAW,WAC9B0Y,EAASrL,YAEZ,wBAAKtP,KAAM,GACT,wBACEqc,QAASxB,EAAeK,EAAUpd,QAAU,IAC5Cwe,UAAU,EACVC,YAAY,YAEd,yBAAKtiB,MAAO,CAAEsK,QAAS,OAAQC,eAAgB,kBAC7C,wCAAUkE,EAAV,QACA,wCAAUoT,kBAAkBjB,GAA5B,cAA+CiB,kBAAkBZ,EAAUpd,SAA3E,SAGJ,wBAAK0e,OAAQ,EAAGxc,KAAM,EAAG/F,MAAO,CAACgI,UAAW,UAC1C,0BAAMhI,MAAO,CAAEuB,OAAQ,UAAWD,MAAO,WAAa4E,QAlC9D,SAASsc,sBACPzB,EAdF,SAAS0B,SACP9kB,OAAOyjB,EAAcvd,QAAS+c,GAC9BI,GAAW,GACXO,EAAW1d,SAAU,EAWX4e,GARZ,SAASxG,QACP,GAAIxN,IAAW2R,GAAc,OAAOlT,GAAA,EAAQpQ,MAAM,gEAClDkkB,GAAW,GACXO,EAAW1d,SAAU,EACrBmN,EAAUnN,SAAWmN,EAAUnN,UAIVoY,KAiCsE8E,EAAU,eAAO,mBAzBxF,M,wrBCzIxB,IAAM1R,GAAc/S,IAAM+S,YAEpBqT,GAAa,CAAC,OAAQ,OAAQ,UAAW,QAAS,QAAS,WAwUlDC,GAtUU,SAAnBA,iBAAoB,GAAc,EAAbpjB,QAAa,MACdrB,mBAAS,GADK,WAC/B2R,EAD+B,KACzBC,EADyB,OAEhB5R,mBAAS,IAFO,WAE/B6R,EAF+B,KAE1BC,EAF0B,OAGd9R,mBAAS,IAHK,WAG/ByI,EAH+B,KAGzBic,EAHyB,OAII1kB,mBAAS,IAJb,WAI/B2kB,EAJ+B,KAIhBC,EAJgB,OAKV5kB,mBAAS,IALC,WAK/BqH,EAL+B,KAKvBwd,EALuB,OAMZ7kB,mBAAS,GANG,WAM/ByR,EAN+B,KAMxBC,EANwB,OAOM1R,oBAAS,GAPf,WAO/B8kB,EAP+B,KAOfC,EAPe,OAQE/kB,mBAASmJ,OAASM,OAAO,eAR3B,WAQ/BvF,EAR+B,KAQjBC,EARiB,KAUhCie,EAAQ7c,iBAAO,IACfyf,EAAoBzf,iBAAO,IAC3B0f,EAAgB1f,kBAAO,GACvB2f,EAAoB3f,kBAAO,GAC3BuN,EAAYvN,iBAAO,MACnB4f,EAAc5f,kBAAO,GAErB6f,EAAW3T,EAAQkT,EAAc5e,OAjBD,SAmBvBsf,kBAnBuB,gHAmBtC,4CAAApkB,EAAA,sEACMkkB,EAAYxf,SACdmN,EAAUnN,SAAWmN,EAAUnN,UAG3BrG,EAAS,CACbgmB,eAAgBphB,EAChBhF,UAAWmI,EACXuM,MAAOjC,EACPkC,KAAMhC,EACN0T,QAASP,EAAkBrf,QAAQI,QAG/B/G,EAAc,IAAImS,IAAa,SAAAuS,GAAC,OAAI5Q,EAAUnN,QAAU+d,KAbhE,SAgBIyB,EAAYxf,SAAU,EAhB1B,SAiB2BzE,EAA2B5B,EAAQN,GAjB9D,gBAiBYvB,EAjBZ,EAiBYA,KACR0nB,EAAYxf,SAAU,EACdqO,EAAiBvW,EAAjBuW,MAAOvC,EAAUhU,EAAVgU,MACfiT,EAAQ1Q,GACRtC,EAASD,GArBb,kDAuBI/P,QAAQC,IAAI,oBAvBhB,iEAnBsC,sBA6DtC,SAAS6jB,aAAahM,EAAMiM,GAU1B,IAAMC,EAAS,IAAIC,WACnBD,EAAOE,OAVP,SAASC,aAAaC,IAoCxB,SAASC,sBAAsBC,EAAUC,EAAcR,GAErD,SAASS,QAAQvpB,GACf,IAAMwpB,EAAQF,EAAa7D,MAAM9gB,MAAK,SAAAkY,GACpC,OAAO7c,IAAS6c,EAAK7c,QAIvB,OADKwpB,GAIP,SAASC,mBAAmBzpB,GAE1BqS,GAAA,EAAQpQ,MAAR,4BAAoB6mB,EAApB,+CAAuC9oB,GAAQ,IANnCypB,CAAmBzpB,GACxBwpB,EAQT,SAASE,YAAY1pB,EAAM+jB,GACzB,IAAM4F,EAAY5F,EAAIrW,YAAY,KAGlC,OAAO1N,EAFU+jB,EAAIle,UAAU8jB,GAlBgC,2BAwBjE,YAAiB9B,GAAjB,+CAA6B,KAApB9mB,EAAoB,QAC3B,GAAKsoB,EAAStoB,GAEd,GAAa,YAATA,EAAJ,CAH2B,2BAQ3B,YAAiBsoB,EAAStoB,GAA1B,+CAAiC,KAAxBmF,EAAwB,QACS6d,GAAO7d,EAAxCsX,MAAwCtX,EAAjC4G,OAAiC5G,EAAzBlG,KAAyBkG,EAAnBuX,WAAmBvX,EAAP6d,KACxC,OAAOhjB,GACL,IAAK,OACL,IAAK,OAGH,IAAKwoB,QADYG,YADEnM,GAAuBxc,EAAMmF,GACP6d,IACjB,OACxB,MAGF,IAAK,QAGH,IAAKwF,QADYG,YADEnM,GAAuBxc,EAAMmF,GACP6d,IACjB,OACxB,MAEF,IAAK,QAGH,IAAKwF,QADYG,YADEnM,GAAuBxc,EAAMmF,GACP6d,IACjB,OACxB,MAEF,IAAK,UAGH,IAAKwF,QADYG,YADEnM,GAAuBxc,EAAMmF,GACP6d,IACjB,SAlCH,wFAIzB,IAAKwF,QAAQF,EAAStoB,IAAQ,QA5B+B,mFAtBnE,SAAS6oB,aAAaP,EAAUP,GAM9B,IAAMhd,EAAO,CAAC,CACZvJ,UAAW8mB,EAAS9mB,UACpBkjB,MAAOA,EAAMzc,QAAQ8f,GAAYrD,MACjCC,SAAUD,EAAMzc,QAAQ8f,GAAYpD,WAH5B,YAIJ2C,EAAkBrf,UAEkB,IAAtCrJ,OAAOF,KAAKgmB,EAAMzc,SAASI,SAA0C,IAA1Bkf,EAActf,UAAkD,IAA9Buf,EAAkBvf,UACjGuf,EAAkBvf,SAAU,EAC5Bof,GAAkB,IAGpBH,EAAiBnc,GACjBuc,EAAkBrf,QAAU8C,EAjB5B,SAAS+d,2BAEApE,EAAMzc,QAAQ8f,GAgBvBe,GAoEAD,CAAaP,EAAUP,GA/FrBM,CAJiB/f,KAAKC,MAAM6f,EAAMhZ,OAAOlM,QAEpBwhB,EAAMzc,QAAQ8gB,kBAAkBjN,IAEPiM,IAKhDC,EAAOgB,WAAWlN,GA+FpB,SAASiN,kBAAkBjN,GACzB,IAAM9W,EAAO8W,EAAKmN,mBACZxc,EAAa8a,EAActf,QAAWjD,EAAKH,QAAQ,KAAO,EAAK,EAC/D6H,EAAW6a,EAActf,QAAUjD,EAAKH,QAAQ,IAAK4H,GAAczH,EAAKH,QAAQ,KACtF,OAAOG,EAAKF,UAAW2H,EAAYC,GAiBrC,SAASkY,oBAAoBpjB,GAQ3BmmB,kBAPA,SAASuB,sBACP,IAAMne,EAAOuc,EAAkBrf,QAAQ/C,QAAO,SAAAC,GAAI,OAAIA,EAAK3D,YAAcA,KAEzE8lB,EAAkBrf,QAAU8C,EAC5Bmc,EAAiBnc,GAInBme,GAvJFnmB,qBAAU,WACR4kB,oBACC,CAAC1T,EAAME,IAEVpR,qBAAU,WACR,IAAM6U,EAAWC,KAAKC,KAAK4P,EAAWvT,GACjCyD,GACD3D,EAAO2D,GAAU1D,EAAQ0D,KAC5B,CAAC8P,IAsJJ,IAAM9L,EAAc,CAClBuN,WAAW,EACXjN,gBAAgB,EAChBF,aAAc,sBAAAF,GAOZ,OANIyL,EAActf,UAAyC,IAA9Buf,EAAkBvf,UAC7Cof,GAAkB,GAClBG,EAAkBvf,SAAU,GApClC,SAASmhB,YAAYtN,GACnB,GAAkB,cAAdA,EAAK7c,KAAT,CACA,IAAMoqB,EAAiBN,kBAAkBjN,GACnCyM,EAAe7D,EAAMzc,QAAQohB,IAAmB,GAEtD,GAAkB,cAAdvN,EAAK7c,KAGP,OAFA6oB,aAAahM,EAAMuN,QACnB3E,EAAMzc,QAAQohB,GAAd,iCAAoCd,EAApC,CAAkD5D,SAAU7I,KAI9D4I,EAAMzc,QAAQohB,GAAd,iCAAoCd,EAApC,CAAkD7D,MAAO,GAAF,YAAO6D,EAAa7D,OAAS,IAA7B,CAAkC5I,OA4BvFsN,CAAYtN,IACL,IAILwN,GAAyBrV,EAAO,GAAKE,EACrCoV,EAAsBD,EAAwBnV,EAEpD,OACE,yBAAKhQ,UAAWC,KAAM,mBACpB,yBAAKA,MAAO,CAACsK,QAAS,OAAQC,eAAgB,kBAC5C,wBACEnD,aAAcC,OACdU,YAAY,EACZqd,aAAc,sBAAAC,GAAW,OAAIA,EAAche,QAC3Cc,SA5KR,SAASmd,iBAAiBnrB,GACxBkI,EAAgBlI,EAAEwN,OAAO,gBA4KnB3H,MAAO,CAAEmG,MAAO,OAElB,uBAAOof,OAAP,CACE1a,YAAY,eACZ1C,SAAU,kBAAAhO,GAAC,OAAI4oB,EAAU5oB,EAAE6Q,OAAO3F,QAClCrF,MAAO,CAAEmG,MAAO,IAAKhF,WAAY,IACjC+G,SAnCR,SAASW,eACP0a,qBAoCI,yBAAKvjB,MAAO,CAACqB,KAAM,KACnB,8BAAYmW,EAAZ,CAAyBhM,SAAUwX,IACjC,wBACEpnB,KAAK,UACLoE,MAAO,CAAEmG,MAAO,KAChBgS,QAASiL,EAAkBvf,QAC3BqC,QAAS,0BAAMid,EAActf,SAAU,IAEtCmf,EAAiB,iCAAU,kCAGhC,uBAAYxL,EACV,wBAAQ5b,KAAK,UAAUoE,MAAO,CAAEmB,WAAY,GAAIgF,MAAO,KAAOD,QAAS,0BAAMid,EAActf,SAAU,IAArG,uBAIJ,wBACE+G,KAAK,QACL5K,MAAO,CAACoB,WAAY,OAAO0F,UAAW,KAGpC+b,EAAcjpB,KAAI,SAACmH,EAAMP,GAAP,OAChB,kBAAC,GAAD,CACEpE,IAAK2E,EAAK3D,UACVA,UAAW2D,EAAK3D,UAChBojB,oBAAqBA,oBACrBF,MAAOvf,EAAKuf,MACZC,SAAUxf,EAAKwf,SACfE,KAAMjgB,GAAS0kB,GAAyB1kB,GAAS2kB,OAMrDxe,EAAK/M,KAAI,SAAAmH,GAAI,OACX,uBAAMG,KAAN,CAAW9E,IAAK2E,EAAK3D,UAAY2D,EAAKsU,YACtC,wBAAKrV,MAAO,CAAEmG,MAAO,OAAQmE,QAAS,OAAQqR,WAAY,WACxD,wBAAK5V,KAAM,GACT,6BAAMhF,EAAK3D,WACX,uCAAS2D,EAAK0T,aAAd,OAA4B1T,EAAK0T,YAAc,SAAM,IAArD,OAA0D1T,EAAKohB,cAA/D,iBAEF,wBAAKpc,KAAM,EAAG/F,MAAO,CAACgI,UAAW,WAC9BjH,EAAKsU,YAER,wBAAKtP,KAAM,GACT,wBAAKzE,MAAuB,UAAhBP,EAAK0N,OAAqB,UAAY,WAAW,0BAAMzO,MAAO,CAACsB,MAAuB,UAAhBP,EAAK0N,OAAqB,UAAY,YAA6B,UAAhB1N,EAAK0N,OAAqB,2BAAS,6BAEtJ,UAAhB1N,EAAK0N,QACH,oCACE,wBAASjE,QAASzJ,EAAKykB,KACrB,wBAAM5pB,KAAK,kBAAkBoE,MAAO,CAACsB,MAAO,MAAOC,OAAQ,cAE7D,0BAAMvB,MAAO,CAACmB,WAAY,KAAMJ,EAAKykB,IAAIvhB,OAAS,GAAlB,UAA0BlD,EAAKykB,IAAI9kB,UAAU,EAAG,IAAhD,OAA2DK,EAAKykB,OAKxG,wBAAKjD,OAAQ,EAAGxc,KAAM,GAEF,UAAhBhF,EAAK0N,QACH,uBAAY+I,EACV,0BAAMtR,QAAS,0BAAMid,EAActf,SAAU,GAAO7D,MAAO,CAACuB,OAAQ,UAAWD,MAAO,YAAtF,oCAWhB,wBACEiU,iBAAe,EACfC,iBAAe,EACf3R,QAASgM,EACT1H,SAAU,kBAAA0H,GAAI,OAAIC,EAAQD,IAC1B+F,iBAAkB,0BAAC/F,EAAMjF,GACvBkF,EAAQD,GACRG,EAAOpF,IAET+E,MAAO2T,EACPtjB,MAAO,CAAC6V,MAAO,QAAS/O,UAAW,QClT5B2e,I,OAlBA,SAATA,SAAe,MACWvnB,oBAAS,GADpB,WACZqB,EADY,KACHlB,EADG,KAEnB,OACE,oCACE,kBAAC,GAAD,CAAQA,WAAYA,IACpB,sBAAQqnB,QAAR,CAAgB1lB,MAAO,CAAC2lB,SAAU,KAAM1e,OAAQ,SAAUwG,cAAe,GAAID,WAAY,KACvF,kBAACoY,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAOC,OAAK,EAACllB,KAAK,YAAYmlB,UAAWha,KAD3C,OAEE,kBAAC8Z,EAAA,EAAD,CAAOC,OAAK,EAACllB,KAAK,WAAWolB,OAAQ,gBAACC,GAAD,OAAgB,kBAACC,GAAD,OAAiBD,EAAjB,CAA6B1mB,QAASA,QAC3F,kBAACsmB,EAAA,EAAD,CAAOC,OAAK,EAACllB,KAAK,sBAAsBolB,OAAQ,gBAACC,GAAD,OAAgB,kBAAC,GAAD,OAAmBA,EAAnB,CAA+B1mB,QAASA,QACxF,kBAACsmB,EAAA,EAAD,CAAOC,OAAK,EAACllB,KAAK,UAAWolB,OAAQ,gBAACC,GAAD,OAAgB,kBAAC,GAAD,OAAsBA,EAAtB,CAAkC1mB,QAASA,QAChH,kBAAC4mB,EAAA,EAAD,CAAUjmB,GAAG,mBCnBnBkmB,GAAwB,GAEtBC,GAAe,SAAfA,aAAgBlnB,EAAgBmnB,GAGpC,OAFSnnB,EAAEonB,UAAY,IACdD,EAAEC,UAAY,KA2BzB,SAAStqB,iBAAUC,GACyBA,EAAE5B,OAAOV,KAAI,SAAAwC,GAAG,OAAIF,EAAEE,GAAK/C,WAElDmtB,KAAKH,IAAclqB,SAAQ,SAAA8E,GAC5CmlB,GAASA,GAAO/qB,OA3BpB,SAASorB,mBAAmBxlB,GAAkC,IAAblE,EAAa,uDAAJ,GAClD6D,EAAO7D,GAAUkE,EAAOylB,OAAS,IAEjCC,EAAc,CAClBvqB,IAAKwE,EACLA,OACAklB,QAAS7kB,EAAO6kB,OAEZ/kB,EAAOE,EAAO2lB,SAClB,kBAACT,EAAA,EAAD,OAAcQ,EAAd,CAA2BzmB,GAAIe,EAAO2lB,YAEtC,kBAACf,EAAA,EAAD,OAAWc,EAAX,CAAwBZ,UAAW9kB,EAAO8kB,aAS5C,OANAK,GAAOtqB,KAAKiF,IAEXE,EAAO4lB,UAAY,IAAIL,KAAKH,IAAclqB,SAAQ,SAAA2qB,GACjDL,mBAAmBK,EAAalmB,MAG3BwlB,GAOkBK,CAAmBxlB,OAI9ChF,CAAUI,QAEK,sBAEb,OACE,6BACE,kBAAC0qB,EAAA,EAAD,KACE,kBAACnB,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAOjlB,KAAK,IAAImlB,UAAWN,SC5C/BuB,I,cAAMC,OAEZjrB,EAAOG,SAAQ,SAAAkc,GAAK,OAAI2O,GAAI3O,MAAMA,MAGlC2O,GAAIE,QAAO,kBAAM,kBAAC,OAAD,SACjBF,GAAIG,MAAM,W","file":"static/js/index.834ababa.chunk.js","sourcesContent":["var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../node_modules/less-loader/dist/cjs.js??ref--6-2!./style.module.less\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../node_modules/less-loader/dist/cjs.js??ref--6-2!./style.module.less\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../node_modules/less-loader/dist/cjs.js??ref--6-2!./style.module.less\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../node_modules/less-loader/dist/cjs.js??ref--6-2!./style.module.less\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../node_modules/less-loader/dist/cjs.js??ref--6-2!./style.module.less\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","var map = {\n\t\"./task.ts\": 556\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 555;","function mock() {\n  return Promise.resolve([{ name: 'task_one' }, { name: 'task_two' }]);\n}\n\nconst service = { mock };\n\nconst state: TaskModelState = {\n  tasks: []\n};\n\ntype Action = {\n  addTask: DvaAction<Task | Task[]>;\n  sync: DvaAction<undefined>;\n};\n\nconst reducers: DvaReducerMapObject<TaskModelState> = {\n  addTask(state, { payload }: Action['addTask']) {\n    return { ...state, tasks: state.tasks.concat(payload) };\n  }\n};\n\nconst effects: DvaEffectsMapObject = {\n  *addsTask(_, { put, call }) {\n    const data = yield call(service.mock);\n    yield put({ type: 'addTask', payload: data });\n  }\n};\n\nconst task: DvaModel<TaskModelState, Action[keyof Action]> = {\n  namespace: 'task',\n  state,\n  reducers,\n  effects\n};\n\nexport default task;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".style-module__header-wrapper___2lx4u {\\n  position: sticky;\\n  top: 0;\\n  width: 100%;\\n  z-index: 1;\\n  display: flex;\\n  justify-content: center;\\n}\\n.style-module__header-wrapper___2lx4u .style-module__header-inner___21cxh {\\n  width: 100%;\\n  max-width: 1300px;\\n  display: flex;\\n  justify-content: center;\\n}\\n.style-module__header-wrapper___2lx4u .style-module__header-logo___3WIws {\\n  color: #fff;\\n  font-size: 24px;\\n  margin-right: 80px;\\n  font-family: 'Microsoft YaHei UI Bold', 'Microsoft YaHei UI Regular', 'Microsoft YaHei UI';\\n}\\n\", \"\"]);\n// Exports\nexports.locals = {\n\t\"header-wrapper\": \"style-module__header-wrapper___2lx4u\",\n\t\"header-inner\": \"style-module__header-inner___21cxh\",\n\t\"header-logo\": \"style-module__header-logo___3WIws\"\n};\nmodule.exports = exports;\n","var map = {\n\t\"./af\": 204,\n\t\"./af.js\": 204,\n\t\"./ar\": 205,\n\t\"./ar-dz\": 206,\n\t\"./ar-dz.js\": 206,\n\t\"./ar-kw\": 207,\n\t\"./ar-kw.js\": 207,\n\t\"./ar-ly\": 208,\n\t\"./ar-ly.js\": 208,\n\t\"./ar-ma\": 209,\n\t\"./ar-ma.js\": 209,\n\t\"./ar-sa\": 210,\n\t\"./ar-sa.js\": 210,\n\t\"./ar-tn\": 211,\n\t\"./ar-tn.js\": 211,\n\t\"./ar.js\": 205,\n\t\"./az\": 212,\n\t\"./az.js\": 212,\n\t\"./be\": 213,\n\t\"./be.js\": 213,\n\t\"./bg\": 214,\n\t\"./bg.js\": 214,\n\t\"./bm\": 215,\n\t\"./bm.js\": 215,\n\t\"./bn\": 216,\n\t\"./bn.js\": 216,\n\t\"./bo\": 217,\n\t\"./bo.js\": 217,\n\t\"./br\": 218,\n\t\"./br.js\": 218,\n\t\"./bs\": 219,\n\t\"./bs.js\": 219,\n\t\"./ca\": 220,\n\t\"./ca.js\": 220,\n\t\"./cs\": 221,\n\t\"./cs.js\": 221,\n\t\"./cv\": 222,\n\t\"./cv.js\": 222,\n\t\"./cy\": 223,\n\t\"./cy.js\": 223,\n\t\"./da\": 224,\n\t\"./da.js\": 224,\n\t\"./de\": 225,\n\t\"./de-at\": 226,\n\t\"./de-at.js\": 226,\n\t\"./de-ch\": 227,\n\t\"./de-ch.js\": 227,\n\t\"./de.js\": 225,\n\t\"./dv\": 228,\n\t\"./dv.js\": 228,\n\t\"./el\": 229,\n\t\"./el.js\": 229,\n\t\"./en-SG\": 230,\n\t\"./en-SG.js\": 230,\n\t\"./en-au\": 231,\n\t\"./en-au.js\": 231,\n\t\"./en-ca\": 232,\n\t\"./en-ca.js\": 232,\n\t\"./en-gb\": 233,\n\t\"./en-gb.js\": 233,\n\t\"./en-ie\": 234,\n\t\"./en-ie.js\": 234,\n\t\"./en-il\": 235,\n\t\"./en-il.js\": 235,\n\t\"./en-nz\": 236,\n\t\"./en-nz.js\": 236,\n\t\"./eo\": 237,\n\t\"./eo.js\": 237,\n\t\"./es\": 238,\n\t\"./es-do\": 239,\n\t\"./es-do.js\": 239,\n\t\"./es-us\": 240,\n\t\"./es-us.js\": 240,\n\t\"./es.js\": 238,\n\t\"./et\": 241,\n\t\"./et.js\": 241,\n\t\"./eu\": 242,\n\t\"./eu.js\": 242,\n\t\"./fa\": 243,\n\t\"./fa.js\": 243,\n\t\"./fi\": 244,\n\t\"./fi.js\": 244,\n\t\"./fo\": 245,\n\t\"./fo.js\": 245,\n\t\"./fr\": 246,\n\t\"./fr-ca\": 247,\n\t\"./fr-ca.js\": 247,\n\t\"./fr-ch\": 248,\n\t\"./fr-ch.js\": 248,\n\t\"./fr.js\": 246,\n\t\"./fy\": 249,\n\t\"./fy.js\": 249,\n\t\"./ga\": 250,\n\t\"./ga.js\": 250,\n\t\"./gd\": 251,\n\t\"./gd.js\": 251,\n\t\"./gl\": 252,\n\t\"./gl.js\": 252,\n\t\"./gom-latn\": 253,\n\t\"./gom-latn.js\": 253,\n\t\"./gu\": 254,\n\t\"./gu.js\": 254,\n\t\"./he\": 255,\n\t\"./he.js\": 255,\n\t\"./hi\": 256,\n\t\"./hi.js\": 256,\n\t\"./hr\": 257,\n\t\"./hr.js\": 257,\n\t\"./hu\": 258,\n\t\"./hu.js\": 258,\n\t\"./hy-am\": 259,\n\t\"./hy-am.js\": 259,\n\t\"./id\": 260,\n\t\"./id.js\": 260,\n\t\"./is\": 261,\n\t\"./is.js\": 261,\n\t\"./it\": 262,\n\t\"./it-ch\": 263,\n\t\"./it-ch.js\": 263,\n\t\"./it.js\": 262,\n\t\"./ja\": 264,\n\t\"./ja.js\": 264,\n\t\"./jv\": 265,\n\t\"./jv.js\": 265,\n\t\"./ka\": 266,\n\t\"./ka.js\": 266,\n\t\"./kk\": 267,\n\t\"./kk.js\": 267,\n\t\"./km\": 268,\n\t\"./km.js\": 268,\n\t\"./kn\": 269,\n\t\"./kn.js\": 269,\n\t\"./ko\": 270,\n\t\"./ko.js\": 270,\n\t\"./ku\": 271,\n\t\"./ku.js\": 271,\n\t\"./ky\": 272,\n\t\"./ky.js\": 272,\n\t\"./lb\": 273,\n\t\"./lb.js\": 273,\n\t\"./lo\": 274,\n\t\"./lo.js\": 274,\n\t\"./lt\": 275,\n\t\"./lt.js\": 275,\n\t\"./lv\": 276,\n\t\"./lv.js\": 276,\n\t\"./me\": 277,\n\t\"./me.js\": 277,\n\t\"./mi\": 278,\n\t\"./mi.js\": 278,\n\t\"./mk\": 279,\n\t\"./mk.js\": 279,\n\t\"./ml\": 280,\n\t\"./ml.js\": 280,\n\t\"./mn\": 281,\n\t\"./mn.js\": 281,\n\t\"./mr\": 282,\n\t\"./mr.js\": 282,\n\t\"./ms\": 283,\n\t\"./ms-my\": 284,\n\t\"./ms-my.js\": 284,\n\t\"./ms.js\": 283,\n\t\"./mt\": 285,\n\t\"./mt.js\": 285,\n\t\"./my\": 286,\n\t\"./my.js\": 286,\n\t\"./nb\": 287,\n\t\"./nb.js\": 287,\n\t\"./ne\": 288,\n\t\"./ne.js\": 288,\n\t\"./nl\": 289,\n\t\"./nl-be\": 290,\n\t\"./nl-be.js\": 290,\n\t\"./nl.js\": 289,\n\t\"./nn\": 291,\n\t\"./nn.js\": 291,\n\t\"./pa-in\": 292,\n\t\"./pa-in.js\": 292,\n\t\"./pl\": 293,\n\t\"./pl.js\": 293,\n\t\"./pt\": 294,\n\t\"./pt-br\": 295,\n\t\"./pt-br.js\": 295,\n\t\"./pt.js\": 294,\n\t\"./ro\": 296,\n\t\"./ro.js\": 296,\n\t\"./ru\": 297,\n\t\"./ru.js\": 297,\n\t\"./sd\": 298,\n\t\"./sd.js\": 298,\n\t\"./se\": 299,\n\t\"./se.js\": 299,\n\t\"./si\": 300,\n\t\"./si.js\": 300,\n\t\"./sk\": 301,\n\t\"./sk.js\": 301,\n\t\"./sl\": 302,\n\t\"./sl.js\": 302,\n\t\"./sq\": 303,\n\t\"./sq.js\": 303,\n\t\"./sr\": 304,\n\t\"./sr-cyrl\": 305,\n\t\"./sr-cyrl.js\": 305,\n\t\"./sr.js\": 304,\n\t\"./ss\": 306,\n\t\"./ss.js\": 306,\n\t\"./sv\": 307,\n\t\"./sv.js\": 307,\n\t\"./sw\": 308,\n\t\"./sw.js\": 308,\n\t\"./ta\": 309,\n\t\"./ta.js\": 309,\n\t\"./te\": 310,\n\t\"./te.js\": 310,\n\t\"./tet\": 311,\n\t\"./tet.js\": 311,\n\t\"./tg\": 312,\n\t\"./tg.js\": 312,\n\t\"./th\": 313,\n\t\"./th.js\": 313,\n\t\"./tl-ph\": 314,\n\t\"./tl-ph.js\": 314,\n\t\"./tlh\": 315,\n\t\"./tlh.js\": 315,\n\t\"./tr\": 316,\n\t\"./tr.js\": 316,\n\t\"./tzl\": 317,\n\t\"./tzl.js\": 317,\n\t\"./tzm\": 318,\n\t\"./tzm-latn\": 319,\n\t\"./tzm-latn.js\": 319,\n\t\"./tzm.js\": 318,\n\t\"./ug-cn\": 320,\n\t\"./ug-cn.js\": 320,\n\t\"./uk\": 321,\n\t\"./uk.js\": 321,\n\t\"./ur\": 322,\n\t\"./ur.js\": 322,\n\t\"./uz\": 323,\n\t\"./uz-latn\": 324,\n\t\"./uz-latn.js\": 324,\n\t\"./uz.js\": 323,\n\t\"./vi\": 325,\n\t\"./vi.js\": 325,\n\t\"./x-pseudo\": 326,\n\t\"./x-pseudo.js\": 326,\n\t\"./yo\": 327,\n\t\"./yo.js\": 327,\n\t\"./zh-cn\": 328,\n\t\"./zh-cn.js\": 328,\n\t\"./zh-hk\": 329,\n\t\"./zh-hk.js\": 329,\n\t\"./zh-tw\": 330,\n\t\"./zh-tw.js\": 330\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 630;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".style-module__filter-wrapper___3M37- .style-module__title___15EjU {\\n  font-size: 48px;\\n  color: #0b194a;\\n  font-weight: 700;\\n  font-family: 'Microsoft YaHei UI Bold', 'Microsoft YaHei UI Regular', 'Microsoft YaHei UI';\\n}\\n.style-module__filter-wrapper___3M37- .style-module__sub-title___1wrmN {\\n  color: #0b194a;\\n  font-size: 18px;\\n  font-weight: 400;\\n}\\n.style-module__filter-wrapper___3M37- .header-form-wrapper-large .ant-select-selection {\\n  background: transparent;\\n  border-color: #0b194a;\\n  height: 50px !important;\\n}\\n.style-module__filter-wrapper___3M37- .header-form-wrapper-large .ant-select-selection .ant-select-selection__rendered {\\n  line-height: 48px;\\n  font-size: 14px;\\n}\\n.style-module__filter-wrapper___3M37- .header-form-wrapper-large .ant-select-selection .ant-select-selection__rendered .ant-select-selection-selected-value {\\n  width: 100%;\\n  color: #0b194a;\\n}\\n.style-module__filter-wrapper___3M37- .header-form-wrapper-large .ant-select-selection__clear {\\n  right: 40px;\\n}\\n.style-module__filter-wrapper___3M37- .header-form-wrapper-large .ant-input {\\n  background: transparent;\\n  border-color: #0b194a;\\n  height: 50px;\\n}\\n.style-module__filter-wrapper___3M37- .header-form-wrapper-default .ant-select-selection {\\n  background: transparent;\\n  border-color: #0b194a;\\n  height: 40px !important;\\n}\\n.style-module__filter-wrapper___3M37- .header-form-wrapper-default .ant-select-selection .ant-select-selection__rendered {\\n  line-height: 38px;\\n  font-size: 14px;\\n}\\n.style-module__filter-wrapper___3M37- .header-form-wrapper-default .ant-select-selection .ant-select-selection__rendered .ant-select-selection-selected-value {\\n  width: 100%;\\n  color: #0b194a;\\n}\\n.style-module__filter-wrapper___3M37- .header-form-wrapper-default .ant-select-selection__clear {\\n  right: 40px;\\n}\\n.style-module__filter-wrapper___3M37- .header-form-wrapper-default .ant-input {\\n  background: transparent;\\n  border-color: #0b194a;\\n  height: 40px;\\n}\\n.style-module__filter-wrapper___3M37- .style-module__filter-button___3NFMY {\\n  text-align: right;\\n  display: block;\\n  cursor: pointer;\\n  color: #3E69FA;\\n  user-select: none;\\n}\\n.style-module__filter-wrapper___3M37- .style-module__filter-dropdown-wrapper___-UCw7 {\\n  position: absolute;\\n  z-index: 2;\\n  padding: 20px 30px;\\n  right: 0;\\n  width: 700px;\\n  top: 60px;\\n  background: #fff;\\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);\\n}\\n.style-module__filter-wrapper___3M37- .style-module__filter-tag___1UJnB {\\n  margin-top: 10px;\\n  line-height: 30px;\\n  border-radius: 15px;\\n  height: 30px;\\n  min-width: 150px;\\n  text-align: center;\\n  position: relative;\\n  padding: 0 15px;\\n  max-width: 100%;\\n  text-overflow: ellipsis;\\n  overflow: hidden;\\n  white-space: nowrap;\\n}\\n.style-module__filter-wrapper___3M37- .style-module__filter-tag-icon-wrapper___1sW5A {\\n  position: absolute;\\n  display: none;\\n  top: 0;\\n  left: 0;\\n  height: 100%;\\n  width: 100%;\\n  border-radius: 15px;\\n}\\n.style-module__filter-wrapper___3M37- .style-module__filter-tag___1UJnB:hover {\\n  opacity: 1;\\n}\\n.style-module__filter-wrapper___3M37- .style-module__filter-tag___1UJnB:hover .style-module__filter-tag-icon-wrapper___1sW5A {\\n  display: block;\\n}\\n.style-module__dropdown-menu___tghe1 {\\n  padding: 0 10px 10px 10px;\\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);\\n}\\n.style-module__dropdown-menu___tghe1 .style-module__list-item___CE8a5 {\\n  cursor: pointer;\\n  color: #1890ff;\\n}\\n.style-module__dropdown-menu___tghe1 .style-module__list-item___CE8a5:hover {\\n  color: #55adff;\\n}\\n.filter-input-dropdown-wrapper .ant-select-dropdown-menu-item-active {\\n  background: #d1d1d1 !important;\\n}\\n.filter-input-dropdown-wrapper .ant-select-dropdown-menu-item:hover {\\n  background: #d1d1d1 !important;\\n}\\n\", \"\"]);\n// Exports\nexports.locals = {\n\t\"filter-wrapper\": \"style-module__filter-wrapper___3M37-\",\n\t\"title\": \"style-module__title___15EjU\",\n\t\"sub-title\": \"style-module__sub-title___1wrmN\",\n\t\"filter-button\": \"style-module__filter-button___3NFMY\",\n\t\"filter-dropdown-wrapper\": \"style-module__filter-dropdown-wrapper___-UCw7\",\n\t\"filter-tag\": \"style-module__filter-tag___1UJnB\",\n\t\"filter-tag-icon-wrapper\": \"style-module__filter-tag-icon-wrapper___1sW5A\",\n\t\"dropdown-menu\": \"style-module__dropdown-menu___tghe1\",\n\t\"list-item\": \"style-module__list-item___CE8a5\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".style-module__main-wrapper___1znhD {\\n  margin-top: 150px;\\n  text-align: center;\\n}\\n.style-module__main-wrapper___1znhD .style-module__title___bn_vN {\\n  font-size: 48px;\\n  color: #0b194a;\\n  font-weight: 700;\\n  font-family: 'Microsoft YaHei UI Bold', 'Microsoft YaHei UI Regular', 'Microsoft YaHei UI';\\n}\\n.style-module__main-wrapper___1znhD .style-module__sub-title___2k_5o {\\n  color: #0b194a;\\n  font-size: 18px;\\n  font-weight: 400;\\n}\\n.style-module__main-wrapper___1znhD .header-form-wrapper .ant-select-selection {\\n  background: transparent;\\n  border-color: #0b194a;\\n  height: 50px !important;\\n}\\n.style-module__main-wrapper___1znhD .header-form-wrapper .ant-select-selection .ant-select-selection__rendered {\\n  line-height: 48px;\\n  font-size: 14px;\\n}\\n.style-module__main-wrapper___1znhD .header-form-wrapper .ant-select-selection .ant-select-selection__rendered .ant-select-selection-selected-value {\\n  width: 100%;\\n  color: #0b194a;\\n}\\n.style-module__main-wrapper___1znhD .header-form-wrapper .ant-input {\\n  background: transparent;\\n  border-color: #0b194a;\\n  height: 50px;\\n}\\n.style-module__main-wrapper___1znhD .style-module__filter-button___3Uxa_ {\\n  text-align: right;\\n  display: block;\\n  height: 50px;\\n  line-height: 50px;\\n  cursor: pointer;\\n  color: #3E69FA;\\n  user-select: none;\\n}\\n.style-module__main-wrapper___1znhD .style-module__filter-dropdown-wrapper___1gtGp {\\n  position: absolute;\\n  padding: 20px 30px;\\n  right: 0;\\n  width: 600px;\\n  top: 60px;\\n  background: #fff;\\n}\\n.style-module__dropdown-menu___3BY4Z {\\n  padding: 0 10px 10px 10px;\\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);\\n}\\n.style-module__dropdown-menu___3BY4Z .style-module__list-item___1_a-n {\\n  cursor: pointer;\\n  color: #1890ff;\\n}\\n.style-module__dropdown-menu___3BY4Z .style-module__list-item___1_a-n:hover {\\n  color: #55adff;\\n}\\n\", \"\"]);\n// Exports\nexports.locals = {\n\t\"main-wrapper\": \"style-module__main-wrapper___1znhD\",\n\t\"title\": \"style-module__title___bn_vN\",\n\t\"sub-title\": \"style-module__sub-title___2k_5o\",\n\t\"filter-button\": \"style-module__filter-button___3Uxa_\",\n\t\"filter-dropdown-wrapper\": \"style-module__filter-dropdown-wrapper___1gtGp\",\n\t\"dropdown-menu\": \"style-module__dropdown-menu___3BY4Z\",\n\t\"list-item\": \"style-module__list-item___1_a-n\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".style-module__checked___375mJ {\\n  border: 2px solid #3e69fa;\\n}\\n.style-module__checked___375mJ::before {\\n  content: '';\\n  z-index: 1;\\n  position: absolute;\\n  width: 0;\\n  height: 0;\\n  left: 0;\\n  top: 0;\\n  border-top: 35px solid #3e69fa;\\n  border-right: 35px solid transparent;\\n}\\n.style-module__confirm-icon___1IfoR > svg {\\n  fill: #fc5e56;\\n}\\n.card-wrapper > li:nth-child(4n) {\\n  margin-right: 0 !important;\\n}\\n.img-modal-wrapper .ant-modal-body {\\n  padding: 40px 30px !important;\\n}\\n.add-tags-wrapper .ant-select-selection {\\n  height: 200px;\\n  overflow: auto;\\n}\\n\", \"\"]);\n// Exports\nexports.locals = {\n\t\"checked\": \"style-module__checked___375mJ\",\n\t\"confirm-icon\": \"style-module__confirm-icon___1IfoR\"\n};\nmodule.exports = exports;\n","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../node_modules/less-loader/dist/cjs.js??ref--6-2!./style.module.less\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".component-list-wrapper .ant-menu-inline, .component-list-wrapper .ant-menu-item::after {\\n  border-right: none !important;\\n}\\n.component-list-wrapper .ant-menu-item {\\n  margin: 0 !important;\\n  height: 50px !important;\\n  line-height: 50px !important;\\n}\\n.component-list-wrapper .ant-menu-item-selected {\\n  background: #f0f3ff !important;\\n}\\n.component-pagination {\\n  float: right !important;\\n  margin-top: 10px;\\n  position: absolute;\\n  right: 0;\\n  bottom: 0;\\n}\\n.component-tabs-wrapper .ant-tabs-tab {\\n  margin-right: 0 !important;\\n  border: none !important;\\n}\\n.component-tabs-wrapper .ant-tabs-tab-active {\\n  background: #f0f3ff !important;\\n}\\n.component-tabs-wrapper .ant-tabs-card-bar {\\n  margin-bottom: 0;\\n  border-bottom: none;\\n}\\n.component-tabs-wrapper .ant-tabs-content {\\n  height: 450px;\\n}\\n.component-modal-wrapper .ant-modal-body {\\n  max-height: 400px;\\n  overflow: auto;\\n}\\n.slider-wrapper .ant-slider-track {\\n  background: #3e69fa;\\n}\\n.slider-wrapper .ant-slider-handle {\\n  border-color: #3e69fa;\\n}\\n.ant-slider:hover .ant-slider-track {\\n  background: rgba(62, 105, 250, 0.7) !important;\\n}\\n.ant-slider:hover .ant-slider-handle {\\n  border-color: rgba(62, 105, 250, 0.7) !important;\\n}\\n.style-module__waveform___3qSQt {\\n  width: 6px;\\n  background: #3e69fa;\\n  margin: 0 2px;\\n}\\n\", \"\"]);\n// Exports\nexports.locals = {\n\t\"waveform\": \"style-module__waveform___3qSQt\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".style-module__upload-wrapper___1zoOB {\\n  display: 'flex';\\n  justify-content: 'space-between';\\n}\\n.style-module__upload-wrapper___1zoOB .ant-input {\\n  background: #f0f2f5;\\n}\\n.style-module__upload-wrapper___1zoOB .ant-list-item {\\n  padding: 20px 40px !important;\\n}\\n\", \"\"]);\n// Exports\nexports.locals = {\n\t\"upload-wrapper\": \"style-module__upload-wrapper___1zoOB\"\n};\nmodule.exports = exports;\n","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/less-loader/dist/cjs.js??ref--7-2!./style.less\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"body {\\n  background: #f0f2f5 !important;\\n}\\nol,\\nul {\\n  list-style: none;\\n  padding: 0;\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 826;","var api = require(\"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/less-loader/dist/cjs.js??ref--7-2!./global.less\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"\", \"\"]);\n// Exports\nmodule.exports = exports;\n","const models: DvaModel<any, any>[] = [];\n\nfunction importAll(r: ReturnType<typeof require.context>) {\n  r.keys().forEach(key => {\n    models.push(r(key).default);\n  });\n}\n\nimportAll(require.context('./', false, /^((?!index).)*\\.ts$/));\n\nexport default models;\n","import Axios, { initAxiosInstance,  } from '@fuxi/axios-pro';\nimport { AxiosResponse } from 'axios';\n\nAxios.defaults.baseURL = '/api/v1';\n\nconst AxiosInstance = initAxiosInstance();\n\nAxiosInstance.interceptors.response.use(response => {\n  const emptyData = { data: null }  as AxiosResponse;\n  if (!response) return emptyData;\n  return response;\n}, error => {\n  return { data: null }\n});\n\n\nexport default AxiosInstance;\n","import { URLGroup } from '@fuxi/axios-pro';\nimport Axios from './common';\n\nconst prefix = URLGroup('/assets');\n\nexport const assets = {\n  fetchList(payload, cancelToken = null) {\n    return Axios.post(prefix``, payload, { cancelToken });\n  },\n\n  fetchAsset(assetname) {\n    return Axios.get(prefix`/@${assetname}`);\n  },\n\n  fetchComponent(assetname, component_type, component_name) {\n    return Axios.get(prefix`/@${assetname}/components/${component_type}s/@${component_name}`);\n  },\n\n  searchTags(params) {\n    return Axios.get(prefix`/tags`, { params });\n  },\n\n  addTags(payload: {assetnames: string[], tags: string[]}) {\n    return Axios.post(prefix`/tags`, payload);\n  },\n\n  addComponent(assetname, component_type, payload: FormData) {\n    return Axios.post(prefix`/@${assetname}/components/@${component_type}s`, payload);\n  },\n\n  updateTags(assetname, payload: {tags: string[]}) {\n    return Axios.put(prefix`/@${assetname}/tags`, payload);\n  },\n\n  updateAsset(assetname, payload) {\n    return Axios.put(prefix`/@${assetname}`, payload);\n  },\n\n  updateComponent(assetname, component_type, component_name, payload) {\n    return Axios.put(prefix`/@${assetname}/components/${component_type}s/@${component_name}`, payload);\n  },\n\n  updateComponentFile(assetname, component_type, component_name, payload: FormData) {\n    return Axios.put(prefix`/@${assetname}/components/${component_type}s/files/@${component_name}`, payload);\n  },\n\n  deleteAsset(assetname) {\n    return Axios.delete(prefix`/@${assetname}`);\n  },\n\n  deleteComponent(assetname, component_type, component_name) {\n    return Axios.delete(prefix`/@${assetname}/components/${component_type}s/@${component_name}`);\n  },\n\n  downloadComponent(assetname, component_type, component_name) {\n    return Axios.get(prefix`/@${assetname}/components/${component_type}s/@${component_name}/download`, {responseType: 'arraybuffer'});\n  }\n\n};\n","import { URLGroup } from '@fuxi/axios-pro';\nimport Axios from './common';\n\nconst prefix = URLGroup('/upload');\n\ninterface UploadListParams {\n  createtime__lt? :string;\n  assetname? :string;\n  projectname? :string;\n  _num? :number;\n  _page? :number;\n  _sort? :string;\n  _direction? :string;\n  _offset? :number;\n  createtime__gt? :string;\n}\n\nexport const upload = {\n  uploadFile(payload: {file: Blob, requestid: string, assetname: string}) {\n    return Axios.post(prefix``, payload, { headers: { 'Content-Type': 'multipart/form-data' } })\n  },\n\n  fetchUploadList(params: UploadListParams, cancelToken ) {\n    // debugger\n    return Axios.get(prefix`/files`, { params, cancelToken } );\n  },\n\n  finish(payload: {requestid: string}) {\n    return Axios.post(prefix`/finish`, payload);\n  }\n\n};\n","import { URLGroup } from '@fuxi/axios-pro';\nimport Axios from './common';\n\nconst prefix = URLGroup('');\n\nexport const util = {\n  fetchMetaData(payload) {\n    return Axios.post(prefix`/ids`, payload, { headers: { 'Content-Type': 'multipart/form-data' } })\n  },\n\n  upload(payload, cancelToken) {\n    return Axios.post(prefix`/upload`, payload, {cancelToken, headers: { 'Content-Type': 'multipart/form-data' }});\n  },\n\n  downloadAsset(params) {\n    return Axios.get(prefix`/download`, { params, responseType: 'arraybuffer'});\n  }\n\n};\n","import { URLGroup } from '@fuxi/axios-pro';\nimport Axios from './common';\n\nconst prefix = URLGroup('/users');\n\nexport const user = {\n  fetchUserRules(user) {\n    return Axios.get(prefix`/@${user}/roles`);\n  },\n\n  fetchUserName(user) {\n    return Axios.get(prefix`/@${user}`);\n  },\n\n};\n","import React, { useState, useEffect } from 'react';\nimport { Menu, Layout } from 'antd';\nimport { Link, withRouter, RouteComponentProps } from 'react-router-dom';\nimport * as API from '@/api'\n\nimport style from './style.module.less';\n\ntype Props = {\n  setIsAdmin: React.Dispatch<React.SetStateAction<boolean>>;\n}\nconst Header: React.FC<Props & RouteComponentProps> = (props) => {\n  const [userName, setUserName] = useState('');\n  const [isAdmin, setIsAdmin] = useState('');\n\n  // debugger\n  const menu = [\n    {\n      path: '/homepage',\n      text: '首页'\n    },\n    {\n      path: '/dataset',\n      text: '数据集'\n    },\n    {\n      path: '/upload',\n      text: '上传管理',\n      // hide: !isAdmin\n    }\n  ];\n\n  function getRootPath() {\n    const { pathname } = props.location;\n    const index = pathname.indexOf('/', 1);\n    return index === -1 ? pathname : pathname.substring(0, index);\n  }\n\n  function handleLogin() {\n    const rbac = RbacURL || 'http://rbac.fuxi.netease.com:35615';\n    location.href = `${rbac}/login?next=${location.href}`;\n  }\n\n  useEffect(() => {\n    function getCookieValue(cookieName) {\n      const result = document.cookie.match('(^|[^;]+)\\\\s*' + cookieName + '\\\\s*=\\\\s*([^;]+)');\n      return result ? result.pop() : '';\n    }\n\n    async function fetchUserInfo() {\n      const user = getCookieValue('RBAC_USER');\n      if (!user) handleLogin();\n\n      try {\n        const { data: rulesData } = await API.user.fetchUserRules(user);\n        const { data: userData } = await API.user.fetchUserName(user);\n        const isAdmin = rulesData && rulesData.some(rule => rule.code === 'humandb.admin' && rule.project === 'humandb');\n        const userName = userData.fullname;\n        props.setIsAdmin(isAdmin);\n        setIsAdmin(isAdmin);\n        setUserName(userName);\n      } catch(e) {\n        console.log(e);\n        handleLogin();\n      }\n    }\n\n    fetchUserInfo()\n  }, []);\n\n  return (\n    <Layout>\n      <Layout.Header className={style['header-wrapper']} >\n        <div className={style['header-inner']}>\n          <Link to='/homepage' className={style['header-logo']}>HumanDB</Link>\n            <Menu\n              theme=\"dark\"\n              mode=\"horizontal\"\n              selectedKeys={[getRootPath()]}\n              style={{ lineHeight: '64px' }}>\n              {menu.filter(item => !item.hide).map((config, i) => (\n                <Menu.Item key={config.path} style={{marginLeft: 40, background: 'transparent'}}>\n                  <Link to={config.path}>{config.text}</Link>\n                </Menu.Item>\n              ))}\n            </Menu>\n            <div style={{flex: 1}} />\n            <div style={{color: 'rgba(255, 255, 255, 0.65)', cursor: 'pointer'}}>{userName}</div>\n        </div>\n      </Layout.Header>\n    </Layout>\n  )\n}\n\nexport default withRouter(Header);","import React, {useState, useEffect, useRef} from 'react';\nimport { withRouter, RouteComponentProps } from 'react-router-dom'\nimport queryString from 'query-string';\nimport { Select, Row, Col, Input, Tabs, Menu, Dropdown, Icon, Button, Tag, Divider, Tooltip, DatePicker } from 'antd';\nimport AceEditor from \"react-ace\";\nimport moment, { unitOfTime } from 'moment';\n\nimport style from './style.module.less';\nimport \"ace-builds/src-noconflict/mode-json\";\n\nconst { TabPane } = Tabs;\nconst { RangePicker } = DatePicker;\n\ninterface Props {\n  wrapperStyle: React.CSSProperties;\n  isHomePage: boolean;\n  handleFilter?(params): void;\n}\n\nconst FIELDS_OPTIONS = [\n  'assetname',\n  'tags',\n  'uploader',\n  'comment',\n  'createtime',\n  'projectname',\n  'preview',\n  'body.model',\n  'body.format',\n  'body.comment',\n  'body.fps',\n  'body.framenum',\n  'body.startframe',\n  'body.endframe',\n  'body.orderformat',\n  'body.coordinate',\n  'body.url',\n  'audio.name',\n  'audio.format',\n  'audio.samplerate',\n  'audio.url',\n  'video.name',\n  'video.format',\n  'video.url',\n  'feature.name',\n  'feature.url',\n]\n\nconst FilterSearchBar: React.FC<Props & RouteComponentProps> = ({wrapperStyle = {}, isHomePage, history, location, handleFilter}) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const [showFilterDropdown, setShowFilterDropdown] = useState(false);\n  const [selectedTime, setSelectedTime] = useState('Today');\n  const [filterMode, setFilterMode] = useState('Filter Values');\n  const [editorValue, setEditorValue] = useState('{}');\n  const [filters, setFilters] = useState([]);\n\n  const [inputValue, setInputValue] = useState('');\n  const [editingInputValue, setEditingInputValue] = useState('');\n  const [fieldValue, setFieldValue] = useState(null);\n  const [operatorValue, setOperatorValue] = useState(null);\n  const [filterValue, setFilterValue] = useState(null);\n  const [labelValue, setLabelValue] = useState('');\n  const timeRangeRef = useRef({})\n\n  const editIndexRef = useRef(null);\n\n\n  const inputHeight = isHomePage ?  '50px' : '40px';\n\n  function getDropdownRender() {\n\n    function handleTimeClick(time: string) {\n      setSelectedTime(time);\n      setIsOpen(false);\n    }\n\n\n    function getTimeList(list: string[]) {\n      return (\n        <ul>\n          {list.map(time =>\n            <li className={style['list-item']} onClick={() => handleTimeClick(time)} key={time}>{time}</li>\n          )}\n        </ul>\n      )\n    }\n\n    function handleRangeOk(range) {\n      setIsOpen(false);\n      setSelectedTime('Absolute');\n      const [startTime, endTime] = range;\n      timeRangeRef.current = {\n        startTime,\n        endTime\n      }\n    }\n\n    return (\n      <div\n        className={style['dropdown-menu']}\n        style={{width: 600, background: '#f5f5f5', marginTop: 10}}\n        onMouseDown={e => e.stopPropagation()}\n        onClick={e => e.stopPropagation()}\n      >\n        <Tabs defaultActiveKey=\"1\">\n          <TabPane tab=\"Quick\" key=\"1\">\n            <Row>\n              <Col span={6}>\n                {getTimeList(['Today', 'This week', 'This mouth'])}\n              </Col>\n              <Col span={6}>\n                {getTimeList(['Last 1 hour', 'Last 12 hour', 'Last 24 hour'])}\n              </Col>\n            </Row>\n          </TabPane>\n          <TabPane tab=\"Absolute\" key=\"2\">\n          <RangePicker\n            style={{width: '100%', margin: '20px 0'}}\n            showTime={{\n              hideDisabledOptions: true,\n              defaultValue: [moment('00:00:00', 'HH:mm:ss.SSS'), moment('11:59:59', 'HH:mm:ss.SSS')],\n            }}\n            onOk={handleRangeOk}\n            format=\"YYYY-MM-DDTHH:mm:ss.SSSZ\"\n          />\n          </TabPane>\n        </Tabs>\n      </div>\n    )\n  }\n\n  function closeFilterModal() {\n    function clearInputsValue() {\n      setFieldValue(null);\n      setOperatorValue(null);\n      setFilterValue(null);\n      setLabelValue('');\n    }\n    setEditorValue('{}')\n    setFilterMode('Filter Values');\n    setShowFilterDropdown(false);\n    editIndexRef.current = null;\n    clearInputsValue();\n  }\n\n  function handleDropDownClick(e: React.MouseEvent<HTMLDivElement, MouseEvent>) {\n    e.stopPropagation();\n    setIsOpen(!isOpen);\n    closeFilterModal();\n  }\n\n  function isDisableSaveButton() {\n    if (filterMode === 'Filter Values') {\n      if (!fieldValue || !operatorValue || (!filterValue && !['exists', 'does not exist'].includes(operatorValue))) return true;\n      if (['is one of', 'is not one of'].includes(operatorValue) && !filterValue.length) return true;\n      return false;\n    } else {\n      try {\n        JSON.parse(editorValue);\n        return false;\n      } catch(e) {\n        return true;\n      }\n    }\n  }\n\n  function handleSaveFilter(e) {\n    e.stopPropagation();\n\n    function getInputsFilter(inputsValue) {\n      return {\n        isEditorValue: false,\n        ...inputsValue,\n        editorValue: convertToEsQuery(inputsValue)\n      }\n    }\n\n    let filter;\n\n    if (filterMode === 'Filter Values') {\n      const inputsValue = {\n        fieldValue,\n        operatorValue,\n        filterValue,\n        labelValue\n      }\n      filter = getInputsFilter(inputsValue);\n    } else {\n      const queryValue = JSON.parse(editorValue).query || {}\n\n      filter = {\n        isEditorValue: true,\n        editorValue: queryValue,\n        labelValue\n      }\n\n      if (queryValue.match) {\n        const fieldValue = Object.keys(queryValue.match)[0];\n\n        if (fieldValue && queryValue.match[fieldValue].query) {\n          const inputsValue = {\n            fieldValue,\n            operatorValue: 'is',\n            filterValue: queryValue.match[fieldValue].query,\n          }\n          filter = getInputsFilter(inputsValue);\n        }\n      }\n\n      if (queryValue.exists) {\n        const fieldValue = Object.keys(queryValue.match)[0];\n\n        if (fieldValue && queryValue.exists[fieldValue].field) {\n          const inputsValue = {\n            fieldValue,\n            operatorValue: 'exists',\n            filterValue: queryValue.exists[fieldValue].field\n          }\n          filter = getInputsFilter(inputsValue);\n        }\n      }\n    }\n\n    if (editIndexRef.current !== null) {\n      //检查是否是在编辑\n      filter.isExclude = filters[editIndexRef.current].isExclude;\n      filters.splice(editIndexRef.current, 1, filter);\n      setFilters([...filters]);\n    } else {\n      setFilters([...filters, filter]);\n    }\n\n    closeFilterModal();\n  }\n\n  function getFilterDropdown() {\n    function handleFilterModeChange(key: string) {\n      setFilterMode(key)\n    }\n\n    function getFilterDropdownContent() {\n      \n      return (\n        <>\n          <Row style={{marginTop: 10, display: filterMode === \"Filter Values\" ? 'block' : 'none'}}>\n            <Col span={5} style={{paddingRight: 5}}>\n              <Select\n                size=\"large\"\n                value={fieldValue || []}\n                onChange={field => setFieldValue(field)}\n                placeholder=\"Field\"\n                style={{width: '100%', marginRight: 5}}\n              >\n                {\n                  FIELDS_OPTIONS.map(item => (\n                    <Select.Option key={item}>\n                      {item}\n                    </Select.Option>\n                  ))\n                }\n              </Select>\n            </Col>\n            <Col span={5} style={{paddingRight: 5}}>\n              <Select\n                size=\"large\"\n                value={operatorValue || []}\n                onChange={operator =>{\n                  setOperatorValue(operator);\n                  setFilterValue(null);\n                }}\n                placeholder=\"Operator\"\n                style={{width: '100%', marginRight: 5}}\n              >\n                {\n                  ['is', 'is not', 'is one of', 'is not one of', 'exists', 'does not exist'].map(item => (\n                    <Select.Option key={item}>\n                      {item}\n                    </Select.Option>\n                  ))\n                }\n              </Select>\n            </Col>\n            <Col span={14}>\n              {\n                (operatorValue === 'is' || operatorValue === 'is not') && (\n                    <Input\n                      size=\"large\"\n                      value={filterValue}\n                      placeholder=\"Values...\"\n                      onChange={e => setFilterValue(e.target.value)}\n                    />\n                )               \n              }\n\n              {\n                (operatorValue === 'is one of' || operatorValue === 'is not one of') && (\n                    <Select\n                      size=\"large\"\n                      mode=\"tags\"\n                      value={filterValue || []}\n                      style={{width: '100%'}}\n                      placeholder=\"Values...\"\n                      onChange={value => setFilterValue(value)}\n                    />\n                )               \n              }\n            </Col>\n          </Row>\n          <AceEditor\n            mode=\"json\"\n            setOptions={{ useWorker: false }}\n            value={editorValue}\n            showPrintMargin={false}\n            onChange={value => setEditorValue(value)}\n            name=\"UNIQUE_ID_OF_DIV\"\n            style={{height: 200, width: '100%', display: filterMode === \"Filter Values\" ? 'none' : 'block'}}\n            editorProps={{ $blockScrolling: true }}\n          />\n        </>\n      ) \n    }\n\n    const menu = (\n      <Menu onClick={({key}) => handleFilterModeChange( key )}>\n        <Menu.Item key=\"Filter Values\">\n          Filter Values\n        </Menu.Item>\n        <Menu.Item key=\"Query DSL\">\n          Query DSL\n        </Menu.Item>\n      </Menu>\n    );\n\n    return (\n      <div className={style['filter-dropdown-wrapper']} onClick={e => e.stopPropagation()}>\n        <div style={{display: 'flex', justifyContent: 'space-between'}}>\n          <span>Filter</span>\n          <Dropdown overlay={menu} trigger={['click']}>\n            <span style={{cursor: 'pointer'}}>\n              {filterMode}<Icon type=\"down\" />\n            </span>\n          </Dropdown>\n        </div>\n        {getFilterDropdownContent()}\n        <div style={{textAlign: 'left', padding: '20px 0'}}>Label</div>\n        <Row>\n          <Col span={5}>\n            <Input value={labelValue} size=\"large\" placeholder=\"Optional\" onChange={e => setLabelValue(e.target.value)}></Input>\n          </Col>\n        </Row>\n        <div style={{display: 'flex', justifyContent: 'flex-end'}}>\n          <Button type=\"primary\" ghost style={{marginRight: 10}} onClick={closeFilterModal}>Cancle</Button>\n          <Button type=\"primary\" disabled={isDisableSaveButton()} onClick={handleSaveFilter}>Save</Button>\n        </div>\n      </div>\n    )\n  }\n\n  function handleFilterClick(e: React.MouseEvent<HTMLDivElement, MouseEvent>) {\n    e.stopPropagation();\n    setIsOpen(false);\n    setShowFilterDropdown(!showFilterDropdown);\n\n  }\n\n  useEffect(() => {\n    const { date, filterList, inputValue, timeRange } = queryString.parse(location.search) || {};\n    \n    try {\n      const filters = JSON.parse(filterList);\n      setFilters(filters);\n    } catch(e) {\n      console.log(e)\n    }\n\n    date && setSelectedTime(date);\n    inputValue && setInputValue(inputValue);\n    timeRange && (timeRangeRef.current = timeRange);\n  }, [])\n\n  useEffect(() => {\n    function handleClickOutSide() {\n      setIsOpen(false);\n      closeFilterModal();\n    }\n\n    window.addEventListener('click', handleClickOutSide);\n\n    return () => {\n      window.removeEventListener('click', handleClickOutSide);\n    }\n  }, [])\n\n  function converToEditorValue(filterInputValue) {\n    const { fieldValue, operatorValue, filterValue} = filterInputValue;\n    let value;\n\n    switch(operatorValue) {\n      case 'is':\n      case 'is not': {\n        value = {\n          query: {\n            match: {\n              [fieldValue]: {\n                query: filterValue,\n                type: \"phrase\"\n              }\n            }\n          }\n        }\n\n        setEditorValue(JSON.stringify(value, null, 2));\n      }\n\n      case '': {\n\n      }\n\n      case '': {\n        \n      }\n    }\n  }\n\n  function getFilterTag(filter, index) {\n    function getTagBackground(isNot) {\n      if (filter.isExclude) {\n        return isNot ?  'repeating-linear-gradient(45deg, rgba(144, 0, 2, 0.3), rgba(144, 0, 2, 0.3) 10px, rgba(144, 0, 2, 0.5) 10px, rgba(144, 0, 2,0.5) 20px)' : 'repeating-linear-gradient(45deg,#7eb7cb,#7eb7cb 10px,#4f9cb8 10px,#4f9cb8 20px)';\n      } else {\n        return isNot ?  \"rgb(144, 0, 2)\" : \"rgb(14, 101, 147)\"\n      }\n    }\n\n    function getTag(value, isNot = false) {\n      return (\n        <Tag\n          key={value + index}\n          // closable\n          className={style[\"filter-tag\"]}\n          color={isNot ?  \"rgba(144, 0, 2, 0.8)\" : \"rgba(14, 101, 147, 0.8)\"}\n          style={{background: getTagBackground(isNot)}}\n        >\n          {`${isNot ? 'NOT ' : ''} ${value}`}\n          <div className={style[\"filter-tag-icon-wrapper\"]} style={{ background: isNot ? \"rgba(194, 57, 49, 0.8)\" : \"rgba(14, 101, 147, 0.8)\"}}>\n            <Tooltip overlay={filter.isExclude ? \"Include Matches\" : \"Exclude Matches\"}>\n              <Icon\n                type={filter.isExclude ? \"zoom-in\" : \"zoom-out\"}\n                style={{ fontSize: 15, cursor: 'pointer' }}\n                onClick={() => {\n                  filter.isExclude = !filter.isExclude;\n                  setFilters([...filters]);\n                }}\n              />\n            </Tooltip>\n            \n            <Divider type=\"vertical\"/>\n            <Tooltip overlay=\"Delete\">\n              <Icon\n                type=\"delete\"\n                style={{ fontSize: 15, cursor: 'pointer' }}\n                onClick={() => setFilters(filters.filter(item => item !== filter))}\n              />\n            </Tooltip>\n            \n            <Divider type=\"vertical\"/>\n\n            <Tooltip overlay=\"Edit\">\n              <Icon\n                type=\"form\"\n                style={{ fontSize: 15, cursor: 'pointer' }}\n                onClick={(e) => {\n                  e.stopPropagation();\n                  editIndexRef.current = index;\n                  setShowFilterDropdown(true);\n\n                  if (filter.isEditorValue) {\n                    setEditorValue(JSON.stringify({query: filter.editorValue}, null, 2));\n                    setFilterMode('Query DSL');\n                    setLabelValue(filter.labelValue);\n                    return;\n                  }\n\n                  let editorValue;\n\n                  if (filter.editorValue.match_phrase) {\n                    editorValue = {query: {match: filter.editorValue.match_phrase}}\n                  } else {\n                    editorValue = {query: filter.editorValue}\n                  }\n\n                  setEditorValue(JSON.stringify(editorValue, null, 2))\n                  setFieldValue(filter.fieldValue);\n                  setOperatorValue(filter.operatorValue);\n                  setFilterValue(filter.filterValue);\n                  setLabelValue(filter.labelValue);\n\n                }}\n              />\n            </Tooltip>\n          </div>\n        </Tag>\n      )\n    }\n\n    const { fieldValue, operatorValue, filterValue } = filter;\n\n    if (filter.labelValue) {\n      const falseOperator = ['is not', 'is not one of', 'does not exist'];\n      return getTag(filter.labelValue, falseOperator.includes(operatorValue));\n    }\n\n    if (filter.isEditorValue) {\n      const value = JSON.stringify(filter.editorValue).replace(/\\s/g, '')\n      return getTag(value)\n    } else {\n      // 'is', 'is not', 'is one of', 'is not one of', 'exists', 'does not exist'\n      switch (operatorValue) {\n        case 'is':\n          return getTag(`${fieldValue}: ${filterValue}`);\n        case 'is not':\n          return getTag(`${fieldValue}: ${filterValue}`, true);\n        case 'is one of':\n          return getTag(`${fieldValue} ${operatorValue} ${filterValue.join(',')}`);\n        case 'is not one of':\n          return getTag(`${fieldValue} is one of ${filterValue.join(',')}`, true);\n        case 'exists':\n          return getTag(`${fieldValue} ${operatorValue}`);\n        case 'does not exist':\n          return getTag(`${fieldValue} exists`, true);\n      }\n    }\n  }\n\n  function convertToEsQuery(inputsValue) {\n    const { fieldValue, operatorValue, filterValue} = inputsValue;\n    let esQuery;\n\n    switch(operatorValue) {\n      case 'is':\n      case 'is not': {\n        esQuery = {match_phrase: {[fieldValue]: {query: filterValue}}}\n        break;\n      }\n\n      case 'is one of':\n      case 'is not one of': {\n        esQuery = {\n          bool: {\n            minimum_should_match: 1,\n            should: filterValue.map(value => ({match_phrase: {[fieldValue]: value}}))\n          }\n        }\n        break;\n      }\n\n      case 'exists':\n      case 'does not exist': {\n        esQuery = {exists: {field: fieldValue}}\n        break;\n      }\n    }\n\n    return esQuery\n  }\n\n  function getFilterData() {\n    const filter = {\n      bool: {\n        filter: [],\n        must: [],\n        must_not: [],\n        should: []\n      }\n    }\n\n    filters.forEach(item => {\n      if (item.isExclude) return;\n\n      if (item.isEditorValue) {\n        filter.bool.filter.push(item.editorValue)\n      } else {\n        const { fieldValue, operatorValue, filterValue} = item;\n\n        switch(operatorValue) {\n          case 'is':\n          case 'is not': {\n            const value = {match_phrase: {[fieldValue]: {query: filterValue}}}\n            operatorValue === 'is' ? filter.bool.filter.push(value) : filter.bool.must_not.push(value);\n            break;\n          }\n\n          case 'is one of':\n          case 'is not one of': {\n            const value = {\n              bool: {\n                minimum_should_match: 1,\n                should: filterValue.map(value => ({match_phrase: {[fieldValue]: value}}))\n              }\n            }\n            operatorValue === 'is one of' ? filter.bool.filter.push(value) : filter.bool.must_not.push(value);\n            break;\n          }\n\n          case 'exists':\n          case 'does not exist': {\n            const value = {exists: {field: fieldValue}}\n            operatorValue === 'exists' ? filter.bool.filter.push(value) : filter.bool.must_not.push(value);\n            break;\n          }\n        }\n      }\n    })\n\n    return filter;\n  }\n\n  function getTimeRange() {\n    function getRange(startTime, endTime) {\n      return {\n        range: {\n          Time: {\n            format: \"strict_date_optional_time\",\n            gte: startTime.format('YYYY-MM-DDTHH:mm:ss.SSSZ'),\n            lte: endTime.format('YYYY-MM-DDTHH:mm:ss.SSSZ')\n          }\n        }\n      }\n    }\n    \n    const endTime = moment();\n\n    switch(selectedTime) {\n      case 'Today': {\n        const startTime = moment().utcOffset(0);\n        startTime.set({hour:0,minute:0,second:0,millisecond:0})\n        \n        return getRange(startTime, endTime);\n      }\n\n      case 'This week': {\n        const startTime = moment().startOf('isoweek' as unitOfTime.StartOf);\n        return getRange(startTime, endTime);\n      }\n\n      case 'This mouth': {\n        const startTime = moment().startOf('month');\n        return getRange(startTime, endTime);\n      }\n\n      case 'Last 1 hour': {\n        const startTime = moment().subtract(1, 'hours');\n        return getRange(startTime, endTime);\n      }\n\n      case 'Last 12 hour': {\n        const startTime = moment().subtract(12, 'hours');\n        return getRange(startTime, endTime);\n      }\n    \n      case 'Last 24 hour': {\n        const startTime = moment().subtract(24, 'hours');\n        return getRange(startTime, endTime);\n      }\n\n      case 'Absolute': {\n        const { startTime, endTime } = timeRangeRef.current as {startTime: moment.Moment; endTime: moment.Moment;};\n  \n        return getRange(startTime, endTime);\n      }\n    }\n  }\n\n  function handleSearch() {\n    if (isHomePage) {\n      history.push({ pathname: '/dataset', search: `?filterList=${JSON.stringify(filters)}&inputValue=${inputValue}&date=${selectedTime}&timeRange=${JSON.stringify(timeRangeRef.current)}`})\n      return;\n    }\n\n    const filter = getFilterData();\n    const timeRange = getTimeRange();\n    filter.bool.filter.push(timeRange)\n\n    handleFilter && handleFilter({\n      _filter: filter,\n      _input: inputValue\n    });\n  }\n\n  function extractInputValue() {\n    const startIndex = inputValue.indexOf('*');\n    const endIndex = inputValue.lastIndexOf('*');\n\n    return (inputValue.substring(startIndex + 1, endIndex));\n  }\n\n  return(\n    <div className={style['filter-wrapper']}  style={wrapperStyle}>\n      <Row>\n        <Col span={3} className={`header-form-wrapper-${isHomePage ? 'large' : 'default'}`} onMouseDown={handleDropDownClick} onClick={e => e.stopPropagation()}>\n          <Select\n            style={{width: '100%'}}\n            value={selectedTime}\n            open={isOpen}\n            dropdownMatchSelectWidth={false}\n            dropdownStyle={{background: 'transparent', boxShadow: 'none'}}\n            dropdownRender={getDropdownRender}\n          />\n        </Col>\n        <Col span={19} className={`header-form-wrapper-${isHomePage ? 'large' : 'default'}`} style={{paddingLeft: 15}}>\n          <Select\n            showSearch\n            showArrow={false}\n            allowClear\n            value={inputValue}\n            style={{ width: '100%', textAlign: 'left'}}\n            dropdownStyle={{ background: '#f5f5f5' }}\n            // dropdownRender={Menu => (inputValue.length ? Menu : <></>)}\n            dropdownClassName=\"filter-input-dropdown-wrapper\"\n            onSearch={value => setEditingInputValue(value)}\n            onChange={value =>{\n              setEditingInputValue('');\n              setInputValue(value);\n            }}\n\n          >\n            {\n              ['assetname', 'projectname', 'tags'].map(name => {\n                const value = `${name}:*${editingInputValue ? editingInputValue : inputValue ? extractInputValue() : ''}*`\n\n                return (\n                  <Select.Option value={value} key={name}>\n                    {value}\n                  </Select.Option>\n                )\n              })\n            }\n          </Select>\n          <Icon\n            type=\"search\"\n            style={{position: 'absolute', right: 10, top: isHomePage ? 15 : 10, fontSize: 20, cursor: 'pointer'}}\n            onClick={handleSearch}\n          />\n          {/* <Input.Search placeholder=\"Search\" style={{width: '100%', marginRight: 20, marginLeft: 10}} onSearch={handleSearch}></Input.Search> */}\n        </Col>\n        <Col span={2}>\n          <span className={style['filter-button']} style={{ height: inputHeight, lineHeight: inputHeight }} onClick={handleFilterClick}>Add Filter</span>\n          {showFilterDropdown && getFilterDropdown()}\n        </Col>\n      </Row>\n      <div style={{textAlign: 'left'}}>\n        {filters.map( (filter ,index) => getFilterTag(filter, index) )}\n      </div>\n    </div>\n  )\n}\n\nexport default withRouter(FilterSearchBar);","import React, {useState, useEffect, useRef} from 'react';\nimport { Select, Row, Col, Input, Tabs, Menu, Dropdown, Icon, Button } from 'antd';\nimport FilterSearchBar from '@/pages/FilterSearchBar';\n\nimport style from './style.module.less';\n\nconst { TabPane } = Tabs;\n\nconst HomePage = () => {\n\n  return(\n    <div className={style[\"main-wrapper\"]}>\n      <h1 className={style[\"title\"]}>HumanDB</h1>\n      <p className={style[\"sub-title\"]}>人体数据集等等等等这就是一句SLOGAN</p>\n      <FilterSearchBar\n        isHomePage\n        wrapperStyle={{width: '80%', margin: '0 auto', marginTop: 80}}\n      />\n    </div>\n  );\n}\n\nexport default HomePage;","import React, { useState, useRef } from 'react';\nimport { Modal, Select, message } from 'antd';\nimport { Link } from 'react-router-dom';\n\nimport * as API from '@/api';\n\nconst DataSetTagsModal = ({isMutipleTag, onClose, onSuccess, defaultTags = [], checkedList = [], editTagAssetName}) => {\n  const [editTags, setEditTags] = useState(defaultTags);\n  const [searchTags, setSearchTags] = useState([]);\n  const [showSearchList, setShowSearchList] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const searchTimer = useRef(null)\n\n  async function handleTagsOk() {\n    setIsLoading(true);\n    const { data } = isMutipleTag ? await API.assets.addTags({ assetnames: checkedList, tags: editTags}) : await API.assets.updateTags(editTagAssetName, { tags: editTags });\n    setIsLoading(false);\n    if (!data) return;\n    isMutipleTag ? message.success('标签添加成功') : message.success('标签修改成功');\n    onSuccess();\n    onClose();\n  }\n\n  async function handleSearchTag(name) {\n    name ? setShowSearchList(true) : setShowSearchList(false);\n    if (searchTimer.current) clearTimeout(searchTimer.current)\n    searchTimer.current = setTimeout(async () => {\n      const { data } = await API.assets.searchTags({ name })\n      if (!data) return;\n      setSearchTags(data);\n    }, 500);\n  }\n\n  return (\n    <Modal\n        title={isMutipleTag ? '批量添加标签' : '管理标签'}\n        onCancel={() => onClose()}\n        style={{paddingTop: 30, paddingBottom: 30}}\n        visible={true}\n        width={680}\n        maskClosable={false}\n        onOk={handleTagsOk}\n        okText=\"保存\"\n        cancelText=\"取消\"\n        confirmLoading={isLoading}\n      >\n        <p>{isMutipleTag ? (`请为 ${checkedList.slice(0, 2).join('，')} 等${checkedList.length}个 Asset 添加标签：`) : `${editTagAssetName}标签`}</p>\n        <Select\n          mode=\"tags\"\n          value={editTags}\n          open={showSearchList}\n          className=\"add-tags-wrapper\"\n          style={{ width: '100%' }}\n          placeholder=\"请输入标签\"\n          autoClearSearchValue={true}\n          dropdownRender={menu => (\n            <div>\n              {menu}\n            </div>\n          )}\n          notFoundContent={null}\n          onChange={value => {\n            setEditTags(value);\n            setSearchTags([]);\n            setShowSearchList(false);\n          }}\n          onFocus={() => setSearchTags([])}\n          filterOption={(inputValue, option) => {\n            return true\n          }}\n          onSearch={handleSearchTag}\n        >\n          {searchTags.map(tag => (\n            <Select.Option key={tag}>\n              {tag}\n            </Select.Option>\n          ))}\n        </Select>\n      </Modal>\n  )\n}\n\nexport default DataSetTagsModal","const download = ( result ) => {\n  const { status, data, headers } = result;\n\n    const fileName = headers['content-disposition'].split('filename=')[1];\n\n    if (status !== 200) return;\n\n  const blob = new Blob([data], {type: \"application/octet-stream\"});\n    const objectUrl = URL.createObjectURL(blob);\n    const aLink = document.createElement('a');\n    aLink.href = objectUrl;\n    aLink.download = fileName;\n    aLink.click();\n}\n\nexport default download;","import React, { useState, useEffect, useRef } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Radio, Icon, Checkbox, Button, Row, Col, Tag, Pagination, Modal, Select, message, Tooltip, Popconfirm } from 'antd';\nimport Axios from '@fuxi/axios-pro';\nimport * as API from '@/api';\nimport FilterSarchBar from '@/pages/FilterSearchBar'\nimport DataSetTagsModal from '@/pages/DataSetTagsModal';\nimport download from '@/util/download';\n\nimport style from './style.module.less';\n\nconst CancelToken = Axios.CancelToken;\n\nconst ORDER_METHOD = [\n  '按时间/倒序',\n  '按时间/正序',\n  '按asset名称/倒序',\n  '按asset名称/正序',\n  '按project名称/倒序',\n  '按project名称/正序',\n]\n\nenum OrderType {\n  TimeDesc = 0,\n  TimeAsc,\n  AssetDesc,\n  AssetAsc,\n  ProjectDesc,\n  ProjectAsc\n}\n\nconst DataSet: React.FC<{isAdmin: boolean}> = () => {\n  const [checkedList, setCheckedList] = useState<string[]>([]);\n  const [currentPageList, setCurrentPageList] = useState([]);\n  const [total, setTotal] = useState(0);\n  const [page, setPage] = useState(1);\n  const [num, setNum] = useState(12);\n  const [viewMethod, setViewMethod] = useState('grid');\n  const [showImg, setShowImg] = useState(false);\n  const [selectedImg, setSelectedImg] = useState('');\n  const [showEditTagModal, setShowEditTagModal] = useState(false);\n  const [isMutipleTag, setIsMutipleTag] = useState(false);\n  const [editTags, setEditTags] = useState([]);\n  const [editTagAssetName, setEditTagAssetName] = useState('');\n  const [filterParams, setFilterParams] = useState({});\n  const [orderType, setOrderType] = useState(0);\n  // const [selectedImg, setSelectedImg] = useState('');\n\n  const allAssetNameRef = useRef([]);\n  const cancelRef = useRef(null);\n  const isFetchingListRef = useRef(false);\n\n  useEffect(() => {\n    fetchList();\n  }, [page, num, filterParams, orderType])\n\n  useEffect(() => {\n    setCheckedList([]);\n  }, [filterParams])\n\n  useEffect(() => {\n    const lastPage = Math.ceil(total / num);\n    if (!lastPage) return;\n    if (page > lastPage) setPage(lastPage);\n  }, [total])\n\n  function fetchAssetList(isFetchAll = false) {\n    const sortParams = {} as {_direction: string; _sort: string};\n    const ascItems = [OrderType.AssetAsc, OrderType.ProjectAsc, OrderType.TimeAsc];\n    ascItems.includes(orderType) ? (sortParams._direction = 'asc') : (sortParams._direction = 'desc')\n\n    switch(orderType) {\n      case OrderType.AssetAsc:\n      case OrderType.AssetDesc:\n        sortParams._sort = 'assetname'\n        break;\n      case OrderType.ProjectAsc:\n      case OrderType.ProjectDesc:\n        sortParams._sort = 'projectname'\n        break;\n      case OrderType.TimeDesc:\n      case OrderType.TimeAsc:\n        sortParams._sort = 'createtime'\n        break;\n    }\n\n    const params = {\n      _page: page,\n      _num: isFetchAll ? -1 : num,\n      ...filterParams,\n      ...sortParams\n    }\n\n    const cancelToken = new CancelToken(cancel => cancelRef.current = cancel);\n\n    return API.assets.fetchList(params, cancelToken);\n  }\n\n  async function fetchList() {\n    if ( isFetchingListRef.current === true ) cancelRef.current && cancelRef.current();\n\n    try {\n      isFetchingListRef.current = true;\n      const { data } = await fetchAssetList()\n      isFetchingListRef.current = false;\n\n      if (!data) return;\n      setCurrentPageList(data.items);\n      setTotal(data.total);\n    } catch(e) {\n      console.log('cancel request');\n    }\n    \n  }\n\n\n  async function handleDownLoadAsset(assetname) {\n    const result = await API.util.downloadAsset({assetname});\n\n    download(result);\n  }\n\n  function getIcons(item) {\n    function handlePreview() {\n      setShowImg(true);\n      setSelectedImg(item.preview);\n    }\n\n    function removeCheck() {\n      setCheckedList(checkedList.filter(checkedAssetname => item.assetname !== checkedAssetname))\n    }\n\n    async function handleDelete() {\n      const { data } = await API.assets.deleteAsset(item.assetname);\n      removeCheck();\n      message.success('删除成功');\n      fetchList();\n    }\n\n    return (\n      <div onClick={e => e.stopPropagation()}>\n        <Icon onClick={handlePreview} type=\"eye\" style={{marginRight: 5, cursor: 'pointer'}} />\n        <Link to={`/dataset/${item.assetname}`} style={{color: '#000'}}>\n          <Icon type=\"fullscreen\" style={{marginRight: 5, cursor: 'pointer'}} />\n        </Link>\n        <Icon type=\"download\"  onClick={() => handleDownLoadAsset(item.assetname)} style={{marginRight: 5, cursor: 'pointer'}}  />\n        <Popconfirm\n          title={<p style={{ marginBottom: 0 }}>{`你确定要删除${item.assetname}吗?`}</p>}\n          onConfirm={handleDelete}\n          okText=\"确定\"\n          cancelText=\"取消\"\n          icon={<Icon type=\"close-circle\" className={style[\"confirm-icon\"]} theme=\"filled\" />}\n        >\n          <Icon type=\"delete\"/>\n        </Popconfirm>\n      </div>\n    )\n  }\n\n  function handleEditTag(isMutiple, assetname='', editTags = []) {\n    setShowEditTagModal(true);\n    setIsMutipleTag(isMutiple);\n    setEditTags(editTags);\n    if (assetname) setEditTagAssetName(assetname);\n  }\n\n  function handleCheck(assetname) {\n    if (checkedList.includes(assetname)) {\n      setCheckedList(checkedList.filter(item => item !== assetname));\n    } else {\n      checkedList.push(assetname);\n      setCheckedList([...checkedList]);\n    }\n  }\n\n  function getTags(tags, maxLength, maxItem) {\n    const showingTags = tags.slice(0, maxItem);\n\n    return (\n      <>\n\n        {\n          showingTags.map((tag, index) => {\n            const isOverflow =  tag.length > maxLength\n            const visible = isOverflow ? {} : {visible: false}\n\n            return (\n              <Tooltip title={tag} {...visible}  key={tag}>\n                <Tag>{isOverflow ? `${tag.substring(0, maxLength)}...` : tag}</Tag>\n              </Tooltip>\n            )\n          })\n           \n        }\n\n        {\n          tags.length > maxItem && (\n            <Tooltip overlay={tags.join('，')}>\n              <Tag>...</Tag>\n            </Tooltip>\n          )\n        }\n\n      </>\n    ) \n  }\n\n  function getGridCard() {\n    \n    return (\n      <ul className=\"card-wrapper\" style={{flexWrap: 'wrap', display: viewMethod === 'grid' ? 'flex' : 'none'}}>\n        {\n          currentPageList.map((item) => {\n            const {assetname, projectname, preview, tags} = item;\n            const isChecked = checkedList.includes(assetname);\n\n            return (\n              <li key={assetname} style={{flex: '0 1 24%', width: '24%', marginBottom: 18, marginRight: '1.3%'}}>\n                <div className={isChecked ? style.checked : ''} style={{position: 'relative', boxShadow: '0 2px 8px rgba(0, 0, 0, 0.15)', background: '#ccc'}}>\n                  {isChecked && <Icon type=\"check\" style={{position: 'absolute', color: '#fff', fontSize: 16, left: 3, top: 3, zIndex: 2}}/>}\n                  <div style={{position: 'relative', overflow: 'hidden', height: 250, cursor: 'pointer'}} onClick={() => handleCheck(assetname)}>\n                    <img height='100%' style={{marginLeft: '50%', transform: 'translateX(-50%)'}} src={item.preview} onError={(e)=>{ e.target.src=\"./static/images/notfound.svg\"}} alt=\"\"/>\n                    <div style={{ position: 'absolute', top: 8, right: 8 }}>\n                      {getIcons(item)}\n                    </div>\n\n                    <div style={{position: 'absolute', bottom: 8, left: 8}}>\n                      <div style={{ marginBottom: 10, fontSize: 16, fontWeight: 700}} >\n                        {assetname}\n                      </div>\n\n                      <div>\n                        {projectname}\n                      </div>\n\n                    </div>\n                  </div>\n\n                  <div style={{padding: 8, background: '#fff'}}>\n                    {\n                      getTags(tags, 3, 3)\n                    }\n                    <Icon onClick={() => handleEditTag(false, assetname, tags)} type=\"setting\" style={{cursor: 'pointer'}}/>\n                  </div>\n                </div>\n              </li>\n            )\n          })\n        }\n      </ul>\n    )\n  }\n\n  function getColumnCard() {\n    return (\n      <ul style={{ display: viewMethod === 'grid' ? 'none' : 'block' }}>\n        {\n          currentPageList.map(item => {\n            const {assetname, projectname, preview, tags, createtime} = item;\n            const isChecked = checkedList.includes(assetname);\n\n            return (\n              <li onClick={() => handleCheck(assetname)} key={item.assetname} className={isChecked ? style.checked : ''} style={{width: '100%', height: 120, padding: 14, position: 'relative', cursor: 'pointer', marginTop: 20, boxShadow: '0 2px 8px rgba(0, 0, 0, 0.15)', background: '#fff'}}>\n                <div style={{position: 'absolute', right: 14, top: 14}}>\n                  {getIcons(item)}\n                </div>\n                {isChecked && <Icon type=\"check\" style={{position: 'absolute', color: '#fff', fontSize: 16, left: 3, top: 3, zIndex: 2}}/>}\n                <div style={{display: \"flex\", justifyContent: 'flex-start'}}>\n                  <div style={{position: 'relative', height: 92, width: 92, overflow: 'hidden', background: '#ccc'}}>\n                    <img src={'./static/images/notfound.svg'} onError={(e)=>{ e.target.src=\"./static/images/notfound.svg\"}} height=\"92\" alt=\"\" style={{marginLeft: '50%', transform: 'translateX(-50%)'}}/>\n                  </div>\n                  <div style={{display: \"flex\", flexDirection: 'column', justifyContent: 'space-between', marginLeft: 14}}>\n                    <span style={{fontSize: 16, fontWeight: 700}}>{assetname}</span>\n                    <span>{projectname},{createtime}</span>\n                    <span>\n                      {\n                        getTags(tags, 6, 9)\n                      }\n                      <Icon\n                        onClick={(e) => {\n                          e.stopPropagation();\n                          handleEditTag(false, assetname, tags)\n                        }}\n                        type=\"setting\"\n                        style={{cursor: 'pointer'}}\n                      />\n                    </span>\n                  </div>\n                </div>\n              </li>\n            )\n          })\n        }\n      </ul>\n    )\n  }\n\n  function handleCheckCurrentPage(e) {\n    const checked = e.target.checked;\n    const concatList = checkedList.concat(currentPageList.map(item => item.assetname));\n    if (checked) {\n      setCheckedList([...new Set(concatList)])\n    } else {\n      const currentPageAssetNames = currentPageList.map(item => item.assetname);\n      setCheckedList(checkedList.filter(assetname => !currentPageAssetNames.includes(assetname)));\n    }\n  }\n\n  function handleCheckAll(e) {\n    const { checked } = e.target;\n\n    if (!checked) return setCheckedList([]);\n\n    async function fetchAll() {\n      const { data } = await fetchAssetList();\n      const { items } = data;\n\n      allAssetNameRef.current = items.map(item => item.assetname);\n      setCheckedList( allAssetNameRef.current);\n    }\n\n    if (!allAssetNameRef.current.length) return fetchAll();\n    return setCheckedList( allAssetNameRef.current);\n  }\n\n  function isCheckAll() {\n    if (!allAssetNameRef.current.length) return false;\n    return checkedList.length === allAssetNameRef.current.length;\n  }\n\n  function isCheckAllIndeterminate() {\n    return checkedList.length !== 0 && !isCheckAll();\n  }\n\n  function isCheckCurrentPageIndeterminate() {\n    return currentPageList.some(item => checkedList.includes(item.assetname)) && !isCheckCurrentPage() ;\n  }\n\n  function isCheckCurrentPage() {\n    return currentPageList.length !== 0 && currentPageList.every(item => checkedList.includes(item.assetname));\n  }\n\n  function handleSearch(params) {\n    setFilterParams(params);\n  }\n\n  return (\n    <>\n      <FilterSarchBar\n        wrapperStyle={{paddingBottom: 40}}\n        isHomePage={false}\n        handleFilter={handleSearch}\n      />\n      <div style={{display: 'flex', justifyContent: 'space-between'}}>\n        <div>\n          <Radio.Group value={viewMethod} onChange={(e) => setViewMethod(e.target.value)}>\n            <Radio.Button value=\"grid\"><Icon type=\"appstore\" /></Radio.Button>\n            <Radio.Button value=\"column\"><Icon type=\"menu\" /></Radio.Button>\n          </Radio.Group>\n          \n          <Select\n            defaultValue={ORDER_METHOD[0]}\n            style={{marginLeft: 10, width: 200}}\n            onChange={e => setOrderType(e)}\n          >\n\n            {\n              ORDER_METHOD.map((name, index) => (\n                <Select.Option key={name} value={index}>\n                  {name}\n                </Select.Option>\n              ))\n            }\n\n          </Select>\n        </div>\n        <div>\n          <span style={{marginLeft: 10}}>已选{checkedList.length}项</span>\n          <span style={{marginLeft: 10}}>\n            <Checkbox onChange={handleCheckAll} indeterminate={isCheckAllIndeterminate()} checked={isCheckAll()}>全选</Checkbox>\n          </span>\n          <span style={{marginLeft: 10}}>\n            <Checkbox onChange={handleCheckCurrentPage} indeterminate={isCheckCurrentPageIndeterminate()} checked={isCheckCurrentPage()} >选中当前页</Checkbox>\n          </span>\n          <span style={{marginLeft: 10}}>\n            <Tooltip title={`请选择多个项（≥2）进行批量添加标签`} {...(checkedList.length >= 2 ? { visible: false } : {})}>\n              <Button onClick={() => handleEditTag(true)} disabled={checkedList.length < 2}>批量添加标签</Button>\n            </Tooltip>\n          </span>\n        </div>\n      </div>\n\n        <div style={{marginTop: 20}}>\n          {\n            <>\n              {getGridCard()}\n              {getColumnCard()}\n            </>\n          }\n        </div>\n\n      <Pagination\n        showQuickJumper\n        showSizeChanger\n        defaultCurrent={1}\n        current={page}\n        defaultPageSize={12}\n        pageSizeOptions={['12', '24', '36', '48']}\n        total={total}\n        onChange={page => setPage(page) }\n        onShowSizeChange={(page, size) => {\n          setPage(page);\n          setNum(size);\n        }}\n        style={{float: \"right\", marginTop: 30}}\n      />\n      <div style={{clear: \"right\"}} />\n      <Modal onCancel={() => setShowImg(false)} className=\"img-modal-wrapper\" style={{paddingTop: 30, paddingBottom: 30}} visible={showImg} width={680} footer={null}>\n        <img src={selectedImg} width=\"100%\" alt=\"\"/>\n      </Modal>\n\n      {\n        showEditTagModal && (\n          <DataSetTagsModal\n            defaultTags={editTags}\n            isMutipleTag={isMutipleTag}\n            onClose={() => setShowEditTagModal(false)}\n            onSuccess={fetchList}\n            checkedList={checkedList}\n            editTagAssetName={editTagAssetName}\n          />\n        )\n      }\n    </>\n  )\n}\n\nexport default DataSet;","import React, { useState } from 'react';\nimport { Modal, Input, Upload, Button, Icon, InputNumber } from 'antd';\nimport Form, { FormComponentProps } from 'antd/lib/form';\n\nconst COMPONENT_FIELDS = {\n  body: [\n    {\n      name: 'model',\n      isRequired: true,\n    },\n    {\n      name: 'format',\n      isRequired: true\n    },\n    {\n      name: 'comment',\n      isRequired: false,\n      defaultValue: ''\n    },\n    {\n      name: 'fps',\n      isRequired: true,\n      isInt: true\n    },\n    {\n      name: 'framenum',\n      isRequired: false,\n      isInt: true\n    },\n    {\n      name: 'startframe',\n      isRequired: false,\n      defaultValue: 0,\n      isInt: true\n    },\n    {\n      name: 'endframe',\n      isRequired: false,\n      defaultValue: 0,\n      isInt: true\n    },\n    {\n      name: 'orderformat',\n      isRequired: false\n    },\n    {\n      name: 'coordinate',\n      isRequired: false\n    }\n  ],\n  face: [\n    {\n      name: 'model',\n      isRequired: true,\n    },\n    {\n      name: 'format',\n      isRequired: true\n    },\n    {\n      name: 'comment',\n      isRequired: false,\n      defaultValue: ''\n    },\n    {\n      name: 'vertexnum',\n      isRequired: false,\n      isInt: true\n    },\n    {\n      name: 'facenum',\n      isRequired: false,\n      isInt: true\n    },\n    {\n      name: 'expdim',\n      isRequired: false,\n      isInt: true\n    },\n    {\n      name: 'iddim',\n      isRequired: false,\n      isInt: true\n    },\n  ],\n  audio: [\n    {\n      name: 'name',\n      isRequired: false,\n    },\n    {\n      name: 'format',\n      isRequired: true\n    },\n    {\n      name: 'samplerate',\n      isRequired: true,\n      isInt: true\n    }\n  ],\n  video: [\n    {\n      name: 'name',\n      isRequired: false,\n    },\n    {\n      name: 'format',\n      isRequired: true\n    }\n  ],\n  feature: [\n    {\n      name: 'name',\n      isRequired: false,\n    }\n  ]\n}\n\ntype Props = {\n  type: string;\n  isCreate: boolean;\n  onEditUpload?;\n  isReplaceLoading?: boolean\n}\n\nconst UrlValue = ({value = ''}) => {\n\n  return (\n    <span style={{wordBreak: 'break-all'}}>{value}</span>\n  )\n}\n\nconst ComponentForm: React.FC<Props & FormComponentProps> = ({ form, type, isCreate, onEditUpload, isReplaceLoading }) => {\n  const [fileList, setFileList] = useState([]);\n\n  const { getFieldDecorator, setFieldsValue } = form;\n\n  const formItemLayout = {\n    labelCol: {\n      xs: { span: 24 },\n      sm: { span: 4 }\n    },\n    wrapperCol: {\n      xs: { span: 24 },\n      sm: { span: 20 }\n    }\n  };\n\n  const uploadProps = {\n    fileList,\n    onRemove: () => {\n      setFileList([]);\n      setFieldsValue({ file: undefined });\n    },\n    beforeUpload: file => {\n      setFileList([file]);\n      setFieldsValue({ file });\n      return false;\n    }\n  };\n\n  const editUploadProps = {\n    showUploadList: false,\n    beforeUpload: file => {\n      onEditUpload(file);\n      return false;\n    }\n  }\n\n  return (\n    <Form>\n      {\n        COMPONENT_FIELDS[type].map(({name, isRequired, isInt, defaultValue}: {name: string; isRequired?: boolean; isInt: boolean; defaultValue: any}) => (\n          <Form.Item {...formItemLayout} key={name} label={name}>\n            {getFieldDecorator(name, {\n              rules: [\n                { required: isRequired, message: `${name}不能为空` }\n              ],\n              initialValue: defaultValue !== undefined ? defaultValue : ''\n            })(\n              isInt ? <InputNumber style={{background: isCreate ? '' : '#f0f3ff', width: '100%'}} /> : <Input style={{background: isCreate ? '' : '#f0f3ff'}}/>\n            )}\n          </Form.Item>\n        ))\n      }\n      {\n        isCreate ? (\n          <Form.Item {...formItemLayout} label=\"file\">\n            {getFieldDecorator('file', {\n              rules: [\n                { required: true, message: `文件不能为空` }\n              ]\n            })(\n              <Upload {...uploadProps}>\n                <Button>\n                  <Icon type=\"upload\" /> 点击上传\n                </Button>\n              </Upload>\n            )}\n          </Form.Item>\n        ) : (\n          <Form.Item {...formItemLayout} label=\"url\">\n            {getFieldDecorator('url', {})(\n              <UrlValue />\n            )}\n            <Upload {...editUploadProps}>\n                <Button size=\"small\" style={{marginLeft: 20}} loading={isReplaceLoading}>替换</Button>\n              </Upload>\n          </Form.Item>\n        )\n      }\n    </Form>\n  )\n}\n\nexport default ComponentForm;","const getPrefixComponentName = ( type, item ) => {\n  const { model, format, samplerate, name} = item;\n\n  switch(type) {\n\n    case 'body': \n    case 'face': {\n      return `${model}_${format}`;\n    }\n\n    case 'audio': {\n      return `${name}_${format}_${samplerate}`\n    }\n    case 'video': {\n      return `${name}_${format}`;\n    }\n    case 'feature': {\n      return `${name}`;\n    }\n  }\n}\n\nexport default getPrefixComponentName;","import React, { useEffect, useRef, useState } from 'react';\nimport { Modal, message } from 'antd';\nimport Form, { FormComponentProps } from 'antd/lib/form';\nimport ComponentForm from '@/pages/DataSetDetail/ComponentForm';\nimport * as API from '@/api'\n\nimport getPrefixComponentName from '@/util/getPrefixComponentName'\n\ntype Props = {\n  assetname: string;\n  type: string;\n  onCancel(): void;\n  onSuccess(data): void;\n} & FormComponentProps\n\nconst CreateComponentModal: React.FC<Props> = ({assetname, type, form, onCancel, onSuccess }) => {\n  const [isLoading, setIsLoading] = useState(false)\n\n  const { validateFieldsAndScroll } = form;\n  function handleOk() {\n    validateFieldsAndScroll( async (err, values) => {\n\n      if (err) return;\n      const fd = new FormData();\n      for (let name of Object.keys(values)) {\n        const isFile = name === 'file'\n        isFile ? fd.append(name, values[name].file) : fd.append(name, values[name]);\n        if (isFile) {\n          const file = values[name].file;\n\n          if (!values.name && values.format && !values.model) {\n            const fileType = file.name.substring(file.name.lastIndexOf('/') + 1);\n            if (fileType !== values.format) message.error('文件类型不匹配');\n            return \n          }\n\n          const validFileName = getPrefixComponentName(type, values);\n          const fileName = file.name.substring(0, file.name.lastIndexOf('.'));\n\n          debugger\n\n          if (validFileName !== fileName) return message.error('文件名不匹配');\n        }\n      }\n  \n      setIsLoading(true);\n      const { data } = await API.assets.addComponent(assetname, type, fd);\n      setIsLoading(false);\n      message.success('新增成功');\n      onSuccess(data);\n    })\n  }\n\n  return (\n    <Modal\n      className=\"component-modal-wrapper\"\n      title=\"新增\"\n      width={600}\n      visible={true}\n      maskClosable={false}\n      onOk={handleOk}\n      onCancel={onCancel}\n      okText=\"保存\"\n      cancelText=\"取消\"\n      confirmLoading={isLoading}\n    >\n      <ComponentForm\n        form={form}\n        type={type}\n        isCreate\n      />\n    </Modal>\n  )\n}\n\nexport default Form.create<Props>()(CreateComponentModal);","import React, { useState, useEffect, useRef } from 'react';\nimport { Slider, Row, Col, Icon } from 'antd';\n\nimport style from './style.module.less'\n\ntype Props = {\n  src: string;\n  type: 'video' | 'audio';\n}\n\nconst MediaPlayer: React.FC<Props> = ({ type, src }, ref) => {\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [duration, setDuration] = useState(0);\n  const [currentDuration, setCurrentDuration] = useState(0);\n  const [waves, setWaves] = useState([]);\n\n  const media = useRef(null);\n  const analyserRef = useRef(null);\n  const animationRef = useRef(null);\n\n  function handlePause() {\n    setIsPlaying(false);\n    setWaves([]);\n    animationRef.current && cancelAnimationFrame(animationRef.current);\n  }\n\n  function initMedia () {\n    media.current.src = src;\n    media.current.crossOrigin = \"anonymous\";\n    media.current.preload = 'metadata';\n    media.current.onloadedmetadata = () => {\n      // debugger\n      setDuration(Math.floor(media.current.duration));\n    };\n    media.current.ontimeupdate = (e) => {\n      setCurrentDuration(Math.floor(media.current.currentTime));\n    }\n    media.current.onended = () => {\n      handlePause();\n      media.current.currentTime = 0;\n    }\n\n    if (type === 'audio') {\n      const context = new AudioContext();\n      const src = context.createMediaElementSource(media.current);\n      const analyser = context.createAnalyser();\n      analyserRef.current = analyser;\n      src.connect(analyser);\n      analyser.connect(context.destination);\n  \n      analyser.fftSize = 256;\n    }\n  }\n\n  useEffect(() => {\n    initMedia()\n  }, [type]);\n\n  useEffect(() => {\n    handlePause();\n  }, [type, src]);\n  \n\n  function renderSoundWave() {\n    const waveArray = new Uint8Array(13);\n    animationRef.current = requestAnimationFrame(renderSoundWave);\n\n    analyserRef.current.getByteFrequencyData(waveArray);\n\n    setWaves(Array.from(waveArray));\n  }\n\n  function handlePlayOrPause() {\n    if (media.current.paused) {\n      media.current.play();\n      setIsPlaying(true);\n\n      if (type === 'audio') {\n        const waveArray = new Uint8Array(10);\n        renderSoundWave();\n      }\n    } else {\n      media.current.pause()\n      handlePause();\n    }\n  }\n\n  function handleFullScreen() {\n    if (media.current.requestFullscreen) {\n      media.current.requestFullscreen();\n    } else if (media.current.mozRequestFullScreen) { /* Firefox */\n      media.current.mozRequestFullScreen();\n    } else if (media.current.webkitRequestFullscreen) { /* Chrome, Safari & Opera */\n      media.current.webkitRequestFullscreen();\n    } else if (media.current.msRequestFullscreen) { /* IE/Edge */\n      media.current.msRequestFullscreen();\n    }\n  }\n\n  function getAudioWave() {\n    //暂停时的图形\n    if (!waves.length) {\n      let arr = [];\n      for (let i = 0; i < 13; i++) {\n        i % 2 ? (arr[i] = 35) : (arr[i] = 20);\n      }\n\n      return arr.map((height, index) => (\n        <div key={index} style={{ height }} className={style['waveform']}></div>\n      ));\n    }\n\n    //将0-255范围的值映射到8到20的高度范围里\n    return waves.map((span, index) => {\n      const oldValue = span;\n      const oldMin = 0;\n      const oldMax = 255;\n      const newMin = 10;\n      const newMax = 50;\n\n      const height = ((oldValue - oldMin) * (newMax - newMin)) / (oldMax - oldMin) + newMin;\n\n      return <div key={index} style={{ height }} className={style['waveform']} />;\n    });\n  }\n\n  function getTimestamp() {\n    function getTwoDigitsTime(time) {\n      return time < 10 ? `0${time}` : time\n    }\n    const totalTime = `${getTwoDigitsTime(Math.floor(duration / 60))}:${getTwoDigitsTime(duration % 60)}`;\n    const currentTime = `${getTwoDigitsTime(Math.floor(currentDuration / 60))}:${getTwoDigitsTime(currentDuration % 60)}`;\n\n    return `${currentTime}/${totalTime}`\n  }\n\n  return (\n    <>\n      {\n        type === 'video' ?\n        (\n          <video src={src} ref={media} width=\"100%\"/>\n        ) :\n        (\n          <div>\n            <audio src={src} ref={media} crossOrigin=\"anonymous\"/>\n            <div style={{display: 'flex', justifyContent: 'center', alignItems: 'center', height: 380}}>\n                {getAudioWave()}\n            </div>\n          </div>\n        )\n\n      }\n      <Row style={{marginTop: 25, display: 'flex', alignItems: 'center', position: 'absolute', bottom: -50, width: '100%'}}>\n        <Col span={1}>\n          <img onClick={handlePlayOrPause} width=\"100%\" src={`./static/images/${isPlaying ? 'pause' : 'play'}.png`} style={{cursor: 'pointer'}} alt=\"\"/>\n        </Col>\n        <Col span={5} style={{paddingLeft: 20}}>\n          {getTimestamp()}\n        </Col>\n        <Col span={16}>\n          <Slider\n            value={currentDuration}\n            className=\"slider-wrapper\"\n            tipFormatter={null}\n            max={duration}\n            onChange={(value) => {\n              media.current.currentTime = value as number;\n              setCurrentDuration(value as number);\n            }}\n          />\n        </Col>\n        {\n          type === 'video' && (\n            <Col span={2} style={{paddingLeft: 10}}>\n              <Icon onClick={handleFullScreen} type=\"fullscreen\" style={{cursor: 'pointer'}}/>\n            </Col>\n          )\n        }\n      </Row>\n    </>\n  )\n}\n\nexport default React.forwardRef(MediaPlayer);","import React,  { useState, useEffect, useRef } from 'react';\nimport { Breadcrumb, Button, Row, Col, Tabs, Tag, Menu, Pagination, Modal, Input, Upload, Icon, message, Slider } from 'antd';\nimport { Link, RouteComponentProps } from 'react-router-dom';\nimport Form, { FormComponentProps } from 'antd/lib/form';\n\nimport * as API from '@/api';\nimport DataSetTagsModal from '@/pages/DataSetTagsModal'\nimport CreateComponentModal from '@/pages/DataSetDetail/CreateComponentModal'\nimport ComponentForm from '@/pages/DataSetDetail/ComponentForm'\nimport MediaPlayer from '@/pages/DataSetDetail/MediaPlayer'\nimport download from '@/util/download';\n\nimport getPrefixComponentName from '@/util/getPrefixComponentName';\n\nimport './style.module.less';\n\nconst { TabPane } = Tabs;\n\nconst COMPONENT_TYPES = ['body', 'face', 'audio', 'video', 'feature'];\n\nconst PAGE_SIZE = 7;\n\nconst DEFAULT_PAGINATIONS = {};\n\nCOMPONENT_TYPES.forEach(type => {\n  DEFAULT_PAGINATIONS[type] = 1;\n});\n\ntype Props = {\n  isAdmin: boolean;\n} & RouteComponentProps<{assetname}> & FormComponentProps\n\nconst DataSetDetail: React.FC<Props> = ({match, history, form, isAdmin}) => {\n  const [assetInfo, setAssetInfo] = useState(null);\n  const [selectedName, setSelectedName] = useState('');\n  const [selectedType, setSelectedType] = useState(COMPONENT_TYPES[0]);\n  const [showCreateModal, setShowCreateModal] = useState(false);\n  const [componentInfo, setComponentInfo] = useState<{url?}>({});\n  const [currentPaginations, setCurrentPaginations] = useState(DEFAULT_PAGINATIONS);\n  const [showEditTagModal, setShowEditTagModal] = useState(false);\n  const [componentInfoTab, setComponentInfoTab] = useState('');\n  const [isEditProjectName, setIsEditProjectName] = useState(false);\n  const [isReplaceLoading, setisReplaceLoading] = useState(false);\n  const [isDownloadAsset, setIsDownloadAsset] = useState(false);\n  const [isDownloadComponent, setIsDownloadComponent] = useState(false);\n\n  const { assetname } = match.params;\n\n  const { validateFieldsAndScroll, setFieldsValue } = form;\n\n  async function fetchComponentInfo(componentName) {\n    if (!componentName) return;\n    const { data } = await API.assets.fetchComponent(assetname, selectedType, componentName);\n    // if (selectedType === 'audio') audio.src = data.url;\n    // debugger\n    setFieldsValue(data);\n    setComponentInfo(data);\n  }\n\n  async function fetchAsset(isInit = false) {\n    const { data } = await API.assets.fetchAsset(assetname);\n    if (!data) return;\n    const initTypesValue = {};\n\n    COMPONENT_TYPES.forEach(type => {\n      initTypesValue[type] = [];\n    });\n\n    const asset = {\n      ...initTypesValue,\n      ...data\n    }\n\n    setAssetInfo(asset);\n    if (isInit) {\n      const bodyName = getPrefixComponentName('body', asset.body[0] || {})\n      setSelectedName(bodyName);\n    }\n  }\n\n  useEffect(() => {\n    fetchAsset(true);\n  }, []);\n\n  useEffect(() => {\n    fetchComponentInfo(selectedName);\n  }, [selectedName])\n\n  function getPreview() {\n    switch (selectedType) {\n      case 'audio':\n      case 'video': {\n        return (\n          <MediaPlayer type={selectedType} src={(componentInfo && componentInfo.url) || ''}/>\n        )\n      }\n      default: {\n        return (\n          <div style={{width: '100%', textAlign: 'center', lineHeight: '370px'}}>\n            不支持预览\n          </div>\n        )\n      }\n    }\n  }\n\n  function handleClickList(e) {\n    setSelectedName(e.key);\n  }\n\n  function getFileList(type) {\n\n    return (\n      <>\n        <Button onClick={() => setShowCreateModal(true)} icon=\"plus\" style={{padding: '0 35px', margin: '10px 0'}}>新增</Button>\n        <Menu\n          onClick={handleClickList}\n          style={{ width: \"100%\" }}\n          defaultSelectedKeys={['1']}\n          defaultOpenKeys={['sub1']}\n          mode=\"inline\"\n          selectedKeys={[selectedName]}\n        >\n          {console.log(type)}\n          {assetInfo[type].slice((currentPaginations[type] - 1) * 7, (currentPaginations[type] - 1) * 7 + 7).map((item, index) =>\n            <Menu.Item key={getPrefixComponentName(type, item)}>{getPrefixComponentName(type, item)}</Menu.Item>\n          )}\n        </Menu>\n        <Pagination\n          className=\"component-pagination\"\n          total={assetInfo[type].length}\n          size=\"small\"\n          onChange={current => {\n            setCurrentPaginations({...currentPaginations, [type]: current});\n            setSelectedName(getPrefixComponentName(type, assetInfo[type][(current - 1) * 7]));\n          }}\n          pageSize={PAGE_SIZE}\n          showTotal={() => `共${assetInfo[type].length}项`}\n        />\n      </>\n    )\n  }\n\n  async function handleEditUpload(file) {\n    const fd = new FormData()\n    fd.append('file', file);\n    setisReplaceLoading(true);\n    const { data } = await API.assets.updateComponentFile(assetname, selectedType, selectedName, fd);\n    setisReplaceLoading(false);\n    if (!data) return message.error('替换失败');\n    // debugger\n    message.success('替换成功');\n    setFieldsValue({url: data.url})\n  }\n\n  function getComponentFields() {\n    return (\n      <Tabs type=\"card\" className=\"component-tabs-wrapper\" onChange={tab => setComponentInfoTab(tab)}>\n        <TabPane tab=\"预览\" key=\"预览\" >\n          <div style={{padding: 20, height: 390, background: '#f0f3ff', position: 'relative'}}>\n            {getPreview()}\n          </div>\n        </TabPane>\n        <TabPane tab=\"编辑\" key=\"编辑\" forceRender={true}>\n          <div style={{padding: 20, height: 390, background: '#f0f3ff', position: 'relative', overflow: 'auto'}}>\n            <ComponentForm\n              form={form}\n              type={selectedType}\n              isCreate={false}\n              onEditUpload={handleEditUpload}\n              isReplaceLoading={isReplaceLoading}\n            />\n          </div>\n          {componentInfoTab === '编辑' && <Button onClick={() => submitComponentInfo()} style={{float: 'right', marginTop: 20}}>刷新应用</Button>}\n        </TabPane>\n      </Tabs>\n    )\n  }\n\n  async function submitComponentInfo() {\n    validateFieldsAndScroll( async (err, values) => {\n      if (err) return;\n      const { data } = await API.assets.updateComponent(assetname, selectedType, selectedName, values);\n      if (!data) return;\n      message.success('编辑成功');\n      fetchAsset();\n    })\n  }\n\n  console.log(assetInfo);\n\n  function handleDelete(isComponent) {\n    async function deleteAsset() {\n      const { data } = isComponent ? await API.assets.deleteComponent(assetname, selectedType, selectedName) : await API.assets.deleteAsset(assetname);\n      // if (!data) return;\n      setSelectedName('');\n      message.success('删除成功');\n      isComponent && fetchAsset();\n      !isComponent && history.push('/dataset');\n    }\n\n    Modal.confirm({\n      okText: '确定',\n      cancelText: '取消',\n      title: `确定要删除${isComponent ? selectedName : assetname}吗`,\n      onOk() {\n        deleteAsset()\n      },\n      onCancel() {},\n    });\n  }\n\n  function handleCreateSuccess(data) {\n    setShowCreateModal(false);\n    setAssetInfo({\n      ...assetInfo,\n      ...{[selectedType]: data[selectedType]}\n    })\n\n  }\n\n  if (!assetInfo) return null;\n\n  const { projectname, actorname, createtime, tags, comment } = assetInfo;\n\n  const formItemLayout = {\n    labelCol: {\n      xs: { span: 24 },\n      sm: { span: 4 }\n    },\n    wrapperCol: {\n      xs: { span: 24 },\n      sm: { span: 20 }\n    }\n  };\n\n  async function handleChangeProjectName(e) {\n    const projectname = e.target.value;\n    if (!projectname) {\n      message.error('请填写项目名称');\n      setIsEditProjectName(false);\n      return\n    }\n    const { data } = await API.assets.updateAsset(assetname, { projectname });\n\n    message.success('编辑成功');\n    setAssetInfo({...assetInfo, projectname });\n    setIsEditProjectName(false);\n  }\n\n  async function handleDownloadComponent() {\n    if (isDownloadComponent) return;\n    setIsDownloadComponent(true);\n    const result = await API.assets.downloadComponent(assetname, selectedType, selectedName);\n    setIsDownloadComponent(false);\n    if (!result) return;\n    download(result)\n  }\n\n  async function handleDownloadAsset() {\n    setIsDownloadAsset(true);\n    const result = await API.util.downloadAsset({assetname});\n    setIsDownloadAsset(false);\n    if (!result) return;\n    download(result);\n  }\n\n  return (\n    <>\n      <Breadcrumb style={{marginBottom: 30}}>\n        <Breadcrumb.Item><Link to=\"/dataset\">数据集</Link></Breadcrumb.Item>\n        <Breadcrumb.Item>AssetName详情页</Breadcrumb.Item>\n      </Breadcrumb>\n      <div style={{background: '#fff', padding: 20, display: 'flex', position: 'relative', marginBottom: 20}}>\n        <div style={{position: 'absolute', right: 20, top: 20}}>\n          <Button type=\"danger\" ghost style={{width: 95}} onClick={handleDelete}>删除</Button>\n          <Button type=\"primary\" ghost style={{width: 95, marginRight: 10, marginLeft: 10}} onClick={() => setShowEditTagModal(true)}>标签管理</Button>\n          <Button type=\"primary\" style={{width: 95}} onClick={handleDownloadAsset} loading={isDownloadAsset}>下载</Button>\n        </div>\n        <div style={{width: 200, height: 200, overflow: 'hidden', marginRight: 20, background: '#fafafa'}}>\n          <img src={assetInfo.preview} height=\"100%\" alt=\"\" style={{marginLeft: '50%', transform: 'translateX(-50%)'}}/>\n        </div>\n        <div style={{flex: 1}}>\n          <div style={{height: 200, display: 'flex', flexDirection: 'column', justifyContent: 'space-between'}}>\n            <div>{assetname}</div>\n            <div>\n              <span>\n                项目名称：\n                {\n                  isEditProjectName ? (\n                    <Input\n                      size=\"small\"\n                      defaultValue={projectname}\n                      style={{width: 200}}\n                      onPressEnter={(e) => handleChangeProjectName(e)}\n                      onBlur={(e) => handleChangeProjectName(e)}\n                    />\n                  ) : projectname\n                }\n              </span>\n              <Icon type=\"form\" style={{ marginLeft: 10, cursor: 'pointer' }} onClick={() => setIsEditProjectName(true)}/>\n              </div>\n            <div>{actorname}{actorname ? '，' : ''}{createtime}</div>\n            <div style={{height: 100, background: '#fafafa', padding: 10, overflow: 'auto', marginBottom: 10}}>\n              {tags.map(tag => (\n                <Tag key={tag}>{tag}</Tag>\n              ))}\n            </div>\n          </div>\n          <div>{comment}</div>\n        </div>\n      </div>\n\n      <Row>\n        <Col span={11}>\n          <div style={{background: '#fff', marginRight: 20, padding: 20, height: 560}}>\n            <Tabs\n              className=\"component-list-wrapper\"\n              defaultActiveKey=\"1\"\n              onChange={type => {\n                setSelectedType(type);\n                setSelectedName(assetInfo[type][0] && getPrefixComponentName(type, assetInfo[type][0]));\n              }}>\n              {\n                COMPONENT_TYPES.map(type => (\n                  <TabPane\n                    tab={type.charAt(0).toUpperCase() + type.slice(1)}\n                    key={type}\n                    style={{paddingBottom: 50, height: 452}}\n                  >\n                    {getFileList(type)}\n                    {/* {getPagination(type)} */}\n                  </TabPane>\n                ))\n              }\n            </Tabs>\n          </div>\n        </Col>\n        <Col span={13} style={{background: '#fff', padding: 20, height: 560}}>\n          {\n            selectedName && (\n              <>\n                <p>{selectedName}</p>\n                <span style={{float: 'right', marginTop: -30}}>\n                  <Icon type=\"download\" style={{fontSize: 20, marginRight: 15, cursor: 'pointer'}} onClick={handleDownloadComponent}/>\n                  <Icon type=\"delete\" style={{fontSize: 20, cursor: 'pointer'}} onClick={() => handleDelete(true)}/>\n                </span>\n                <span></span>\n                {getComponentFields()}\n              </>\n            )\n          }\n\n        </Col>\n      </Row>\n\n      {\n        showCreateModal && (\n          <CreateComponentModal\n            assetname={assetname}\n            type={selectedType}\n            onSuccess={handleCreateSuccess}\n            onCancel={() => setShowCreateModal(false)}\n          />\n        )\n      }\n\n      {\n        showEditTagModal && (\n          <DataSetTagsModal\n            defaultTags={assetInfo.tags}\n            isMutipleTag={false}\n            onSuccess={fetchAsset}\n            onClose={() => setShowEditTagModal(false)}\n            editTagAssetName={assetname}\n          />\n        )\n      }\n    </>\n  )\n}\n\nexport default Form.create<Props>()(DataSetDetail);","import React, { useState, useRef, useEffect } from 'react'\nimport { List, Row, Col, Progress, message } from 'antd';\nimport Axios from '@fuxi/axios-pro';\n\nimport * as API from '@/api'\n\nconst CancelToken = Axios.CancelToken;\n\ninterface Props {\n  assetname: string,\n  files: File[];\n  infoFile: File;\n  handleUploadSuccess(assetname: string): void;\n  show: boolean;\n}\n\ninterface metaDataProps {\n  requestid: number;\n  assetname: string;\n  projectname: string;\n  component_num: string;\n  createtime: string;\n}\n\nconst STATUS = {\n  prepare: '请求上传中',\n  uploading: '上传中',\n  pause: '暂停中',\n  final: '文件生成中',\n  fail: '上传失败'\n}\n\nconst UploadingList: React.FC<Props> = ({ assetname, files, infoFile, handleUploadSuccess, show }) => {\n  const [metaData, setMetaData] = useState<metaDataProps>(null);\n  const [uploadedSize, setUploadedSize] = useState(0);\n  const [status, setStatus] = useState(STATUS.prepare);\n  const [isPause, setIsPause] = useState(false);\n  \n  const totalSize = useRef(0);\n  const metaDataRef = useRef(null);\n  const uploadQueue = useRef([...files]);\n  const cancelRef = useRef(null);\n  const failedFileRef = useRef(null);\n  const retryTimeRef = useRef(0);\n  const finishRetryTimeRef = useRef(0);\n  const isPauseRef = useRef(false);\n\n  function handleFinishError() {\n    sendComplete();\n  }\n\n  async function sendComplete() {\n    setStatus(STATUS.final);\n    try {\n      const { data } = await API.upload.finish({ requestid: metaDataRef.current.requestid });\n      handleUploadSuccess(assetname);\n    } catch (e) {\n      if (finishRetryTimeRef.current >= 2) {\n        return message.error('生成文件时出错');\n      }\n      finishRetryTimeRef.current = finishRetryTimeRef.current + 1;\n      handleFinishError()\n    }\n\n  }\n\n  function onError() {\n    if (isPauseRef.current) return;\n    if (retryTimeRef.current >= 3) {\n      return message.error(STATUS.fail);\n      handleUploadSuccess(assetname);\n    }\n\n    retryTimeRef.current = retryTimeRef.current + 1;\n    upload(failedFileRef.current, uploadedSize);\n  }\n\n  function onSuccess(currentSize, file) {\n    retryTimeRef.current = 0;\n    setUploadedSize(currentSize + file.size);\n    upload(uploadQueue.current.pop(), currentSize + file.size);\n  }\n\n  async function upload(file, currentSize = 0) {\n    if (!file) return sendComplete();\n\n    const { requestid, assetname } = metaDataRef.current;\n    const fd = new FormData();\n\n    fd.append('requestid', requestid);\n    fd.append('assetname', assetname);\n    fd.append('file', file);\n\n    const cancelToken = new CancelToken( c => {cancelRef.current = c});\n\n    try {\n      const { data } = await API.util.upload(fd, cancelToken);\n      onSuccess(currentSize, file)\n\n    } catch(e) {\n\n      failedFileRef.current = file;\n      onError()\n    }\n  }\n\n  async function fetchIdAndUpload() {\n    const fd = new FormData();\n    fd.append('file', infoFile);\n    const { data } = await API.util.fetchMetaData(fd);\n    // debugger\n    setMetaData(data);\n    metaDataRef.current = data;\n    setStatus(STATUS.uploading);\n    upload(uploadQueue.current.pop());\n  }\n\n  function getTotleFilesSize() {\n    const size = files.reduce((size, currentFile) => {\n      return size + currentFile.size;\n    }, 0);\n    totalSize.current = size;\n  }\n\n  function getMegabyteFormat(size) {\n    return (size / (1024 * 1024)).toFixed(2);\n  }\n  \n  function resume() {\n    upload(failedFileRef.current, uploadedSize);\n    setIsPause(false);\n    isPauseRef.current = false\n  }\n\n  function pause() {\n    if (status === STATUS.final) return message.error('文件生成中，无法暂停');\n    setIsPause(true);\n    isPauseRef.current = true;\n    cancelRef.current && cancelRef.current();\n  }\n\n  function handlePauseOrResume() {\n    isPause ? resume() : pause();\n  }\n\n  useEffect(() => {\n    fetchIdAndUpload()\n    getTotleFilesSize()\n  }, [])\n\n  if (!metaData) return null;\n  if (!show) return null;\n\n  return (\n    <List.Item>\n      <Row style={{ width: '100%', display: 'flex', alignItems: 'center' }}>\n        <Col span={4}>\n          <div>{assetname}</div>\n          <div>{`${metaData.projectname}${metaData.projectname ? ',' : ''}${metaData.component_num} compoments`}</div>\n        </Col>\n        <Col span={8} style={{textAlign: 'center'}}>\n          {metaData.createtime}\n        </Col>\n        <Col span={8}>\n          <Progress\n            percent={uploadedSize / totalSize.current * 100}\n            showInfo={false}\n            strokeColor=\"#1890ff\"\n          />\n          <div style={{ display: 'flex', justifyContent: 'space-between'}}>\n            <span>{`${status}...`}</span>\n            <span>{`${getMegabyteFormat(uploadedSize)}MB/${getMegabyteFormat(totalSize.current)}MB`}</span>\n          </div>\n        </Col>\n        <Col offset={2} span={2} style={{textAlign: 'right'}}>\n          <span style={{ cursor: 'pointer', color: '#3E69FA' }} onClick={handlePauseOrResume}>{isPause ? '继续' : '暂停'}</span>\n        </Col>\n      </Row>\n    </List.Item>\n  )\n}\n\nexport default UploadingList;","import React, { useState, useEffect, useRef } from 'react';\nimport { DatePicker, Input, Button, List, Pagination, Upload, message, Progress, Row, Col, Tag, Icon, Tooltip } from 'antd'\nimport moment from 'moment';\n\nimport * as API from '@/api'\nimport UploadingList from '@/pages/UploadManagement/UploadingList'\n\nimport style from './style.module.less';\n\nimport Axios from '@fuxi/axios-pro';\n\nimport getPrefixComponentName from '@/util/getPrefixComponentName';\n\nconst CancelToken = Axios.CancelToken;\n\nconst FILE_TYPES = ['body', 'face', 'feature', 'audio', 'video', 'preview'];\n\nconst UploadManagement = ({isAdmin}) => {\n  const [page, setPage] = useState(1);\n  const [num, setNum] = useState(10);\n  const [list, setList] = useState([]);\n  const [uploadingList, setUploadingList] = useState([]);\n  const [search, setSearch] = useState('');\n  const [total, setTotal] = useState(0);\n  const [isReadingFiles, setIsReadingFiles] = useState(false);\n  const [selectedTime, setSelectedTime] = useState(moment().format(\"YYYY-MM-DD\"));\n\n  const files = useRef({});\n  const uploadingFilesRef = useRef([]);\n  const isMultipleRef = useRef(false);\n  const isReadingFilesRef = useRef(false);\n  const cancelRef = useRef(null);\n  const isFetchList = useRef(false);\n\n  const totalNum = total + uploadingList.length;\n\n  async function fetchUploadList() {\n    if (isFetchList.current) {\n      cancelRef.current && cancelRef.current();\n    }\n\n    const params = {\n      createtime__lt: selectedTime,\n      assetname: search,\n      _page: page,\n      _num: num,\n      _offset: uploadingFilesRef.current.length\n    }\n\n    const cancelToken = new CancelToken( c => cancelRef.current = c);\n\n    try {\n      isFetchList.current = true;\n      const { data } = await API.upload.fetchUploadList(params, cancelToken);\n      isFetchList.current = false;\n      const { items, total } = data;\n      setList(items);\n      setTotal(total);\n    } catch(e) {\n      console.log('request canceled');\n    }\n\n  }\n\n  useEffect(() => {\n    fetchUploadList();\n  }, [page, num])\n\n  useEffect(() => {\n    const lastPage = Math.ceil(totalNum / num);\n    if (!lastPage) return;\n    if (page > lastPage) setPage(lastPage);\n  }, [totalNum])\n\n  function handleDateChange(e) {\n    setSelectedTime(e.format(\"YYYY-MM-DD\"));    \n  }\n\n  function readFileInfo(file, folderName) {\n    function onReaderLoad(event) {\n      //alert(event.target.result);\n      const fileInfo = JSON.parse(event.target.result);\n      // debugger\n      const currentFiles = files.current[getRootFolderName(file)]\n\n      validteFilesAndUpload(fileInfo, currentFiles, folderName);\n    }\n\n    const reader = new FileReader();\n    reader.onload = onReaderLoad;\n    reader.readAsText(file);\n  }\n\n  function handleUpload(fileInfo, folderName) {\n    function clearUpdatedFiles() {\n      //清除正在上传的缓存\n      delete files.current[folderName];\n    }\n\n    const list = [{\n      assetname: fileInfo.assetname,\n      files: files.current[folderName].files,\n      infoFile: files.current[folderName].infoFile\n    }, ...uploadingFilesRef.current ]\n\n    if (Object.keys(files.current).length === 1 && isMultipleRef.current === true && isReadingFilesRef.current === true) {\n      isReadingFilesRef.current = false;\n      setIsReadingFiles(false);\n    }\n\n    setUploadingList(list);\n    uploadingFilesRef.current = list;\n    clearUpdatedFiles();\n  }\n\n  function validteFilesAndUpload(fileInfo, currentFiles, folderName) {\n    // debugger\n    function isExist(name) {\n      const exist = currentFiles.files.some(file => {\n        return name === file.name;\n      });\n\n      if (!exist) handleFileNotFound(name);\n      return exist;\n    }\n\n    function handleFileNotFound(name) {\n      // message.error(isMultipleRef.current ? `${1}` : `文件${name}不存在`, 8);\n      message.error(`文件夹${folderName}下不存在文件${name}`, 10);\n    }\n\n    function getFileName(name, url) {\n      const lastIndex = url.lastIndexOf('.');\n      const fileType = url.substring(lastIndex);\n\n      return name + fileType;\n    }\n\n    //根据info.json文件进行检测，查看是否缺少\n    for (let type of FILE_TYPES) {\n      if (!fileInfo[type]) continue;\n\n      if (type === 'preview') {\n        if (!isExist(fileInfo[type])) return;\n        continue;\n      }\n\n      for (let item of fileInfo[type]) {\n        const {model, format, name, samplerate, url} = item;\n        switch(type) {\n          case 'body': \n          case 'face': {\n            const prefixName = getPrefixComponentName(type, item);\n            const fileName = getFileName(prefixName, url);\n            if (!isExist(fileName)) return;\n            break;\n          }\n\n          case 'audio': {\n            const prefixName = getPrefixComponentName(type, item);\n            const fileName = getFileName(prefixName, url);\n            if (!isExist(fileName)) return;\n            break;\n          }\n          case 'video': {\n            const prefixName = getPrefixComponentName(type, item);\n            const fileName = getFileName(prefixName, url);\n            if (!isExist(fileName)) return;\n            break;\n          }\n          case 'feature': {\n            const prefixName = getPrefixComponentName(type, item);\n            const fileName = getFileName(prefixName, url);\n            if (!isExist(fileName)) return;\n            break;\n          }\n        }\n      }\n    }\n\n    handleUpload(fileInfo, folderName);\n  }\n\n\n\n  function getRootFolderName(file) {\n    const path = file.webkitRelativePath\n    const startIndex = isMultipleRef.current ? (path.indexOf('/') + 1) : 0;\n    const endIndex = isMultipleRef.current ? path.indexOf('/', startIndex) : path.indexOf('/');\n    return path.substring( startIndex, endIndex );\n  }\n\n  function processFile(file) {\n    if (file.name === '.DS_Store') return;\n    const rootFolderName = getRootFolderName(file);\n    const currentFiles = files.current[rootFolderName] || {};\n\n    if (file.name === 'info.json') {\n      readFileInfo(file, rootFolderName);\n      files.current[rootFolderName] = {...currentFiles, infoFile: file};\n      return;\n    }\n\n    files.current[rootFolderName] = {...currentFiles, files: [...(currentFiles.files || []), file]};\n  }\n\n  function handleUploadSuccess(assetname) {\n    function removeUploadingList() {\n      const list = uploadingFilesRef.current.filter(item => item.assetname !== assetname);\n\n      uploadingFilesRef.current = list;\n      setUploadingList(list);\n    }\n\n    fetchUploadList();\n    removeUploadingList()\n  }\n\n  function handleSearch() {\n    fetchUploadList()\n  }\n\n  const uploadProps = {\n    directory: true,\n    showUploadList: false,\n    beforeUpload: file => {\n      if (isMultipleRef.current && isReadingFilesRef.current === false) {\n        setIsReadingFiles(true);\n        isReadingFilesRef.current = true;\n      }\n\n      processFile(file);\n      return false;\n    }\n  };\n\n  const currentPageStartIndex = (page - 1) * num;\n  const currentPageEndIndex = currentPageStartIndex + num;\n\n  return(\n    <div className={style[\"upload-wrapper\"]}>\n      <div style={{display: 'flex', justifyContent: 'space-between'}}>\n        <DatePicker\n          defaultValue={moment()}\n          allowClear={false}\n          disabledDate={currentDate => currentDate > moment()}\n          onChange={handleDateChange}\n          style={{ width: 240 }}\n        />\n        <Input.Search\n          placeholder=\"搜索\"\n          onChange={e => setSearch(e.target.value)}\n          style={{ width: 240, marginLeft: 15 }}\n          onSearch={handleSearch}\n        />\n        <div style={{flex: 1}} />\n        <Upload {...uploadProps} disabled={isReadingFiles}>\n          <Button\n            type=\"primary\"\n            style={{ width: 150 }}\n            loading={isReadingFilesRef.current}\n            onClick={() => isMultipleRef.current = true}\n          >\n            {isReadingFiles ? '文件读取中' : '批量上传Asset'}\n          </Button>\n        </Upload>\n        <Upload {...uploadProps}>\n          <Button type=\"primary\" style={{ marginLeft: 20, width: 150 }} onClick={() => isMultipleRef.current = false}>上传Asset</Button>\n        </Upload>\n      </div>\n\n      <List\n        size=\"large\"\n        style={{background: '#fff',marginTop: 20}}\n      >\n        {\n          uploadingList.map((item, index) => (\n            <UploadingList\n              key={item.assetname}\n              assetname={item.assetname}\n              handleUploadSuccess={handleUploadSuccess}\n              files={item.files}\n              infoFile={item.infoFile}\n              show={index >= currentPageStartIndex && index <= currentPageEndIndex}\n            />\n          ))\n        }\n\n        {\n          list.map(item => (\n            <List.Item key={item.assetname + item.createtime}>\n            <Row style={{ width: '100%', display: 'flex', alignItems: 'center' }}>\n              <Col span={4}>\n                <div>{item.assetname}</div>\n                <div>{`${item.projectname}${item.projectname ? '，' : ''}${item.component_num} compoments`}</div>\n              </Col>\n              <Col span={8} style={{textAlign: 'center'}}>\n                {item.createtime}\n              </Col>\n              <Col span={8}>\n                <Tag color={item.status === 'error' ? \"#ffd4d6\" : \"#d1f5eb\"}><span style={{color: item.status === 'error' ? '#ff535b' : '#009966'}}>{item.status === 'error' ? '上传失败' : '上传成功'}</span></Tag>\n                {\n                  item.status === 'error' && (\n                    <>\n                      <Tooltip overlay={item.msg}>\n                        <Icon type=\"question-circle\" style={{color: 'red', cursor: 'pointer'}}/>\n                      </Tooltip>\n                      <span style={{marginLeft: 10}}>{item.msg.length > 16 ? `${item.msg.substring(0, 16)}...` : item.msg}</span>\n                    </>\n                  )\n                }\n              </Col>\n              <Col offset={2} span={2}>\n                {\n                  item.status === 'error' && (\n                    <Upload {...uploadProps}>\n                      <span onClick={() => isMultipleRef.current = false} style={{cursor: 'pointer', color: '#3E69FA'}}>重新上传</span>\n                    </Upload>\n                  )\n                }\n              </Col>\n            </Row>\n          </List.Item>\n          ))\n        }\n      </List>\n\n      <Pagination\n        showQuickJumper\n        showSizeChanger\n        current={page}\n        onChange={page => setPage(page)}\n        onShowSizeChange={(page, size) => {\n          setPage(page);\n          setNum(size);\n        }}\n        total={totalNum}\n        style={{float: \"right\", marginTop: 30}}\n      />\n    </div>\n  )\n}\n\nexport default UploadManagement;","import React, { useState } from 'react';\nimport { BrowserRouter, Route, Switch, Redirect } from 'react-router-dom';\n\nimport { Layout } from 'antd'\n\nimport Header from '@/pages/Header';\nimport HomePage from '@/pages/HomePage';\nimport DataSetList from '@/pages/DataSetList';\nimport DataSetDetail from '@/pages/DataSetDetail';\nimport UploadManagement from '@/pages/UploadManagement';\n\nimport './style.less';\n\nconst Router = () => {\n  const [isAdmin, setIsAdmin] = useState(false);\n  return (\n    <>\n      <Header setIsAdmin={setIsAdmin}/>\n      <Layout.Content style={{maxWidth: 1200, margin: '0 auto', paddingBottom: 80, paddingTop: 30}}>\n        <Switch>\n          <Route exact path=\"/homepage\" component={HomePage}/>} />\n          <Route exact path=\"/dataset\" render={(routeProps) => <DataSetList {...routeProps} isAdmin={isAdmin} />} />\n          <Route exact path=\"/dataset/:assetname\" render={(routeProps) => <DataSetDetail {...routeProps} isAdmin={isAdmin} />} />\n          {/*isAdmin &&*/ <Route exact path=\"/upload\"  render={(routeProps) => <UploadManagement {...routeProps} isAdmin={isAdmin} />} />}\n          <Redirect to=\"/homepage\" />\n        </Switch>\n      </Layout.Content>\n    </>\n  )\n}\n\nexport default Router;","import React from 'react';\nimport { BrowserRouter, Route, Switch, Redirect } from 'react-router-dom';\n\nimport Router from '@/pages/Router';\n\nlet routes: JSX.Element[] = [];\n\nconst configSorter = (a: RouteConfig, b: RouteConfig) => {\n  let pa = a.priority || 0;\n  let pb = b.priority || 0;\n  return pa - pb;\n};\n\nfunction resolveRouteConfig(config: RouteConfig, prefix = '') {\n  const path = prefix + (config.route || '');\n\n  const commonProps = {\n    key: path,\n    path,\n    exact: !!config.exact\n  };\n  const item = config.redirect ? (\n    <Redirect {...commonProps} to={config.redirect} />\n  ) : (\n    <Route {...commonProps} component={config.component} />\n  );\n\n  routes.push(item);\n\n  (config.children || []).sort(configSorter).forEach(childConfig => {\n    resolveRouteConfig(childConfig, path);\n  });\n\n  return routes;\n}\n\nfunction importAll(r: ReturnType<typeof require.context>) {\n  const allImportedModules: RouteConfig[] = r.keys().map(key => r(key).default);\n\n  allImportedModules.sort(configSorter).forEach(config => {\n    routes = routes.concat(resolveRouteConfig(config));\n  });\n}\n\nimportAll(require.context('./', false, /^((?!index).)*\\.ts$/));\n\nexport default () => {\n\n  return (\n    <div>\n      <BrowserRouter>\n        <Switch>\n          <Route path=\"/\" component={Router} />\n        </Switch>\n      </BrowserRouter>\n    </div>\n  );\n};\n","import React from 'react';\nimport dva from 'dva';\nimport models from './model';\nimport Router from './router';\n\nimport 'antd/dist/antd.css';\nimport '@/style/global.less'\n\nconst app = dva();\n\nmodels.forEach(model => app.model(model));\n\n//Router\napp.router(() => <Router />);\napp.start('#root');\n"],"sourceRoot":""}