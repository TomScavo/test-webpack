(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{164:function(e,t,n){var a=n(18),r=n(814);"string"===typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1},l=(a(r,o),r.locals?r.locals:{});e.exports=l},168:function(e,t,n){var a=n(18),r=n(568);"string"===typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1},l=(a(r,o),r.locals?r.locals:{});e.exports=l},169:function(e,t,n){var a=n(18),r=n(643);"string"===typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1},l=(a(r,o),r.locals?r.locals:{});e.exports=l},170:function(e,t,n){var a=n(18),r=n(658);"string"===typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1},l=(a(r,o),r.locals?r.locals:{});e.exports=l},444:function(e,t,n){var a=n(18),r=n(823);"string"===typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1},l=(a(r,o),r.locals?r.locals:{});e.exports=l},494:function(e,t){},555:function(e,t,n){var a={"./task.ts":556};function webpackContext(e){var t=webpackContextResolve(e);return n(t)}function webpackContextResolve(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}webpackContext.keys=function webpackContextKeys(){return Object.keys(a)},webpackContext.resolve=webpackContextResolve,e.exports=webpackContext,webpackContext.id=555},556:function(e,t,n){"use strict";n.r(t);var a=n(15),r=n.n(a),o=n(39),l=n.n(o);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var c=function mock(){return Promise.resolve([{name:"task_one"},{name:"task_two"}])},s={namespace:"task",state:{tasks:[]},reducers:{addTask:function addTask(e,t){var n=t.payload;return function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{tasks:e.tasks.concat(n)})}},effects:{addsTask:r.a.mark((function addsTask(e,t){var n,a,o;return r.a.wrap((function addsTask$(e){for(;;)switch(e.prev=e.next){case 0:return n=t.put,a=t.call,e.next=3,a(c);case 3:return o=e.sent,e.next=6,n({type:"addTask",payload:o});case 6:case"end":return e.stop()}}),addsTask)}))}};t.default=s},568:function(e,t,n){(t=n(19)(!1)).push([e.i,".style-module__header-wrapper___2lx4u {\n  position: sticky;\n  top: 0;\n  width: 100%;\n  z-index: 1;\n  display: flex;\n  justify-content: center;\n}\n.style-module__header-wrapper___2lx4u .style-module__header-inner___21cxh {\n  width: 100%;\n  max-width: 1300px;\n  display: flex;\n  justify-content: center;\n}\n.style-module__header-wrapper___2lx4u .style-module__header-logo___3WIws {\n  color: #fff;\n  font-size: 24px;\n  margin-right: 80px;\n  font-family: 'Microsoft YaHei UI Bold', 'Microsoft YaHei UI Regular', 'Microsoft YaHei UI';\n}\n",""]),t.locals={"header-wrapper":"style-module__header-wrapper___2lx4u","header-inner":"style-module__header-inner___21cxh","header-logo":"style-module__header-logo___3WIws"},e.exports=t},630:function(e,t,n){var a={"./af":204,"./af.js":204,"./ar":205,"./ar-dz":206,"./ar-dz.js":206,"./ar-kw":207,"./ar-kw.js":207,"./ar-ly":208,"./ar-ly.js":208,"./ar-ma":209,"./ar-ma.js":209,"./ar-sa":210,"./ar-sa.js":210,"./ar-tn":211,"./ar-tn.js":211,"./ar.js":205,"./az":212,"./az.js":212,"./be":213,"./be.js":213,"./bg":214,"./bg.js":214,"./bm":215,"./bm.js":215,"./bn":216,"./bn.js":216,"./bo":217,"./bo.js":217,"./br":218,"./br.js":218,"./bs":219,"./bs.js":219,"./ca":220,"./ca.js":220,"./cs":221,"./cs.js":221,"./cv":222,"./cv.js":222,"./cy":223,"./cy.js":223,"./da":224,"./da.js":224,"./de":225,"./de-at":226,"./de-at.js":226,"./de-ch":227,"./de-ch.js":227,"./de.js":225,"./dv":228,"./dv.js":228,"./el":229,"./el.js":229,"./en-SG":230,"./en-SG.js":230,"./en-au":231,"./en-au.js":231,"./en-ca":232,"./en-ca.js":232,"./en-gb":233,"./en-gb.js":233,"./en-ie":234,"./en-ie.js":234,"./en-il":235,"./en-il.js":235,"./en-nz":236,"./en-nz.js":236,"./eo":237,"./eo.js":237,"./es":238,"./es-do":239,"./es-do.js":239,"./es-us":240,"./es-us.js":240,"./es.js":238,"./et":241,"./et.js":241,"./eu":242,"./eu.js":242,"./fa":243,"./fa.js":243,"./fi":244,"./fi.js":244,"./fo":245,"./fo.js":245,"./fr":246,"./fr-ca":247,"./fr-ca.js":247,"./fr-ch":248,"./fr-ch.js":248,"./fr.js":246,"./fy":249,"./fy.js":249,"./ga":250,"./ga.js":250,"./gd":251,"./gd.js":251,"./gl":252,"./gl.js":252,"./gom-latn":253,"./gom-latn.js":253,"./gu":254,"./gu.js":254,"./he":255,"./he.js":255,"./hi":256,"./hi.js":256,"./hr":257,"./hr.js":257,"./hu":258,"./hu.js":258,"./hy-am":259,"./hy-am.js":259,"./id":260,"./id.js":260,"./is":261,"./is.js":261,"./it":262,"./it-ch":263,"./it-ch.js":263,"./it.js":262,"./ja":264,"./ja.js":264,"./jv":265,"./jv.js":265,"./ka":266,"./ka.js":266,"./kk":267,"./kk.js":267,"./km":268,"./km.js":268,"./kn":269,"./kn.js":269,"./ko":270,"./ko.js":270,"./ku":271,"./ku.js":271,"./ky":272,"./ky.js":272,"./lb":273,"./lb.js":273,"./lo":274,"./lo.js":274,"./lt":275,"./lt.js":275,"./lv":276,"./lv.js":276,"./me":277,"./me.js":277,"./mi":278,"./mi.js":278,"./mk":279,"./mk.js":279,"./ml":280,"./ml.js":280,"./mn":281,"./mn.js":281,"./mr":282,"./mr.js":282,"./ms":283,"./ms-my":284,"./ms-my.js":284,"./ms.js":283,"./mt":285,"./mt.js":285,"./my":286,"./my.js":286,"./nb":287,"./nb.js":287,"./ne":288,"./ne.js":288,"./nl":289,"./nl-be":290,"./nl-be.js":290,"./nl.js":289,"./nn":291,"./nn.js":291,"./pa-in":292,"./pa-in.js":292,"./pl":293,"./pl.js":293,"./pt":294,"./pt-br":295,"./pt-br.js":295,"./pt.js":294,"./ro":296,"./ro.js":296,"./ru":297,"./ru.js":297,"./sd":298,"./sd.js":298,"./se":299,"./se.js":299,"./si":300,"./si.js":300,"./sk":301,"./sk.js":301,"./sl":302,"./sl.js":302,"./sq":303,"./sq.js":303,"./sr":304,"./sr-cyrl":305,"./sr-cyrl.js":305,"./sr.js":304,"./ss":306,"./ss.js":306,"./sv":307,"./sv.js":307,"./sw":308,"./sw.js":308,"./ta":309,"./ta.js":309,"./te":310,"./te.js":310,"./tet":311,"./tet.js":311,"./tg":312,"./tg.js":312,"./th":313,"./th.js":313,"./tl-ph":314,"./tl-ph.js":314,"./tlh":315,"./tlh.js":315,"./tr":316,"./tr.js":316,"./tzl":317,"./tzl.js":317,"./tzm":318,"./tzm-latn":319,"./tzm-latn.js":319,"./tzm.js":318,"./ug-cn":320,"./ug-cn.js":320,"./uk":321,"./uk.js":321,"./ur":322,"./ur.js":322,"./uz":323,"./uz-latn":324,"./uz-latn.js":324,"./uz.js":323,"./vi":325,"./vi.js":325,"./x-pseudo":326,"./x-pseudo.js":326,"./yo":327,"./yo.js":327,"./zh-cn":328,"./zh-cn.js":328,"./zh-hk":329,"./zh-hk.js":329,"./zh-tw":330,"./zh-tw.js":330};function webpackContext(e){var t=webpackContextResolve(e);return n(t)}function webpackContextResolve(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}webpackContext.keys=function webpackContextKeys(){return Object.keys(a)},webpackContext.resolve=webpackContextResolve,e.exports=webpackContext,webpackContext.id=630},631:function(e,t,n){(t=n(19)(!1)).push([e.i,".style-module__filter-wrapper___3M37- .style-module__title___15EjU {\n  font-size: 48px;\n  color: #0b194a;\n  font-weight: 700;\n  font-family: 'Microsoft YaHei UI Bold', 'Microsoft YaHei UI Regular', 'Microsoft YaHei UI';\n}\n.style-module__filter-wrapper___3M37- .style-module__sub-title___1wrmN {\n  color: #0b194a;\n  font-size: 18px;\n  font-weight: 400;\n}\n.style-module__filter-wrapper___3M37- .header-form-wrapper-large .ant-select-selection {\n  background: transparent;\n  border-color: #0b194a;\n  height: 50px !important;\n}\n.style-module__filter-wrapper___3M37- .header-form-wrapper-large .ant-select-selection .ant-select-selection__rendered {\n  line-height: 48px;\n  font-size: 14px;\n}\n.style-module__filter-wrapper___3M37- .header-form-wrapper-large .ant-select-selection .ant-select-selection__rendered .ant-select-selection-selected-value {\n  width: 100%;\n  color: #0b194a;\n}\n.style-module__filter-wrapper___3M37- .header-form-wrapper-large .ant-select-selection__clear {\n  right: 40px;\n}\n.style-module__filter-wrapper___3M37- .header-form-wrapper-large .ant-input {\n  background: transparent;\n  border-color: #0b194a;\n  height: 50px;\n}\n.style-module__filter-wrapper___3M37- .header-form-wrapper-default .ant-select-selection {\n  background: transparent;\n  border-color: #0b194a;\n  height: 40px !important;\n}\n.style-module__filter-wrapper___3M37- .header-form-wrapper-default .ant-select-selection .ant-select-selection__rendered {\n  line-height: 38px;\n  font-size: 14px;\n}\n.style-module__filter-wrapper___3M37- .header-form-wrapper-default .ant-select-selection .ant-select-selection__rendered .ant-select-selection-selected-value {\n  width: 100%;\n  color: #0b194a;\n}\n.style-module__filter-wrapper___3M37- .header-form-wrapper-default .ant-select-selection__clear {\n  right: 40px;\n}\n.style-module__filter-wrapper___3M37- .header-form-wrapper-default .ant-input {\n  background: transparent;\n  border-color: #0b194a;\n  height: 40px;\n}\n.style-module__filter-wrapper___3M37- .style-module__filter-button___3NFMY {\n  text-align: right;\n  display: block;\n  cursor: pointer;\n  color: #3E69FA;\n  user-select: none;\n}\n.style-module__filter-wrapper___3M37- .style-module__filter-dropdown-wrapper___-UCw7 {\n  position: absolute;\n  z-index: 2;\n  padding: 20px 30px;\n  right: 0;\n  width: 700px;\n  top: 60px;\n  background: #fff;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);\n}\n.style-module__filter-wrapper___3M37- .style-module__filter-tag___1UJnB {\n  margin-top: 10px;\n  line-height: 30px;\n  border-radius: 15px;\n  height: 30px;\n  min-width: 150px;\n  text-align: center;\n  position: relative;\n  padding: 0 15px;\n  max-width: 100%;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n}\n.style-module__filter-wrapper___3M37- .style-module__filter-tag-icon-wrapper___1sW5A {\n  position: absolute;\n  display: none;\n  top: 0;\n  left: 0;\n  height: 100%;\n  width: 100%;\n  border-radius: 15px;\n}\n.style-module__filter-wrapper___3M37- .style-module__filter-tag___1UJnB:hover {\n  opacity: 1;\n}\n.style-module__filter-wrapper___3M37- .style-module__filter-tag___1UJnB:hover .style-module__filter-tag-icon-wrapper___1sW5A {\n  display: block;\n}\n.style-module__dropdown-menu___tghe1 {\n  padding: 0 10px 10px 10px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);\n}\n.style-module__dropdown-menu___tghe1 .style-module__list-item___CE8a5 {\n  cursor: pointer;\n  color: #1890ff;\n}\n.style-module__dropdown-menu___tghe1 .style-module__list-item___CE8a5:hover {\n  color: #55adff;\n}\n.filter-input-dropdown-wrapper .ant-select-dropdown-menu-item-active {\n  background: #d1d1d1 !important;\n}\n.filter-input-dropdown-wrapper .ant-select-dropdown-menu-item:hover {\n  background: #d1d1d1 !important;\n}\n",""]),t.locals={"filter-wrapper":"style-module__filter-wrapper___3M37-",title:"style-module__title___15EjU","sub-title":"style-module__sub-title___1wrmN","filter-button":"style-module__filter-button___3NFMY","filter-dropdown-wrapper":"style-module__filter-dropdown-wrapper___-UCw7","filter-tag":"style-module__filter-tag___1UJnB","filter-tag-icon-wrapper":"style-module__filter-tag-icon-wrapper___1sW5A","dropdown-menu":"style-module__dropdown-menu___tghe1","list-item":"style-module__list-item___CE8a5"},e.exports=t},643:function(e,t,n){(t=n(19)(!1)).push([e.i,".style-module__main-wrapper___1znhD {\n  margin-top: 150px;\n  text-align: center;\n}\n.style-module__main-wrapper___1znhD .style-module__title___bn_vN {\n  font-size: 48px;\n  color: #0b194a;\n  font-weight: 700;\n  font-family: 'Microsoft YaHei UI Bold', 'Microsoft YaHei UI Regular', 'Microsoft YaHei UI';\n}\n.style-module__main-wrapper___1znhD .style-module__sub-title___2k_5o {\n  color: #0b194a;\n  font-size: 18px;\n  font-weight: 400;\n}\n.style-module__main-wrapper___1znhD .header-form-wrapper .ant-select-selection {\n  background: transparent;\n  border-color: #0b194a;\n  height: 50px !important;\n}\n.style-module__main-wrapper___1znhD .header-form-wrapper .ant-select-selection .ant-select-selection__rendered {\n  line-height: 48px;\n  font-size: 14px;\n}\n.style-module__main-wrapper___1znhD .header-form-wrapper .ant-select-selection .ant-select-selection__rendered .ant-select-selection-selected-value {\n  width: 100%;\n  color: #0b194a;\n}\n.style-module__main-wrapper___1znhD .header-form-wrapper .ant-input {\n  background: transparent;\n  border-color: #0b194a;\n  height: 50px;\n}\n.style-module__main-wrapper___1znhD .style-module__filter-button___3Uxa_ {\n  text-align: right;\n  display: block;\n  height: 50px;\n  line-height: 50px;\n  cursor: pointer;\n  color: #3E69FA;\n  user-select: none;\n}\n.style-module__main-wrapper___1znhD .style-module__filter-dropdown-wrapper___1gtGp {\n  position: absolute;\n  padding: 20px 30px;\n  right: 0;\n  width: 600px;\n  top: 60px;\n  background: #fff;\n}\n.style-module__dropdown-menu___3BY4Z {\n  padding: 0 10px 10px 10px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);\n}\n.style-module__dropdown-menu___3BY4Z .style-module__list-item___1_a-n {\n  cursor: pointer;\n  color: #1890ff;\n}\n.style-module__dropdown-menu___3BY4Z .style-module__list-item___1_a-n:hover {\n  color: #55adff;\n}\n",""]),t.locals={"main-wrapper":"style-module__main-wrapper___1znhD",title:"style-module__title___bn_vN","sub-title":"style-module__sub-title___2k_5o","filter-button":"style-module__filter-button___3Uxa_","filter-dropdown-wrapper":"style-module__filter-dropdown-wrapper___1gtGp","dropdown-menu":"style-module__dropdown-menu___3BY4Z","list-item":"style-module__list-item___1_a-n"},e.exports=t},658:function(e,t,n){(t=n(19)(!1)).push([e.i,".style-module__checked___375mJ {\n  border: 2px solid #3e69fa;\n}\n.style-module__checked___375mJ::before {\n  content: '';\n  z-index: 1;\n  position: absolute;\n  width: 0;\n  height: 0;\n  left: 0;\n  top: 0;\n  border-top: 35px solid #3e69fa;\n  border-right: 35px solid transparent;\n}\n.style-module__confirm-icon___1IfoR > svg {\n  fill: #fc5e56;\n}\n.card-wrapper > li:nth-child(4n) {\n  margin-right: 0 !important;\n}\n.img-modal-wrapper .ant-modal-body {\n  padding: 40px 30px !important;\n}\n.add-tags-wrapper .ant-select-selection {\n  height: 200px;\n  overflow: auto;\n}\n",""]),t.locals={checked:"style-module__checked___375mJ","confirm-icon":"style-module__confirm-icon___1IfoR"},e.exports=t},77:function(e,t,n){var a=n(18),r=n(631);"string"===typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1},l=(a(r,o),r.locals?r.locals:{});e.exports=l},814:function(e,t,n){(t=n(19)(!1)).push([e.i,".component-list-wrapper .ant-menu-inline, .component-list-wrapper .ant-menu-item::after {\n  border-right: none !important;\n}\n.component-list-wrapper .ant-menu-item {\n  margin: 0 !important;\n  height: 50px !important;\n  line-height: 50px !important;\n}\n.component-list-wrapper .ant-menu-item-selected {\n  background: #f0f3ff !important;\n}\n.component-pagination {\n  float: right !important;\n  margin-top: 10px;\n  position: absolute;\n  right: 0;\n  bottom: 0;\n}\n.component-tabs-wrapper .ant-tabs-tab {\n  margin-right: 0 !important;\n  border: none !important;\n}\n.component-tabs-wrapper .ant-tabs-tab-active {\n  background: #f0f3ff !important;\n}\n.component-tabs-wrapper .ant-tabs-card-bar {\n  margin-bottom: 0;\n  border-bottom: none;\n}\n.component-tabs-wrapper .ant-tabs-content {\n  height: 450px;\n}\n.component-modal-wrapper .ant-modal-body {\n  max-height: 400px;\n  overflow: auto;\n}\n.slider-wrapper .ant-slider-track {\n  background: #3e69fa;\n}\n.slider-wrapper .ant-slider-handle {\n  border-color: #3e69fa;\n}\n.ant-slider:hover .ant-slider-track {\n  background: rgba(62, 105, 250, 0.7) !important;\n}\n.ant-slider:hover .ant-slider-handle {\n  border-color: rgba(62, 105, 250, 0.7) !important;\n}\n.style-module__waveform___3qSQt {\n  width: 6px;\n  background: #3e69fa;\n  margin: 0 2px;\n}\n",""]),t.locals={waveform:"style-module__waveform___3qSQt"},e.exports=t},823:function(e,t,n){(t=n(19)(!1)).push([e.i,".style-module__upload-wrapper___1zoOB {\n  display: 'flex';\n  justify-content: 'space-between';\n}\n.style-module__upload-wrapper___1zoOB .ant-input {\n  background: #f0f2f5;\n}\n.style-module__upload-wrapper___1zoOB .ant-list-item {\n  padding: 20px 40px !important;\n}\n",""]),t.locals={"upload-wrapper":"style-module__upload-wrapper___1zoOB"},e.exports=t},824:function(e,t,n){var a=n(18),r=n(825);"string"===typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1},l=(a(r,o),r.locals?r.locals:{});e.exports=l},825:function(e,t,n){(t=n(19)(!1)).push([e.i,"body {\n  background: #f0f2f5 !important;\n}\nol,\nul {\n  list-style: none;\n  padding: 0;\n}\n",""]),e.exports=t},826:function(e,t){function webpackEmptyContext(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}webpackEmptyContext.keys=function(){return[]},webpackEmptyContext.resolve=webpackEmptyContext,e.exports=webpackEmptyContext,webpackEmptyContext.id=826},829:function(e,t,n){var a=n(18),r=n(830);"string"===typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1},l=(a(r,o),r.locals?r.locals:{});e.exports=l},830:function(e,t,n){(t=n(19)(!1)).push([e.i,"",""]),e.exports=t},831:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(428),l=n.n(o),c=[];!function importAll(e){e.keys().forEach((function(t){c.push(e(t).default)}))}(n(555));var s=c,i=n(41),u=n.n(i),p=n(838),d=n(837),m=n(841),f=n(839),h=(n(375),n(128)),_=n(13),g=n.n(_),b=(n(139),n(50)),y=n(15),w=n.n(y),j=n(24),v=n.n(j),E=n(836),k=n(840),O=n(27),x=n.n(O),C=n(38),S=n.n(C);S.a.defaults.baseURL="/api/v1";var D=Object(C.initAxiosInstance)();D.interceptors.response.use((function(e){return e||{data:null}}),(function(e){return{data:null}}));var T=D;function _templateObject13(){var e=x()(["/@","/components/","s/@","/download"]);return _templateObject13=function _templateObject13(){return e},e}function _templateObject12(){var e=x()(["/@","/components/","s/@",""]);return _templateObject12=function _templateObject12(){return e},e}function _templateObject11(){var e=x()(["/@",""]);return _templateObject11=function _templateObject11(){return e},e}function _templateObject10(){var e=x()(["/@","/components/","s/files/@",""]);return _templateObject10=function _templateObject10(){return e},e}function _templateObject9(){var e=x()(["/@","/components/","s/@",""]);return _templateObject9=function _templateObject9(){return e},e}function _templateObject8(){var e=x()(["/@",""]);return _templateObject8=function _templateObject8(){return e},e}function _templateObject7(){var e=x()(["/@","/tags"]);return _templateObject7=function _templateObject7(){return e},e}function _templateObject6(){var e=x()(["/@","/components/@","s"]);return _templateObject6=function _templateObject6(){return e},e}function _templateObject5(){var e=x()(["/tags"]);return _templateObject5=function _templateObject5(){return e},e}function _templateObject4(){var e=x()(["/tags"]);return _templateObject4=function _templateObject4(){return e},e}function _templateObject3(){var e=x()(["/@","/components/","s/@",""]);return _templateObject3=function _templateObject3(){return e},e}function _templateObject2(){var e=x()(["/@",""]);return _templateObject2=function _templateObject2(){return e},e}function _templateObject(){var e=x()([""]);return _templateObject=function _templateObject(){return e},e}var R=Object(C.URLGroup)("/assets"),A=function fetchList(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return T.post(R(_templateObject()),e,{cancelToken:t})},F=function fetchAsset(e){return T.get(R(_templateObject2(),e))},P=function fetchComponent(e,t,n){return T.get(R(_templateObject3(),e,t,n))},L=function searchTags(e){return T.get(R(_templateObject4()),{params:e})},M=function addTags(e){return T.post(R(_templateObject5()),e)},U=function addComponent(e,t,n){return T.post(R(_templateObject6(),e,t),n)},z=function updateTags(e,t){return T.put(R(_templateObject7(),e),t)},I=function updateAsset(e,t){return T.put(R(_templateObject8(),e),t)},N=function updateComponent(e,t,n,a){return T.put(R(_templateObject9(),e,t,n),a)},V=function updateComponentFile(e,t,n,a){return T.put(R(_templateObject10(),e,t,n),a)},q=function deleteAsset(e){return T.delete(R(_templateObject11(),e))},B=function deleteComponent(e,t,n){return T.delete(R(_templateObject12(),e,t,n))},Y=function downloadComponent(e,t,n){return T.get(R(_templateObject13(),e,t,n),{responseType:"arraybuffer"})};function upload_templateObject3(){var e=x()(["/finish"]);return upload_templateObject3=function _templateObject3(){return e},e}function upload_templateObject2(){var e=x()(["/files"]);return upload_templateObject2=function _templateObject2(){return e},e}var H=Object(C.URLGroup)("/upload"),$=function fetchUploadList(e,t){return T.get(H(upload_templateObject2()),{params:e,cancelToken:t})},K=function finish(e){return T.post(H(upload_templateObject3()),e)};function util_templateObject3(){var e=x()(["/download"]);return util_templateObject3=function _templateObject3(){return e},e}function util_templateObject2(){var e=x()(["/upload"]);return util_templateObject2=function _templateObject2(){return e},e}function util_templateObject(){var e=x()(["/ids"]);return util_templateObject=function _templateObject(){return e},e}var J=Object(C.URLGroup)(""),W=function fetchMetaData(e){return T.post(J(util_templateObject()),e,{headers:{"Content-Type":"multipart/form-data"}})},G=function upload(e,t){return T.post(J(util_templateObject2()),e,{cancelToken:t,headers:{"Content-Type":"multipart/form-data"}})},Q=function downloadAsset(e){return T.get(J(util_templateObject3()),{params:e,responseType:"arraybuffer"})};function user_templateObject2(){var e=x()(["/@",""]);return user_templateObject2=function _templateObject2(){return e},e}function user_templateObject(){var e=x()(["/@","/roles"]);return user_templateObject=function _templateObject(){return e},e}var Z=Object(C.URLGroup)("/users"),X=function fetchUserRules(e){return T.get(Z(user_templateObject(),e))},ee=function fetchUserName(e){return T.get(Z(user_templateObject2(),e))},te=n(168),ne=n.n(te),ae=Object(k.a)((function Header(e){var t=Object(a.useState)(""),n=g()(t,2),o=n[0],l=n[1],c=Object(a.useState)(""),s=g()(c,2),i=(s[0],s[1]);function handleLogin(){var e=RbacURL||"http://rbac.fuxi.netease.com:35615";location.href="".concat(e,"/login?next=").concat(location.href)}return Object(a.useEffect)((function(){function getCookieValue(e){var t=document.cookie.match("(^|[^;]+)\\s*"+e+"\\s*=\\s*([^;]+)");return t?t.pop():""}function _fetchUserInfo(){return(_fetchUserInfo=v()(w.a.mark((function _callee(){var t,n,a,r,o,c,s;return w.a.wrap((function _callee$(u){for(;;)switch(u.prev=u.next){case 0:return(t=getCookieValue("RBAC_USER"))||handleLogin(),u.prev=2,u.next=5,X(t);case 5:return n=u.sent,a=n.data,u.next=9,ee(t);case 9:r=u.sent,o=r.data,c=a&&a.some((function(e){return"humandb.admin"===e.code&&"humandb"===e.project})),s=o.fullname,e.setIsAdmin(c),i(c),l(s),u.next=22;break;case 18:u.prev=18,u.t0=u.catch(2),console.log(u.t0),handleLogin();case 22:case"end":return u.stop()}}),_callee,null,[[2,18]])})))).apply(this,arguments)}!function fetchUserInfo(){return _fetchUserInfo.apply(this,arguments)}()}),[]),r.a.createElement(h.a,null,r.a.createElement(h.a.Header,{className:ne.a["header-wrapper"]},r.a.createElement("div",{className:ne.a["header-inner"]},r.a.createElement(E.a,{to:"/homepage",className:ne.a["header-logo"]},"HumanDB"),r.a.createElement(b.a,{theme:"dark",mode:"horizontal",selectedKeys:[function getRootPath(){var t=e.location.pathname,n=t.indexOf("/",1);return-1===n?t:t.substring(0,n)}()],style:{lineHeight:"64px"}},[{path:"/homepage",text:"\u9996\u9875"},{path:"/dataset",text:"\u6570\u636e\u96c6"},{path:"/upload",text:"\u4e0a\u4f20\u7ba1\u7406"}].filter((function(e){return!e.hide})).map((function(e,t){return r.a.createElement(b.a.Item,{key:e.path,style:{marginLeft:40,background:"transparent"}},r.a.createElement(E.a,{to:e.path},e.text))}))),r.a.createElement("div",{style:{flex:1}}),r.a.createElement("div",{style:{color:"rgba(255, 255, 255, 0.65)",cursor:"pointer"}},o))))})),re=(n(202),n(70)),oe=(n(117),n(56)),le=(n(600),n(343)),ce=(n(96),n(36)),se=(n(64),n(22)),ie=(n(380),n(447)),ue=(n(97),n(8)),pe=(n(118),n(66)),de=(n(140),n(35)),me=n(52),fe=n.n(me),he=n(39),_e=n.n(he),ge=(n(119),n(49)),be=(n(120),n(25)),ye=(n(426),n(165)),we=n(436),je=n.n(we),ve=n(437),Ee=n.n(ve),ke=n(3),Oe=n.n(ke),xe=n(77),Ce=n.n(xe);n(632);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var Se=re.a.TabPane,De=ye.a.RangePicker,Te=["assetname","tags","uploader","comment","createtime","projectname","preview","body.model","body.format","body.comment","body.fps","body.framenum","body.startframe","body.endframe","body.orderformat","body.coordinate","body.url","audio.name","audio.format","audio.samplerate","audio.url","video.name","video.format","video.url","feature.name","feature.url"],Re=Object(k.a)((function FilterSearchBar(e){var t=e.wrapperStyle,n=void 0===t?{}:t,o=e.isHomePage,l=e.history,c=e.location,s=e.handleFilter,i=Object(a.useState)(!1),u=g()(i,2),p=u[0],d=u[1],m=Object(a.useState)(!1),f=g()(m,2),h=f[0],_=f[1],y=Object(a.useState)("Today"),w=g()(y,2),j=w[0],v=w[1],E=Object(a.useState)("Filter Values"),k=g()(E,2),O=k[0],x=k[1],C=Object(a.useState)("{}"),S=g()(C,2),D=S[0],T=S[1],R=Object(a.useState)([]),A=g()(R,2),F=A[0],P=A[1],L=Object(a.useState)(""),M=g()(L,2),U=M[0],z=M[1],I=Object(a.useState)(""),N=g()(I,2),V=N[0],q=N[1],B=Object(a.useState)(null),Y=g()(B,2),H=Y[0],$=Y[1],K=Object(a.useState)(null),J=g()(K,2),W=J[0],G=J[1],Q=Object(a.useState)(null),Z=g()(Q,2),X=Z[0],ee=Z[1],te=Object(a.useState)(""),ne=g()(te,2),ae=ne[0],me=ne[1],he=Object(a.useRef)({}),ye=Object(a.useRef)(null),we=o?"50px":"40px";function closeFilterModal(){T("{}"),x("Filter Values"),_(!1),ye.current=null,function clearInputsValue(){$(null),G(null),ee(null),me("")}()}function isDisableSaveButton(){if("Filter Values"===O)return!H||!W||!X&&!["exists","does not exist"].includes(W)||!(!["is one of","is not one of"].includes(W)||X.length);try{return JSON.parse(D),!1}catch(e){return!0}}function handleSaveFilter(e){function getInputsFilter(e){return function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){_e()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({isEditorValue:!1},e,{editorValue:convertToEsQuery(e)})}var t;if(e.stopPropagation(),"Filter Values"===O){t=getInputsFilter({fieldValue:H,operatorValue:W,filterValue:X,labelValue:ae})}else{var n=JSON.parse(D).query||{};if(t={isEditorValue:!0,editorValue:n,labelValue:ae},n.match){var a=Object.keys(n.match)[0];if(a&&n.match[a].query)t=getInputsFilter({fieldValue:a,operatorValue:"is",filterValue:n.match[a].query})}if(n.exists){var r=Object.keys(n.match)[0];if(r&&n.exists[r].field)t=getInputsFilter({fieldValue:r,operatorValue:"exists",filterValue:n.exists[r].field})}}null!==ye.current?(t.isExclude=F[ye.current].isExclude,F.splice(ye.current,1,t),P(fe()(F))):P([].concat(fe()(F),[t])),closeFilterModal()}function convertToEsQuery(e){var t,n=e.fieldValue,a=e.operatorValue,r=e.filterValue;switch(a){case"is":case"is not":t={match_phrase:_e()({},n,{query:r})};break;case"is one of":case"is not one of":t={bool:{minimum_should_match:1,should:r.map((function(e){return{match_phrase:_e()({},n,e)}}))}};break;case"exists":case"does not exist":t={exists:{field:n}}}return t}return Object(a.useEffect)((function(){var e=je.a.parse(c.search)||{},t=e.date,n=e.filterList,a=e.inputValue,r=e.timeRange;try{var o=JSON.parse(n);P(o)}catch(l){console.log(l)}t&&v(t),a&&z(a),r&&(he.current=r)}),[]),Object(a.useEffect)((function(){function handleClickOutSide(){d(!1),closeFilterModal()}return window.addEventListener("click",handleClickOutSide),function(){window.removeEventListener("click",handleClickOutSide)}}),[]),r.a.createElement("div",{className:Ce.a["filter-wrapper"],style:n},r.a.createElement(ge.a,null,r.a.createElement(be.a,{span:3,className:"header-form-wrapper-".concat(o?"large":"default"),onMouseDown:function handleDropDownClick(e){e.stopPropagation(),d(!p),closeFilterModal()},onClick:function onClick(e){return e.stopPropagation()}},r.a.createElement(de.a,{style:{width:"100%"},value:j,open:p,dropdownMatchSelectWidth:!1,dropdownStyle:{background:"transparent",boxShadow:"none"},dropdownRender:function getDropdownRender(){function getTimeList(e){return r.a.createElement("ul",null,e.map((function(e){return r.a.createElement("li",{className:Ce.a["list-item"],onClick:function onClick(){return function handleTimeClick(e){v(e),d(!1)}(e)},key:e},e)})))}return r.a.createElement("div",{className:Ce.a["dropdown-menu"],style:{width:600,background:"#f5f5f5",marginTop:10},onMouseDown:function onMouseDown(e){return e.stopPropagation()},onClick:function onClick(e){return e.stopPropagation()}},r.a.createElement(re.a,{defaultActiveKey:"1"},r.a.createElement(Se,{tab:"Quick",key:"1"},r.a.createElement(ge.a,null,r.a.createElement(be.a,{span:6},getTimeList(["Today","This week","This mouth"])),r.a.createElement(be.a,{span:6},getTimeList(["Last 1 hour","Last 12 hour","Last 24 hour"])))),r.a.createElement(Se,{tab:"Absolute",key:"2"},r.a.createElement(De,{style:{width:"100%",margin:"20px 0"},showTime:{hideDisabledOptions:!0,defaultValue:[Oe()("00:00:00","HH:mm:ss.SSS"),Oe()("11:59:59","HH:mm:ss.SSS")]},onOk:function handleRangeOk(e){d(!1),v("Absolute");var t=g()(e,2),n=t[0],a=t[1];he.current={startTime:n,endTime:a}},format:"YYYY-MM-DDTHH:mm:ss.SSSZ"}))))}})),r.a.createElement(be.a,{span:19,className:"header-form-wrapper-".concat(o?"large":"default"),style:{paddingLeft:15}},r.a.createElement(de.a,{showSearch:!0,showArrow:!1,allowClear:!0,value:U,style:{width:"100%",textAlign:"left"},dropdownStyle:{background:"#f5f5f5"},dropdownClassName:"filter-input-dropdown-wrapper",onSearch:function onSearch(e){return q(e)},onChange:function onChange(e){q(""),z(e)}},["assetname","projectname","tags"].map((function(e){var t="".concat(e,":*").concat(V||(U?function extractInputValue(){var e=U.indexOf("*"),t=U.lastIndexOf("*");return U.substring(e+1,t)}():""),"*");return r.a.createElement(de.a.Option,{value:t,key:e},t)}))),r.a.createElement(ue.a,{type:"search",style:{position:"absolute",right:10,top:o?15:10,fontSize:20,cursor:"pointer"},onClick:function handleSearch(){if(o)l.push({pathname:"/dataset",search:"?filterList=".concat(JSON.stringify(F),"&inputValue=").concat(U,"&date=").concat(j,"&timeRange=").concat(JSON.stringify(he.current))});else{var e=function getFilterData(){var e={bool:{filter:[],must:[],must_not:[],should:[]}};return F.forEach((function(t){if(!t.isExclude)if(t.isEditorValue)e.bool.filter.push(t.editorValue);else{var n=t.fieldValue,a=t.operatorValue,r=t.filterValue;switch(a){case"is":case"is not":var o={match_phrase:_e()({},n,{query:r})};"is"===a?e.bool.filter.push(o):e.bool.must_not.push(o);break;case"is one of":case"is not one of":var l={bool:{minimum_should_match:1,should:r.map((function(e){return{match_phrase:_e()({},n,e)}}))}};"is one of"===a?e.bool.filter.push(l):e.bool.must_not.push(l);break;case"exists":case"does not exist":var c={exists:{field:n}};"exists"===a?e.bool.filter.push(c):e.bool.must_not.push(c)}}})),e}(),t=function getTimeRange(){function getRange(e,t){return{range:{Time:{format:"strict_date_optional_time",gte:e.format("YYYY-MM-DDTHH:mm:ss.SSSZ"),lte:t.format("YYYY-MM-DDTHH:mm:ss.SSSZ")}}}}var e=Oe()();switch(j){case"Today":var t=Oe()().utcOffset(0);return t.set({hour:0,minute:0,second:0,millisecond:0}),getRange(t,e);case"This week":return getRange(Oe()().startOf("isoweek"),e);case"This mouth":return getRange(Oe()().startOf("month"),e);case"Last 1 hour":return getRange(Oe()().subtract(1,"hours"),e);case"Last 12 hour":return getRange(Oe()().subtract(12,"hours"),e);case"Last 24 hour":return getRange(Oe()().subtract(24,"hours"),e);case"Absolute":var n=he.current;return getRange(n.startTime,n.endTime)}}();e.bool.filter.push(t),s&&s({_filter:e,_input:U})}}})),r.a.createElement(be.a,{span:2},r.a.createElement("span",{className:Ce.a["filter-button"],style:{height:we,lineHeight:we},onClick:function handleFilterClick(e){e.stopPropagation(),d(!1),_(!h)}},"Add Filter"),h&&function getFilterDropdown(){var e=r.a.createElement(b.a,{onClick:function onClick(e){return function handleFilterModeChange(e){x(e)}(e.key)}},r.a.createElement(b.a.Item,{key:"Filter Values"},"Filter Values"),r.a.createElement(b.a.Item,{key:"Query DSL"},"Query DSL"));return r.a.createElement("div",{className:Ce.a["filter-dropdown-wrapper"],onClick:function onClick(e){return e.stopPropagation()}},r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement("span",null,"Filter"),r.a.createElement(ie.a,{overlay:e,trigger:["click"]},r.a.createElement("span",{style:{cursor:"pointer"}},O,r.a.createElement(ue.a,{type:"down"})))),function getFilterDropdownContent(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ge.a,{style:{marginTop:10,display:"Filter Values"===O?"block":"none"}},r.a.createElement(be.a,{span:5,style:{paddingRight:5}},r.a.createElement(de.a,{size:"large",value:H||[],onChange:function onChange(e){return $(e)},placeholder:"Field",style:{width:"100%",marginRight:5}},Te.map((function(e){return r.a.createElement(de.a.Option,{key:e},e)})))),r.a.createElement(be.a,{span:5,style:{paddingRight:5}},r.a.createElement(de.a,{size:"large",value:W||[],onChange:function onChange(e){G(e),ee(null)},placeholder:"Operator",style:{width:"100%",marginRight:5}},["is","is not","is one of","is not one of","exists","does not exist"].map((function(e){return r.a.createElement(de.a.Option,{key:e},e)})))),r.a.createElement(be.a,{span:14},("is"===W||"is not"===W)&&r.a.createElement(pe.a,{size:"large",value:X,placeholder:"Values...",onChange:function onChange(e){return ee(e.target.value)}}),("is one of"===W||"is not one of"===W)&&r.a.createElement(de.a,{size:"large",mode:"tags",value:X||[],style:{width:"100%"},placeholder:"Values...",onChange:function onChange(e){return ee(e)}}))),r.a.createElement(Ee.a,{mode:"json",setOptions:{useWorker:!1},value:D,showPrintMargin:!1,onChange:function onChange(e){return T(e)},name:"UNIQUE_ID_OF_DIV",style:{height:200,width:"100%",display:"Filter Values"===O?"none":"block"},editorProps:{$blockScrolling:!0}}))}(),r.a.createElement("div",{style:{textAlign:"left",padding:"20px 0"}},"Label"),r.a.createElement(ge.a,null,r.a.createElement(be.a,{span:5},r.a.createElement(pe.a,{value:ae,size:"large",placeholder:"Optional",onChange:function onChange(e){return me(e.target.value)}}))),r.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},r.a.createElement(se.a,{type:"primary",ghost:!0,style:{marginRight:10},onClick:closeFilterModal},"Cancle"),r.a.createElement(se.a,{type:"primary",disabled:isDisableSaveButton(),onClick:handleSaveFilter},"Save")))}())),r.a.createElement("div",{style:{textAlign:"left"}},F.map((function(e,t){return function getFilterTag(e,t){function getTagBackground(t){return e.isExclude?t?"repeating-linear-gradient(45deg, rgba(144, 0, 2, 0.3), rgba(144, 0, 2, 0.3) 10px, rgba(144, 0, 2, 0.5) 10px, rgba(144, 0, 2,0.5) 20px)":"repeating-linear-gradient(45deg,#7eb7cb,#7eb7cb 10px,#4f9cb8 10px,#4f9cb8 20px)":t?"rgb(144, 0, 2)":"rgb(14, 101, 147)"}function getTag(n){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r.a.createElement(oe.a,{key:n+t,className:Ce.a["filter-tag"],color:a?"rgba(144, 0, 2, 0.8)":"rgba(14, 101, 147, 0.8)",style:{background:getTagBackground(a)}},"".concat(a?"NOT ":""," ").concat(n),r.a.createElement("div",{className:Ce.a["filter-tag-icon-wrapper"],style:{background:a?"rgba(194, 57, 49, 0.8)":"rgba(14, 101, 147, 0.8)"}},r.a.createElement(ce.a,{overlay:e.isExclude?"Include Matches":"Exclude Matches"},r.a.createElement(ue.a,{type:e.isExclude?"zoom-in":"zoom-out",style:{fontSize:15,cursor:"pointer"},onClick:function onClick(){e.isExclude=!e.isExclude,P(fe()(F))}})),r.a.createElement(le.a,{type:"vertical"}),r.a.createElement(ce.a,{overlay:"Delete"},r.a.createElement(ue.a,{type:"delete",style:{fontSize:15,cursor:"pointer"},onClick:function onClick(){return P(F.filter((function(t){return t!==e})))}})),r.a.createElement(le.a,{type:"vertical"}),r.a.createElement(ce.a,{overlay:"Edit"},r.a.createElement(ue.a,{type:"form",style:{fontSize:15,cursor:"pointer"},onClick:function onClick(n){if(n.stopPropagation(),ye.current=t,_(!0),e.isEditorValue)return T(JSON.stringify({query:e.editorValue},null,2)),x("Query DSL"),void me(e.labelValue);var a;a=e.editorValue.match_phrase?{query:{match:e.editorValue.match_phrase}}:{query:e.editorValue},T(JSON.stringify(a,null,2)),$(e.fieldValue),G(e.operatorValue),ee(e.filterValue),me(e.labelValue)}}))))}var n=e.fieldValue,a=e.operatorValue,o=e.filterValue;if(e.labelValue){return getTag(e.labelValue,["is not","is not one of","does not exist"].includes(a))}if(e.isEditorValue)return getTag(JSON.stringify(e.editorValue).replace(/\s/g,""));switch(a){case"is":return getTag("".concat(n,": ").concat(o));case"is not":return getTag("".concat(n,": ").concat(o),!0);case"is one of":return getTag("".concat(n," ").concat(a," ").concat(o.join(",")));case"is not one of":return getTag("".concat(n," is one of ").concat(o.join(",")),!0);case"exists":return getTag("".concat(n," ").concat(a));case"does not exist":return getTag("".concat(n," exists"),!0)}}(e,t)}))))})),Ae=n(169),Fe=n.n(Ae),Pe=(re.a.TabPane,function HomePage(){return r.a.createElement("div",{className:Fe.a["main-wrapper"]},r.a.createElement("h1",{className:Fe.a.title},"HumanDB"),r.a.createElement("p",{className:Fe.a["sub-title"]},"\u4eba\u4f53\u6570\u636e\u96c6\u7b49\u7b49\u7b49\u7b49\u8fd9\u5c31\u662f\u4e00\u53e5SLOGAN"),r.a.createElement(Re,{isHomePage:!0,wrapperStyle:{width:"80%",margin:"0 auto",marginTop:80}}))}),Le=(n(143),n(73)),Me=(n(144),n(74)),Ue=(n(648),n(345)),ze=(n(651),n(172)),Ie=(n(99),n(30)),Ne=(n(833),n(440)),Ve=function DataSetTagsModal(e){var t=e.isMutipleTag,n=e.onClose,o=e.onSuccess,l=e.defaultTags,c=void 0===l?[]:l,s=e.checkedList,i=void 0===s?[]:s,u=e.editTagAssetName,p=Object(a.useState)(c),d=g()(p,2),m=d[0],f=d[1],h=Object(a.useState)([]),_=g()(h,2),b=_[0],y=_[1],j=Object(a.useState)(!1),E=g()(j,2),k=E[0],O=E[1],x=Object(a.useState)(!1),C=g()(x,2),S=C[0],D=C[1],T=Object(a.useRef)(null);function _handleTagsOk(){return(_handleTagsOk=v()(w.a.mark((function _callee(){var e,a;return w.a.wrap((function _callee$(r){for(;;)switch(r.prev=r.next){case 0:if(D(!0),!t){r.next=7;break}return r.next=4,M({assetnames:i,tags:m});case 4:r.t0=r.sent,r.next=10;break;case 7:return r.next=9,z(u,{tags:m});case 9:r.t0=r.sent;case 10:if(e=r.t0,a=e.data,D(!1),a){r.next=15;break}return r.abrupt("return");case 15:t?Ie.a.success("\u6807\u7b7e\u6dfb\u52a0\u6210\u529f"):Ie.a.success("\u6807\u7b7e\u4fee\u6539\u6210\u529f"),o(),n();case 18:case"end":return r.stop()}}),_callee)})))).apply(this,arguments)}function _handleSearchTag(){return(_handleSearchTag=v()(w.a.mark((function _callee3(e){return w.a.wrap((function _callee3$(t){for(;;)switch(t.prev=t.next){case 0:O(!!e),T.current&&clearTimeout(T.current),T.current=setTimeout(v()(w.a.mark((function _callee2(){var t,n;return w.a.wrap((function _callee2$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,L({name:e});case 2:if(t=a.sent,n=t.data){a.next=6;break}return a.abrupt("return");case 6:y(n);case 7:case"end":return a.stop()}}),_callee2)}))),500);case 3:case"end":return t.stop()}}),_callee3)})))).apply(this,arguments)}return r.a.createElement(Le.a,{title:t?"\u6279\u91cf\u6dfb\u52a0\u6807\u7b7e":"\u7ba1\u7406\u6807\u7b7e",onCancel:function onCancel(){return n()},style:{paddingTop:30,paddingBottom:30},visible:!0,width:680,maskClosable:!1,onOk:function handleTagsOk(){return _handleTagsOk.apply(this,arguments)},okText:"\u4fdd\u5b58",cancelText:"\u53d6\u6d88",confirmLoading:S},r.a.createElement("p",null,t?"\u8bf7\u4e3a ".concat(i.slice(0,2).join("\uff0c")," \u7b49").concat(i.length,"\u4e2a Asset \u6dfb\u52a0\u6807\u7b7e\uff1a"):"".concat(u,"\u6807\u7b7e")),r.a.createElement(de.a,{mode:"tags",value:m,open:k,className:"add-tags-wrapper",style:{width:"100%"},placeholder:"\u8bf7\u8f93\u5165\u6807\u7b7e",autoClearSearchValue:!0,dropdownRender:function dropdownRender(e){return r.a.createElement("div",null,e)},notFoundContent:null,onChange:function onChange(e){f(e),y([]),O(!1)},onFocus:function onFocus(){return y([])},filterOption:function filterOption(e,t){return!0},onSearch:function handleSearchTag(e){return _handleSearchTag.apply(this,arguments)}},b.map((function(e){return r.a.createElement(de.a.Option,{key:e},e)}))))},qe=function download(e){var t=e.status,n=e.data,a=e.headers["content-disposition"].split("filename=")[1];if(200===t){var r=new Blob([n],{type:"application/octet-stream"}),o=URL.createObjectURL(r),l=document.createElement("a");l.href=o,l.download=a,l.click()}},Be=n(170),Ye=n.n(Be);function DataSetList_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function DataSetList_objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?DataSetList_ownKeys(Object(n),!0).forEach((function(t){_e()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DataSetList_ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var He,$e=S.a.CancelToken,Ke=["\u6309\u65f6\u95f4/\u5012\u5e8f","\u6309\u65f6\u95f4/\u6b63\u5e8f","\u6309asset\u540d\u79f0/\u5012\u5e8f","\u6309asset\u540d\u79f0/\u6b63\u5e8f","\u6309project\u540d\u79f0/\u5012\u5e8f","\u6309project\u540d\u79f0/\u6b63\u5e8f"];!function(e){e[e.TimeDesc=0]="TimeDesc",e[e.TimeAsc=1]="TimeAsc",e[e.AssetDesc=2]="AssetDesc",e[e.AssetAsc=3]="AssetAsc",e[e.ProjectDesc=4]="ProjectDesc",e[e.ProjectAsc=5]="ProjectAsc"}(He||(He={}));var Je=function DataSet(){var e=Object(a.useState)([]),t=g()(e,2),n=t[0],o=t[1],l=Object(a.useState)([]),c=g()(l,2),s=c[0],i=c[1],p=Object(a.useState)(0),d=g()(p,2),m=d[0],f=d[1],h=Object(a.useState)(1),_=g()(h,2),b=_[0],y=_[1],j=Object(a.useState)(12),k=g()(j,2),O=k[0],x=k[1],C=Object(a.useState)("grid"),S=g()(C,2),D=S[0],T=S[1],R=Object(a.useState)(!1),F=g()(R,2),P=F[0],L=F[1],M=Object(a.useState)(""),U=g()(M,2),z=U[0],I=U[1],N=Object(a.useState)(!1),V=g()(N,2),B=V[0],Y=V[1],H=Object(a.useState)(!1),$=g()(H,2),K=$[0],J=$[1],W=Object(a.useState)([]),G=g()(W,2),Z=G[0],X=G[1],ee=Object(a.useState)(""),te=g()(ee,2),ne=te[0],ae=te[1],re=Object(a.useState)({}),le=g()(re,2),ie=le[0],pe=le[1],me=Object(a.useState)(0),he=g()(me,2),_e=he[0],ge=he[1],be=Object(a.useRef)([]),ye=Object(a.useRef)(null),we=Object(a.useRef)(!1);function fetchAssetList(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t={},n=[He.AssetAsc,He.ProjectAsc,He.TimeAsc];switch(n.includes(_e)?t._direction="asc":t._direction="desc",_e){case He.AssetAsc:case He.AssetDesc:t._sort="assetname";break;case He.ProjectAsc:case He.ProjectDesc:t._sort="projectname";break;case He.TimeDesc:case He.TimeAsc:t._sort="createtime"}var a=DataSetList_objectSpread({_page:b,_num:e?-1:O},ie,{},t),r=new $e((function(e){return ye.current=e}));return A(a,r)}function fetchList(){return _fetchList.apply(this,arguments)}function _fetchList(){return(_fetchList=v()(w.a.mark((function _callee3(){var e,t;return w.a.wrap((function _callee3$(n){for(;;)switch(n.prev=n.next){case 0:return!0===we.current&&ye.current&&ye.current(),n.prev=1,we.current=!0,n.next=5,fetchAssetList();case 5:if(e=n.sent,t=e.data,we.current=!1,t){n.next=10;break}return n.abrupt("return");case 10:i(t.items),f(t.total),n.next=17;break;case 14:n.prev=14,n.t0=n.catch(1),console.log("cancel request");case 17:case"end":return n.stop()}}),_callee3,null,[[1,14]])})))).apply(this,arguments)}function _handleDownLoadAsset(){return(_handleDownLoadAsset=v()(w.a.mark((function _callee4(e){var t;return w.a.wrap((function _callee4$(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Q({assetname:e});case 2:t=n.sent,qe(t);case 4:case"end":return n.stop()}}),_callee4)})))).apply(this,arguments)}function getIcons(e){function removeCheck(){o(n.filter((function(t){return e.assetname!==t})))}function _handleDelete(){return(_handleDelete=v()(w.a.mark((function _callee(){var t;return w.a.wrap((function _callee$(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,q(e.assetname);case 2:t=n.sent,t.data,removeCheck(),Ie.a.success("\u5220\u9664\u6210\u529f"),fetchList();case 7:case"end":return n.stop()}}),_callee)})))).apply(this,arguments)}return r.a.createElement("div",{onClick:function onClick(e){return e.stopPropagation()}},r.a.createElement(ue.a,{onClick:function handlePreview(){L(!0),I(e.preview)},type:"eye",style:{marginRight:5,cursor:"pointer"}}),r.a.createElement(E.a,{to:"/dataset/".concat(e.assetname),style:{color:"#000"}},r.a.createElement(ue.a,{type:"fullscreen",style:{marginRight:5,cursor:"pointer"}})),r.a.createElement(ue.a,{type:"download",onClick:function onClick(){return function handleDownLoadAsset(e){return _handleDownLoadAsset.apply(this,arguments)}(e.assetname)},style:{marginRight:5,cursor:"pointer"}}),r.a.createElement(Ne.a,{title:r.a.createElement("p",{style:{marginBottom:0}},"\u4f60\u786e\u5b9a\u8981\u5220\u9664".concat(e.assetname,"\u5417?")),onConfirm:function handleDelete(){return _handleDelete.apply(this,arguments)},okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",icon:r.a.createElement(ue.a,{type:"close-circle",className:Ye.a["confirm-icon"],theme:"filled"})},r.a.createElement(ue.a,{type:"delete"})))}function handleEditTag(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];Y(!0),J(e),X(n),t&&ae(t)}function handleCheck(e){n.includes(e)?o(n.filter((function(t){return t!==e}))):(n.push(e),o(fe()(n)))}function getTags(e,t,n){var a=e.slice(0,n);return r.a.createElement(r.a.Fragment,null,a.map((function(e,n){var a=e.length>t,o=a?{}:{visible:!1};return r.a.createElement(ce.a,u()({title:e},o,{key:e}),r.a.createElement(oe.a,null,a?"".concat(e.substring(0,t),"..."):e))})),e.length>n&&r.a.createElement(ce.a,{overlay:e.join("\uff0c")},r.a.createElement(oe.a,null,"...")))}function isCheckAll(){return!!be.current.length&&n.length===be.current.length}function isCheckCurrentPage(){return 0!==s.length&&s.every((function(e){return n.includes(e.assetname)}))}return Object(a.useEffect)((function(){fetchList()}),[b,O,ie,_e]),Object(a.useEffect)((function(){o([])}),[ie]),Object(a.useEffect)((function(){var e=Math.ceil(m/O);e&&b>e&&y(e)}),[m]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Re,{wrapperStyle:{paddingBottom:40},isHomePage:!1,handleFilter:function handleSearch(e){pe(e)}}),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement("div",null,r.a.createElement(ze.a.Group,{value:D,onChange:function onChange(e){return T(e.target.value)}},r.a.createElement(ze.a.Button,{value:"grid"},r.a.createElement(ue.a,{type:"appstore"})),r.a.createElement(ze.a.Button,{value:"column"},r.a.createElement(ue.a,{type:"menu"}))),r.a.createElement(de.a,{defaultValue:Ke[0],style:{marginLeft:10,width:200},onChange:function onChange(e){return ge(e)}},Ke.map((function(e,t){return r.a.createElement(de.a.Option,{key:e,value:t},e)})))),r.a.createElement("div",null,r.a.createElement("span",{style:{marginLeft:10}},"\u5df2\u9009",n.length,"\u9879"),r.a.createElement("span",{style:{marginLeft:10}},r.a.createElement(Ue.a,{onChange:function handleCheckAll(e){if(!e.target.checked)return o([]);function _fetchAll(){return(_fetchAll=v()(w.a.mark((function _callee2(){var e,t,n;return w.a.wrap((function _callee2$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetchAssetList();case 2:e=a.sent,t=e.data,n=t.items,be.current=n.map((function(e){return e.assetname})),o(be.current);case 7:case"end":return a.stop()}}),_callee2)})))).apply(this,arguments)}return be.current.length?o(be.current):function fetchAll(){return _fetchAll.apply(this,arguments)}()},indeterminate:function isCheckAllIndeterminate(){return 0!==n.length&&!isCheckAll()}(),checked:isCheckAll()},"\u5168\u9009")),r.a.createElement("span",{style:{marginLeft:10}},r.a.createElement(Ue.a,{onChange:function handleCheckCurrentPage(e){var t=e.target.checked,a=n.concat(s.map((function(e){return e.assetname})));if(t)o(fe()(new Set(a)));else{var r=s.map((function(e){return e.assetname}));o(n.filter((function(e){return!r.includes(e)})))}},indeterminate:function isCheckCurrentPageIndeterminate(){return s.some((function(e){return n.includes(e.assetname)}))&&!isCheckCurrentPage()}(),checked:isCheckCurrentPage()},"\u9009\u4e2d\u5f53\u524d\u9875")),r.a.createElement("span",{style:{marginLeft:10}},r.a.createElement(ce.a,u()({title:"\u8bf7\u9009\u62e9\u591a\u4e2a\u9879\uff08\u22652\uff09\u8fdb\u884c\u6279\u91cf\u6dfb\u52a0\u6807\u7b7e"},n.length>=2?{visible:!1}:{}),r.a.createElement(se.a,{onClick:function onClick(){return handleEditTag(!0)},disabled:n.length<2},"\u6279\u91cf\u6dfb\u52a0\u6807\u7b7e"))))),r.a.createElement("div",{style:{marginTop:20}},r.a.createElement(r.a.Fragment,null,function getGridCard(){return r.a.createElement("ul",{className:"card-wrapper",style:{flexWrap:"wrap",display:"grid"===D?"flex":"none"}},s.map((function(e){var t=e.assetname,a=e.projectname,o=(e.preview,e.tags),l=n.includes(t);return r.a.createElement("li",{key:t,style:{flex:"0 1 24%",width:"24%",marginBottom:18,marginRight:"1.3%"}},r.a.createElement("div",{className:l?Ye.a.checked:"",style:{position:"relative",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.15)",background:"#ccc"}},l&&r.a.createElement(ue.a,{type:"check",style:{position:"absolute",color:"#fff",fontSize:16,left:3,top:3,zIndex:2}}),r.a.createElement("div",{style:{position:"relative",overflow:"hidden",height:250,cursor:"pointer"},onClick:function onClick(){return handleCheck(t)}},r.a.createElement("img",{height:"100%",style:{marginLeft:"50%",transform:"translateX(-50%)"},src:e.preview,onError:function onError(e){e.target.src="./static/images/notfound.svg"},alt:""}),r.a.createElement("div",{style:{position:"absolute",top:8,right:8}},getIcons(e)),r.a.createElement("div",{style:{position:"absolute",bottom:8,left:8}},r.a.createElement("div",{style:{marginBottom:10,fontSize:16,fontWeight:700}},t),r.a.createElement("div",null,a))),r.a.createElement("div",{style:{padding:8,background:"#fff"}},getTags(o,3,3),r.a.createElement(ue.a,{onClick:function onClick(){return handleEditTag(!1,t,o)},type:"setting",style:{cursor:"pointer"}}))))})))}(),function getColumnCard(){return r.a.createElement("ul",{style:{display:"grid"===D?"none":"block"}},s.map((function(e){var t=e.assetname,a=e.projectname,o=(e.preview,e.tags),l=e.createtime,c=n.includes(t);return r.a.createElement("li",{onClick:function onClick(){return handleCheck(t)},key:e.assetname,className:c?Ye.a.checked:"",style:{width:"100%",height:120,padding:14,position:"relative",cursor:"pointer",marginTop:20,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.15)",background:"#fff"}},r.a.createElement("div",{style:{position:"absolute",right:14,top:14}},getIcons(e)),c&&r.a.createElement(ue.a,{type:"check",style:{position:"absolute",color:"#fff",fontSize:16,left:3,top:3,zIndex:2}}),r.a.createElement("div",{style:{display:"flex",justifyContent:"flex-start"}},r.a.createElement("div",{style:{position:"relative",height:92,width:92,overflow:"hidden",background:"#ccc"}},r.a.createElement("img",{src:"./static/images/notfound.svg",onError:function onError(e){e.target.src="./static/images/notfound.svg"},height:"92",alt:"",style:{marginLeft:"50%",transform:"translateX(-50%)"}})),r.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-between",marginLeft:14}},r.a.createElement("span",{style:{fontSize:16,fontWeight:700}},t),r.a.createElement("span",null,a,",",l),r.a.createElement("span",null,getTags(o,6,9),r.a.createElement(ue.a,{onClick:function onClick(e){e.stopPropagation(),handleEditTag(!1,t,o)},type:"setting",style:{cursor:"pointer"}})))))})))}())),r.a.createElement(Me.a,{showQuickJumper:!0,showSizeChanger:!0,defaultCurrent:1,current:b,defaultPageSize:12,pageSizeOptions:["12","24","36","48"],total:m,onChange:function onChange(e){return y(e)},onShowSizeChange:function onShowSizeChange(e,t){y(e),x(t)},style:{float:"right",marginTop:30}}),r.a.createElement("div",{style:{clear:"right"}}),r.a.createElement(Le.a,{onCancel:function onCancel(){return L(!1)},className:"img-modal-wrapper",style:{paddingTop:30,paddingBottom:30},visible:P,width:680,footer:null},r.a.createElement("img",{src:z,width:"100%",alt:""})),B&&r.a.createElement(Ve,{defaultTags:Z,isMutipleTag:K,onClose:function onClose(){return Y(!1)},onSuccess:fetchList,checkedList:n,editTagAssetName:ne}))},We=(n(659),n(173)),Ge=n(69),Qe=n.n(Ge),Ze=(n(392),n(88)),Xe=(n(666),n(446)),et={body:[{name:"model",isRequired:!0},{name:"format",isRequired:!0},{name:"comment",isRequired:!1,defaultValue:""},{name:"fps",isRequired:!0,isInt:!0},{name:"framenum",isRequired:!1,isInt:!0},{name:"startframe",isRequired:!1,defaultValue:0,isInt:!0},{name:"endframe",isRequired:!1,defaultValue:0,isInt:!0},{name:"orderformat",isRequired:!1},{name:"coordinate",isRequired:!1}],face:[{name:"model",isRequired:!0},{name:"format",isRequired:!0},{name:"comment",isRequired:!1,defaultValue:""},{name:"vertexnum",isRequired:!1,isInt:!0},{name:"facenum",isRequired:!1,isInt:!0},{name:"expdim",isRequired:!1,isInt:!0},{name:"iddim",isRequired:!1,isInt:!0}],audio:[{name:"name",isRequired:!1},{name:"format",isRequired:!0},{name:"samplerate",isRequired:!0,isInt:!0}],video:[{name:"name",isRequired:!1},{name:"format",isRequired:!0}],feature:[{name:"name",isRequired:!1}]},tt=function UrlValue(e){var t=e.value,n=void 0===t?"":t;return r.a.createElement("span",{style:{wordBreak:"break-all"}},n)},nt=function ComponentForm(e){var t=e.form,n=e.type,o=e.isCreate,l=e.onEditUpload,c=e.isReplaceLoading,s=Object(a.useState)([]),i=g()(s,2),p=i[0],d=i[1],m=t.getFieldDecorator,f=t.setFieldsValue,h={labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:20}}},_={fileList:p,onRemove:function onRemove(){d([]),f({file:void 0})},beforeUpload:function beforeUpload(e){return d([e]),f({file:e}),!1}},b={showUploadList:!1,beforeUpload:function beforeUpload(e){return l(e),!1}};return r.a.createElement(Qe.a,null,et[n].map((function(e){var t=e.name,n=e.isRequired,a=e.isInt,l=e.defaultValue;return r.a.createElement(Qe.a.Item,u()({},h,{key:t,label:t}),m(t,{rules:[{required:n,message:"".concat(t,"\u4e0d\u80fd\u4e3a\u7a7a")}],initialValue:void 0!==l?l:""})(a?r.a.createElement(Xe.a,{style:{background:o?"":"#f0f3ff",width:"100%"}}):r.a.createElement(pe.a,{style:{background:o?"":"#f0f3ff"}})))})),o?r.a.createElement(Qe.a.Item,u()({},h,{label:"file"}),m("file",{rules:[{required:!0,message:"\u6587\u4ef6\u4e0d\u80fd\u4e3a\u7a7a"}]})(r.a.createElement(Ze.a,_,r.a.createElement(se.a,null,r.a.createElement(ue.a,{type:"upload"})," \u70b9\u51fb\u4e0a\u4f20")))):r.a.createElement(Qe.a.Item,u()({},h,{label:"url"}),m("url",{})(r.a.createElement(tt,null)),r.a.createElement(Ze.a,b,r.a.createElement(se.a,{size:"small",style:{marginLeft:20},loading:c},"\u66ff\u6362"))))},at=function getPrefixComponentName(e,t){var n=t.model,a=t.format,r=t.samplerate,o=t.name;switch(e){case"body":case"face":return"".concat(n,"_").concat(a);case"audio":return"".concat(o,"_").concat(a,"_").concat(r);case"video":return"".concat(o,"_").concat(a);case"feature":return"".concat(o)}},rt=Qe.a.create()((function CreateComponentModal(e){var t=e.assetname,n=e.type,o=e.form,l=e.onCancel,c=e.onSuccess,s=Object(a.useState)(!1),i=g()(s,2),u=i[0],p=i[1],d=o.validateFieldsAndScroll;return r.a.createElement(Le.a,{className:"component-modal-wrapper",title:"\u65b0\u589e",width:600,visible:!0,maskClosable:!1,onOk:function handleOk(){d(function(){var e=v()(w.a.mark((function _callee(e,a){var r,o,l,s,i,u,d,m,f,h;return w.a.wrap((function _callee$(_){for(;;)switch(_.prev=_.next){case 0:if(!e){_.next=2;break}return _.abrupt("return");case 2:r=new FormData,o=0,l=Object.keys(a);case 4:if(!(o<l.length)){_.next=22;break}if(s=l[o],(i="file"===s)?r.append(s,a[s].file):r.append(s,a[s]),!i){_.next=19;break}if(u=a[s].file,a.name||!a.format||a.model){_.next=14;break}return u.name.substring(u.name.lastIndexOf("/")+1)!==a.format&&Ie.a.error("\u6587\u4ef6\u7c7b\u578b\u4e0d\u5339\u914d"),_.abrupt("return");case 14:if(d=at(n,a),m=u.name.substring(0,u.name.lastIndexOf(".")),d===m){_.next=19;break}return _.abrupt("return",Ie.a.error("\u6587\u4ef6\u540d\u4e0d\u5339\u914d"));case 19:o++,_.next=4;break;case 22:return p(!0),_.next=25,U(t,n,r);case 25:f=_.sent,h=f.data,p(!1),Ie.a.success("\u65b0\u589e\u6210\u529f"),c(h);case 30:case"end":return _.stop()}}),_callee)})));return function(t,n){return e.apply(this,arguments)}}())},onCancel:l,okText:"\u4fdd\u5b58",cancelText:"\u53d6\u6d88",confirmLoading:u},r.a.createElement(nt,{form:o,type:n,isCreate:!0}))})),ot=(n(811),n(445)),lt=n(164),ct=n.n(lt),st=r.a.forwardRef((function MediaPlayer(e,t){var n=e.type,o=e.src,l=Object(a.useState)(!1),c=g()(l,2),s=c[0],i=c[1],u=Object(a.useState)(0),p=g()(u,2),d=p[0],m=p[1],f=Object(a.useState)(0),h=g()(f,2),_=h[0],b=h[1],y=Object(a.useState)([]),w=g()(y,2),j=w[0],v=w[1],E=Object(a.useRef)(null),k=Object(a.useRef)(null),O=Object(a.useRef)(null);function handlePause(){i(!1),v([]),O.current&&cancelAnimationFrame(O.current)}function renderSoundWave(){var e=new Uint8Array(13);O.current=requestAnimationFrame(renderSoundWave),k.current.getByteFrequencyData(e),v(Array.from(e))}return Object(a.useEffect)((function(){!function initMedia(){if(E.current.src=o,E.current.crossOrigin="anonymous",E.current.preload="metadata",E.current.onloadedmetadata=function(){m(Math.floor(E.current.duration))},E.current.ontimeupdate=function(e){b(Math.floor(E.current.currentTime))},E.current.onended=function(){handlePause(),E.current.currentTime=0},"audio"===n){var e=new AudioContext,t=e.createMediaElementSource(E.current),a=e.createAnalyser();k.current=a,t.connect(a),a.connect(e.destination),a.fftSize=256}}()}),[n]),Object(a.useEffect)((function(){handlePause()}),[n,o]),r.a.createElement(r.a.Fragment,null,"video"===n?r.a.createElement("video",{src:o,ref:E,width:"100%"}):r.a.createElement("div",null,r.a.createElement("audio",{src:o,ref:E,crossOrigin:"anonymous"}),r.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:380}},function getAudioWave(){if(!j.length){for(var e=[],t=0;t<13;t++)e[t]=t%2?35:20;return e.map((function(e,t){return r.a.createElement("div",{key:t,style:{height:e},className:ct.a.waveform})}))}return j.map((function(e,t){var n=40*(e-0)/255+10;return r.a.createElement("div",{key:t,style:{height:n},className:ct.a.waveform})}))}())),r.a.createElement(ge.a,{style:{marginTop:25,display:"flex",alignItems:"center",position:"absolute",bottom:-50,width:"100%"}},r.a.createElement(be.a,{span:1},r.a.createElement("img",{onClick:function handlePlayOrPause(){if(E.current.paused){if(E.current.play(),i(!0),"audio"===n){new Uint8Array(10);renderSoundWave()}}else E.current.pause(),handlePause()},width:"100%",src:"./static/images/".concat(s?"pause":"play",".png"),style:{cursor:"pointer"},alt:""})),r.a.createElement(be.a,{span:5,style:{paddingLeft:20}},function getTimestamp(){function getTwoDigitsTime(e){return e<10?"0".concat(e):e}var e="".concat(getTwoDigitsTime(Math.floor(d/60)),":").concat(getTwoDigitsTime(d%60)),t="".concat(getTwoDigitsTime(Math.floor(_/60)),":").concat(getTwoDigitsTime(_%60));return"".concat(t,"/").concat(e)}()),r.a.createElement(be.a,{span:16},r.a.createElement(ot.a,{value:_,className:"slider-wrapper",tipFormatter:null,max:d,onChange:function onChange(e){E.current.currentTime=e,b(e)}})),"video"===n&&r.a.createElement(be.a,{span:2,style:{paddingLeft:10}},r.a.createElement(ue.a,{onClick:function handleFullScreen(){E.current.requestFullscreen?E.current.requestFullscreen():E.current.mozRequestFullScreen?E.current.mozRequestFullScreen():E.current.webkitRequestFullscreen?E.current.webkitRequestFullscreen():E.current.msRequestFullscreen&&E.current.msRequestFullscreen()},type:"fullscreen",style:{cursor:"pointer"}}))))}));function DataSetDetail_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function DataSetDetail_objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?DataSetDetail_ownKeys(Object(n),!0).forEach((function(t){_e()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DataSetDetail_ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var it=re.a.TabPane,ut=["body","face","audio","video","feature"],pt={};ut.forEach((function(e){pt[e]=1}));var dt=Qe.a.create()((function DataSetDetail(e){var t=e.match,n=e.history,o=e.form,l=(e.isAdmin,Object(a.useState)(null)),c=g()(l,2),s=c[0],i=c[1],u=Object(a.useState)(""),p=g()(u,2),d=p[0],m=p[1],f=Object(a.useState)(ut[0]),h=g()(f,2),_=h[0],y=h[1],j=Object(a.useState)(!1),k=g()(j,2),O=k[0],x=k[1],C=Object(a.useState)({}),S=g()(C,2),D=S[0],T=S[1],R=Object(a.useState)(pt),A=g()(R,2),L=A[0],M=A[1],U=Object(a.useState)(!1),z=g()(U,2),H=z[0],$=z[1],K=Object(a.useState)(""),J=g()(K,2),W=J[0],G=J[1],Z=Object(a.useState)(!1),X=g()(Z,2),ee=X[0],te=X[1],ne=Object(a.useState)(!1),ae=g()(ne,2),le=ae[0],ce=ae[1],ie=Object(a.useState)(!1),de=g()(ie,2),me=de[0],fe=de[1],he=Object(a.useState)(!1),ye=g()(he,2),we=ye[0],je=ye[1],ve=t.params.assetname,Ee=o.validateFieldsAndScroll,ke=o.setFieldsValue;function _fetchComponentInfo(){return(_fetchComponentInfo=v()(w.a.mark((function _callee2(e){var t,n;return w.a.wrap((function _callee2$(a){for(;;)switch(a.prev=a.next){case 0:if(e){a.next=2;break}return a.abrupt("return");case 2:return a.next=4,P(ve,_,e);case 4:t=a.sent,n=t.data,ke(n),T(n);case 8:case"end":return a.stop()}}),_callee2)})))).apply(this,arguments)}function fetchAsset(){return _fetchAsset.apply(this,arguments)}function _fetchAsset(){return(_fetchAsset=v()(w.a.mark((function _callee3(){var e,t,n,a,r,o,l=arguments;return w.a.wrap((function _callee3$(c){for(;;)switch(c.prev=c.next){case 0:return e=l.length>0&&void 0!==l[0]&&l[0],c.next=3,F(ve);case 3:if(t=c.sent,n=t.data){c.next=7;break}return c.abrupt("return");case 7:a={},ut.forEach((function(e){a[e]=[]})),r=DataSetDetail_objectSpread({},a,{},n),i(r),e&&(o=at("body",r.body[0]||{}),m(o));case 12:case"end":return c.stop()}}),_callee3)})))).apply(this,arguments)}function handleClickList(e){m(e.key)}function handleEditUpload(e){return _handleEditUpload.apply(this,arguments)}function _handleEditUpload(){return(_handleEditUpload=v()(w.a.mark((function _callee4(e){var t,n,a;return w.a.wrap((function _callee4$(r){for(;;)switch(r.prev=r.next){case 0:return(t=new FormData).append("file",e),ce(!0),r.next=5,V(ve,_,d,t);case 5:if(n=r.sent,a=n.data,ce(!1),a){r.next=10;break}return r.abrupt("return",Ie.a.error("\u66ff\u6362\u5931\u8d25"));case 10:Ie.a.success("\u66ff\u6362\u6210\u529f"),ke({url:a.url});case 12:case"end":return r.stop()}}),_callee4)})))).apply(this,arguments)}function _submitComponentInfo(){return(_submitComponentInfo=v()(w.a.mark((function _callee6(){return w.a.wrap((function _callee6$(e){for(;;)switch(e.prev=e.next){case 0:Ee(function(){var e=v()(w.a.mark((function _callee5(e,t){var n;return w.a.wrap((function _callee5$(a){for(;;)switch(a.prev=a.next){case 0:if(!e){a.next=2;break}return a.abrupt("return");case 2:return a.next=4,N(ve,_,d,t);case 4:if(n=a.sent,n.data){a.next=8;break}return a.abrupt("return");case 8:Ie.a.success("\u7f16\u8f91\u6210\u529f"),fetchAsset();case 10:case"end":return a.stop()}}),_callee5)})));return function(t,n){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),_callee6)})))).apply(this,arguments)}function handleDelete(e){function _deleteAsset(){return(_deleteAsset=v()(w.a.mark((function _callee(){var t;return w.a.wrap((function _callee$(a){for(;;)switch(a.prev=a.next){case 0:if(!e){a.next=6;break}return a.next=3,B(ve,_,d);case 3:a.t0=a.sent,a.next=9;break;case 6:return a.next=8,q(ve);case 8:a.t0=a.sent;case 9:t=a.t0,t.data,m(""),Ie.a.success("\u5220\u9664\u6210\u529f"),e&&fetchAsset(),!e&&n.push("/dataset");case 15:case"end":return a.stop()}}),_callee)})))).apply(this,arguments)}Le.a.confirm({okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",title:"\u786e\u5b9a\u8981\u5220\u9664".concat(e?d:ve,"\u5417"),onOk:function onOk(){!function deleteAsset(){return _deleteAsset.apply(this,arguments)}()},onCancel:function onCancel(){}})}if(Object(a.useEffect)((function(){fetchAsset(!0)}),[]),Object(a.useEffect)((function(){!function fetchComponentInfo(e){return _fetchComponentInfo.apply(this,arguments)}(d)}),[d]),console.log(s),!s)return null;var Oe=s.projectname,xe=s.actorname,Ce=s.createtime,Se=s.tags,De=s.comment;function handleChangeProjectName(e){return _handleChangeProjectName.apply(this,arguments)}function _handleChangeProjectName(){return(_handleChangeProjectName=v()(w.a.mark((function _callee7(e){var t,n;return w.a.wrap((function _callee7$(a){for(;;)switch(a.prev=a.next){case 0:if(t=e.target.value){a.next=5;break}return Ie.a.error("\u8bf7\u586b\u5199\u9879\u76ee\u540d\u79f0"),te(!1),a.abrupt("return");case 5:return a.next=7,I(ve,{projectname:t});case 7:n=a.sent,n.data,Ie.a.success("\u7f16\u8f91\u6210\u529f"),i(DataSetDetail_objectSpread({},s,{projectname:t})),te(!1);case 12:case"end":return a.stop()}}),_callee7)})))).apply(this,arguments)}function _handleDownloadComponent(){return(_handleDownloadComponent=v()(w.a.mark((function _callee8(){var e;return w.a.wrap((function _callee8$(t){for(;;)switch(t.prev=t.next){case 0:if(!we){t.next=2;break}return t.abrupt("return");case 2:return je(!0),t.next=5,Y(ve,_,d);case 5:if(e=t.sent,je(!1),e){t.next=9;break}return t.abrupt("return");case 9:qe(e);case 10:case"end":return t.stop()}}),_callee8)})))).apply(this,arguments)}function _handleDownloadAsset(){return(_handleDownloadAsset=v()(w.a.mark((function _callee9(){var e;return w.a.wrap((function _callee9$(t){for(;;)switch(t.prev=t.next){case 0:return fe(!0),t.next=3,Q({assetname:ve});case 3:if(e=t.sent,fe(!1),e){t.next=7;break}return t.abrupt("return");case 7:qe(e);case 8:case"end":return t.stop()}}),_callee9)})))).apply(this,arguments)}return r.a.createElement(r.a.Fragment,null,r.a.createElement(We.a,{style:{marginBottom:30}},r.a.createElement(We.a.Item,null,r.a.createElement(E.a,{to:"/dataset"},"\u6570\u636e\u96c6")),r.a.createElement(We.a.Item,null,"AssetName\u8be6\u60c5\u9875")),r.a.createElement("div",{style:{background:"#fff",padding:20,display:"flex",position:"relative",marginBottom:20}},r.a.createElement("div",{style:{position:"absolute",right:20,top:20}},r.a.createElement(se.a,{type:"danger",ghost:!0,style:{width:95},onClick:handleDelete},"\u5220\u9664"),r.a.createElement(se.a,{type:"primary",ghost:!0,style:{width:95,marginRight:10,marginLeft:10},onClick:function onClick(){return $(!0)}},"\u6807\u7b7e\u7ba1\u7406"),r.a.createElement(se.a,{type:"primary",style:{width:95},onClick:function handleDownloadAsset(){return _handleDownloadAsset.apply(this,arguments)},loading:me},"\u4e0b\u8f7d")),r.a.createElement("div",{style:{width:200,height:200,overflow:"hidden",marginRight:20,background:"#fafafa"}},r.a.createElement("img",{src:s.preview,height:"100%",alt:"",style:{marginLeft:"50%",transform:"translateX(-50%)"}})),r.a.createElement("div",{style:{flex:1}},r.a.createElement("div",{style:{height:200,display:"flex",flexDirection:"column",justifyContent:"space-between"}},r.a.createElement("div",null,ve),r.a.createElement("div",null,r.a.createElement("span",null,"\u9879\u76ee\u540d\u79f0\uff1a",ee?r.a.createElement(pe.a,{size:"small",defaultValue:Oe,style:{width:200},onPressEnter:function onPressEnter(e){return handleChangeProjectName(e)},onBlur:function onBlur(e){return handleChangeProjectName(e)}}):Oe),r.a.createElement(ue.a,{type:"form",style:{marginLeft:10,cursor:"pointer"},onClick:function onClick(){return te(!0)}})),r.a.createElement("div",null,xe,xe?"\uff0c":"",Ce),r.a.createElement("div",{style:{height:100,background:"#fafafa",padding:10,overflow:"auto",marginBottom:10}},Se.map((function(e){return r.a.createElement(oe.a,{key:e},e)})))),r.a.createElement("div",null,De))),r.a.createElement(ge.a,null,r.a.createElement(be.a,{span:11},r.a.createElement("div",{style:{background:"#fff",marginRight:20,padding:20,height:560}},r.a.createElement(re.a,{className:"component-list-wrapper",defaultActiveKey:"1",onChange:function onChange(e){y(e),m(s[e][0]&&at(e,s[e][0]))}},ut.map((function(e){return r.a.createElement(it,{tab:e.charAt(0).toUpperCase()+e.slice(1),key:e,style:{paddingBottom:50,height:452}},function getFileList(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(se.a,{onClick:function onClick(){return x(!0)},icon:"plus",style:{padding:"0 35px",margin:"10px 0"}},"\u65b0\u589e"),r.a.createElement(b.a,{onClick:handleClickList,style:{width:"100%"},defaultSelectedKeys:["1"],defaultOpenKeys:["sub1"],mode:"inline",selectedKeys:[d]},console.log(e),s[e].slice(7*(L[e]-1),7*(L[e]-1)+7).map((function(t,n){return r.a.createElement(b.a.Item,{key:at(e,t)},at(e,t))}))),r.a.createElement(Me.a,{className:"component-pagination",total:s[e].length,size:"small",onChange:function onChange(t){M(DataSetDetail_objectSpread({},L,_e()({},e,t))),m(at(e,s[e][7*(t-1)]))},pageSize:7,showTotal:function showTotal(){return"\u5171".concat(s[e].length,"\u9879")}}))}(e))}))))),r.a.createElement(be.a,{span:13,style:{background:"#fff",padding:20,height:560}},d&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,d),r.a.createElement("span",{style:{float:"right",marginTop:-30}},r.a.createElement(ue.a,{type:"download",style:{fontSize:20,marginRight:15,cursor:"pointer"},onClick:function handleDownloadComponent(){return _handleDownloadComponent.apply(this,arguments)}}),r.a.createElement(ue.a,{type:"delete",style:{fontSize:20,cursor:"pointer"},onClick:function onClick(){return handleDelete(!0)}})),r.a.createElement("span",null),function getComponentFields(){return r.a.createElement(re.a,{type:"card",className:"component-tabs-wrapper",onChange:function onChange(e){return G(e)}},r.a.createElement(it,{tab:"\u9884\u89c8",key:"\u9884\u89c8"},r.a.createElement("div",{style:{padding:20,height:390,background:"#f0f3ff",position:"relative"}},function getPreview(){switch(_){case"audio":case"video":return r.a.createElement(st,{type:_,src:D&&D.url||""});default:return r.a.createElement("div",{style:{width:"100%",textAlign:"center",lineHeight:"370px"}},"\u4e0d\u652f\u6301\u9884\u89c8")}}())),r.a.createElement(it,{tab:"\u7f16\u8f91",key:"\u7f16\u8f91",forceRender:!0},r.a.createElement("div",{style:{padding:20,height:390,background:"#f0f3ff",position:"relative",overflow:"auto"}},r.a.createElement(nt,{form:o,type:_,isCreate:!1,onEditUpload:handleEditUpload,isReplaceLoading:le})),"\u7f16\u8f91"===W&&r.a.createElement(se.a,{onClick:function onClick(){return function submitComponentInfo(){return _submitComponentInfo.apply(this,arguments)}()},style:{float:"right",marginTop:20}},"\u5237\u65b0\u5e94\u7528")))}()))),O&&r.a.createElement(rt,{assetname:ve,type:_,onSuccess:function handleCreateSuccess(e){x(!1),i(DataSetDetail_objectSpread({},s,{},_e()({},_,e[_])))},onCancel:function onCancel(){return x(!1)}}),H&&r.a.createElement(Ve,{defaultTags:s.tags,isMutipleTag:!1,onSuccess:fetchAsset,onClose:function onClose(){return $(!1)},editTagAssetName:ve}))})),mt=(n(427),n(132)),ft=(n(393),n(166)),ht=S.a.CancelToken,_t="\u8bf7\u6c42\u4e0a\u4f20\u4e2d",gt="\u4e0a\u4f20\u4e2d",bt="\u6587\u4ef6\u751f\u6210\u4e2d",yt="\u4e0a\u4f20\u5931\u8d25",wt=function UploadingList(e){var t=e.assetname,n=e.files,o=e.infoFile,l=e.handleUploadSuccess,c=e.show,s=Object(a.useState)(null),i=g()(s,2),u=i[0],p=i[1],d=Object(a.useState)(0),m=g()(d,2),f=m[0],h=m[1],_=Object(a.useState)(_t),b=g()(_,2),y=b[0],j=b[1],E=Object(a.useState)(!1),k=g()(E,2),O=k[0],x=k[1],C=Object(a.useRef)(0),S=Object(a.useRef)(null),D=Object(a.useRef)(fe()(n)),T=Object(a.useRef)(null),R=Object(a.useRef)(null),A=Object(a.useRef)(0),F=Object(a.useRef)(0),P=Object(a.useRef)(!1);function handleFinishError(){sendComplete()}function sendComplete(){return _sendComplete.apply(this,arguments)}function _sendComplete(){return(_sendComplete=v()(w.a.mark((function _callee(){var e;return w.a.wrap((function _callee$(n){for(;;)switch(n.prev=n.next){case 0:return j(bt),n.prev=1,n.next=4,K({requestid:S.current.requestid});case 4:e=n.sent,e.data,l(t),n.next=15;break;case 9:if(n.prev=9,n.t0=n.catch(1),!(F.current>=2)){n.next=13;break}return n.abrupt("return",Ie.a.error("\u751f\u6210\u6587\u4ef6\u65f6\u51fa\u9519"));case 13:F.current=F.current+1,handleFinishError();case 15:case"end":return n.stop()}}),_callee,null,[[1,9]])})))).apply(this,arguments)}function onError(){if(!P.current){if(A.current>=3)return Ie.a.error(yt);A.current=A.current+1,upload(R.current,f)}}function onSuccess(e,t){A.current=0,h(e+t.size),upload(D.current.pop(),e+t.size)}function upload(e){return _upload.apply(this,arguments)}function _upload(){return(_upload=v()(w.a.mark((function _callee2(e){var t,n,a,r,o,l,c,s=arguments;return w.a.wrap((function _callee2$(i){for(;;)switch(i.prev=i.next){case 0:if(t=s.length>1&&void 0!==s[1]?s[1]:0,e){i.next=3;break}return i.abrupt("return",sendComplete());case 3:return n=S.current,a=n.requestid,r=n.assetname,(o=new FormData).append("requestid",a),o.append("assetname",r),o.append("file",e),l=new ht((function(e){T.current=e})),i.prev=9,i.next=12,G(o,l);case 12:c=i.sent,c.data,onSuccess(t,e),i.next=21;break;case 17:i.prev=17,i.t0=i.catch(9),R.current=e,onError();case 21:case"end":return i.stop()}}),_callee2,null,[[9,17]])})))).apply(this,arguments)}function _fetchIdAndUpload(){return(_fetchIdAndUpload=v()(w.a.mark((function _callee3(){var e,t,n;return w.a.wrap((function _callee3$(a){for(;;)switch(a.prev=a.next){case 0:return(e=new FormData).append("file",o),a.next=4,W(e);case 4:t=a.sent,n=t.data,p(n),S.current=n,j(gt),upload(D.current.pop());case 10:case"end":return a.stop()}}),_callee3)})))).apply(this,arguments)}function getMegabyteFormat(e){return(e/1048576).toFixed(2)}return Object(a.useEffect)((function(){!function fetchIdAndUpload(){return _fetchIdAndUpload.apply(this,arguments)}(),function getTotleFilesSize(){var e=n.reduce((function(e,t){return e+t.size}),0);C.current=e}()}),[]),u&&c?r.a.createElement(mt.a.Item,null,r.a.createElement(ge.a,{style:{width:"100%",display:"flex",alignItems:"center"}},r.a.createElement(be.a,{span:4},r.a.createElement("div",null,t),r.a.createElement("div",null,"".concat(u.projectname).concat(u.projectname?",":"").concat(u.component_num," compoments"))),r.a.createElement(be.a,{span:8,style:{textAlign:"center"}},u.createtime),r.a.createElement(be.a,{span:8},r.a.createElement(ft.a,{percent:f/C.current*100,showInfo:!1,strokeColor:"#1890ff"}),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement("span",null,"".concat(y,"...")),r.a.createElement("span",null,"".concat(getMegabyteFormat(f),"MB/").concat(getMegabyteFormat(C.current),"MB")))),r.a.createElement(be.a,{offset:2,span:2,style:{textAlign:"right"}},r.a.createElement("span",{style:{cursor:"pointer",color:"#3E69FA"},onClick:function handlePauseOrResume(){O?function resume(){upload(R.current,f),x(!1),P.current=!1}():function pause(){if(y===bt)return Ie.a.error("\u6587\u4ef6\u751f\u6210\u4e2d\uff0c\u65e0\u6cd5\u6682\u505c");x(!0),P.current=!0,T.current&&T.current()}()}},O?"\u7ee7\u7eed":"\u6682\u505c")))):null},jt=n(444),vt=n.n(jt);function UploadManagement_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function UploadManagement_objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?UploadManagement_ownKeys(Object(n),!0).forEach((function(t){_e()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UploadManagement_ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Et=S.a.CancelToken,kt=["body","face","feature","audio","video","preview"],Ot=function UploadManagement(e){e.isAdmin;var t=Object(a.useState)(1),n=g()(t,2),o=n[0],l=n[1],c=Object(a.useState)(10),s=g()(c,2),i=s[0],p=s[1],d=Object(a.useState)([]),m=g()(d,2),f=m[0],h=m[1],_=Object(a.useState)([]),b=g()(_,2),y=b[0],j=b[1],E=Object(a.useState)(""),k=g()(E,2),O=k[0],x=k[1],C=Object(a.useState)(0),S=g()(C,2),D=S[0],T=S[1],R=Object(a.useState)(!1),A=g()(R,2),F=A[0],P=A[1],L=Object(a.useState)(Oe()().format("YYYY-MM-DD")),M=g()(L,2),U=M[0],z=M[1],I=Object(a.useRef)({}),N=Object(a.useRef)([]),V=Object(a.useRef)(!1),q=Object(a.useRef)(!1),B=Object(a.useRef)(null),Y=Object(a.useRef)(!1),H=D+y.length;function fetchUploadList(){return _fetchUploadList.apply(this,arguments)}function _fetchUploadList(){return(_fetchUploadList=v()(w.a.mark((function _callee(){var e,t,n,a,r,l;return w.a.wrap((function _callee$(c){for(;;)switch(c.prev=c.next){case 0:return Y.current&&B.current&&B.current(),e={createtime__lt:U,assetname:O,_page:o,_num:i,_offset:N.current.length},t=new Et((function(e){return B.current=e})),c.prev=3,Y.current=!0,c.next=7,$(e,t);case 7:n=c.sent,a=n.data,Y.current=!1,r=a.items,l=a.total,h(r),T(l),c.next=18;break;case 15:c.prev=15,c.t0=c.catch(3),console.log("request canceled");case 18:case"end":return c.stop()}}),_callee,null,[[3,15]])})))).apply(this,arguments)}function readFileInfo(e,t){var n=new FileReader;n.onload=function onReaderLoad(n){!function validteFilesAndUpload(e,t,n){function isExist(e){var a=t.files.some((function(t){return e===t.name}));return a||function handleFileNotFound(e){Ie.a.error("\u6587\u4ef6\u5939".concat(n,"\u4e0b\u4e0d\u5b58\u5728\u6587\u4ef6").concat(e),10)}(e),a}function getFileName(e,t){var n=t.lastIndexOf(".");return e+t.substring(n)}var a=!0,r=!1,o=void 0;try{for(var l,c=kt[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var s=l.value;if(e[s])if("preview"!==s){var i=!0,u=!1,p=void 0;try{for(var d,m=e[s][Symbol.iterator]();!(i=(d=m.next()).done);i=!0){var f=d.value,h=(f.model,f.format,f.name,f.samplerate,f.url);switch(s){case"body":case"face":if(!isExist(getFileName(at(s,f),h)))return;break;case"audio":if(!isExist(getFileName(at(s,f),h)))return;break;case"video":if(!isExist(getFileName(at(s,f),h)))return;break;case"feature":if(!isExist(getFileName(at(s,f),h)))return}}}catch(_){u=!0,p=_}finally{try{i||null==m.return||m.return()}finally{if(u)throw p}}}else if(!isExist(e[s]))return}}catch(_){r=!0,o=_}finally{try{a||null==c.return||c.return()}finally{if(r)throw o}}!function handleUpload(e,t){var n=[{assetname:e.assetname,files:I.current[t].files,infoFile:I.current[t].infoFile}].concat(fe()(N.current));1===Object.keys(I.current).length&&!0===V.current&&!0===q.current&&(q.current=!1,P(!1));j(n),N.current=n,function clearUpdatedFiles(){delete I.current[t]}()}(e,n)}(JSON.parse(n.target.result),I.current[getRootFolderName(e)],t)},n.readAsText(e)}function getRootFolderName(e){var t=e.webkitRelativePath,n=V.current?t.indexOf("/")+1:0,a=V.current?t.indexOf("/",n):t.indexOf("/");return t.substring(n,a)}function handleUploadSuccess(e){fetchUploadList(),function removeUploadingList(){var t=N.current.filter((function(t){return t.assetname!==e}));N.current=t,j(t)}()}Object(a.useEffect)((function(){fetchUploadList()}),[o,i]),Object(a.useEffect)((function(){var e=Math.ceil(H/i);e&&o>e&&l(e)}),[H]);var K={directory:!0,showUploadList:!1,beforeUpload:function beforeUpload(e){return V.current&&!1===q.current&&(P(!0),q.current=!0),function processFile(e){if(".DS_Store"!==e.name){var t=getRootFolderName(e),n=I.current[t]||{};if("info.json"===e.name)return readFileInfo(e,t),void(I.current[t]=UploadManagement_objectSpread({},n,{infoFile:e}));I.current[t]=UploadManagement_objectSpread({},n,{files:[].concat(fe()(n.files||[]),[e])})}}(e),!1}},J=(o-1)*i,W=J+i;return r.a.createElement("div",{className:vt.a["upload-wrapper"]},r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement(ye.a,{defaultValue:Oe()(),allowClear:!1,disabledDate:function disabledDate(e){return e>Oe()()},onChange:function handleDateChange(e){z(e.format("YYYY-MM-DD"))},style:{width:240}}),r.a.createElement(pe.a.Search,{placeholder:"\u641c\u7d22",onChange:function onChange(e){return x(e.target.value)},style:{width:240,marginLeft:15},onSearch:function handleSearch(){fetchUploadList()}}),r.a.createElement("div",{style:{flex:1}}),r.a.createElement(Ze.a,u()({},K,{disabled:F}),r.a.createElement(se.a,{type:"primary",style:{width:150},loading:q.current,onClick:function onClick(){return V.current=!0}},F?"\u6587\u4ef6\u8bfb\u53d6\u4e2d":"\u6279\u91cf\u4e0a\u4f20Asset")),r.a.createElement(Ze.a,K,r.a.createElement(se.a,{type:"primary",style:{marginLeft:20,width:150},onClick:function onClick(){return V.current=!1}},"\u4e0a\u4f20Asset"))),r.a.createElement(mt.a,{size:"large",style:{background:"#fff",marginTop:20}},y.map((function(e,t){return r.a.createElement(wt,{key:e.assetname,assetname:e.assetname,handleUploadSuccess:handleUploadSuccess,files:e.files,infoFile:e.infoFile,show:t>=J&&t<=W})})),f.map((function(e){return r.a.createElement(mt.a.Item,{key:e.assetname+e.createtime},r.a.createElement(ge.a,{style:{width:"100%",display:"flex",alignItems:"center"}},r.a.createElement(be.a,{span:4},r.a.createElement("div",null,e.assetname),r.a.createElement("div",null,"".concat(e.projectname).concat(e.projectname?"\uff0c":"").concat(e.component_num," compoments"))),r.a.createElement(be.a,{span:8,style:{textAlign:"center"}},e.createtime),r.a.createElement(be.a,{span:8},r.a.createElement(oe.a,{color:"error"===e.status?"#ffd4d6":"#d1f5eb"},r.a.createElement("span",{style:{color:"error"===e.status?"#ff535b":"#009966"}},"error"===e.status?"\u4e0a\u4f20\u5931\u8d25":"\u4e0a\u4f20\u6210\u529f")),"error"===e.status&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ce.a,{overlay:e.msg},r.a.createElement(ue.a,{type:"question-circle",style:{color:"red",cursor:"pointer"}})),r.a.createElement("span",{style:{marginLeft:10}},e.msg.length>16?"".concat(e.msg.substring(0,16),"..."):e.msg))),r.a.createElement(be.a,{offset:2,span:2},"error"===e.status&&r.a.createElement(Ze.a,K,r.a.createElement("span",{onClick:function onClick(){return V.current=!1},style:{cursor:"pointer",color:"#3E69FA"}},"\u91cd\u65b0\u4e0a\u4f20")))))}))),r.a.createElement(Me.a,{showQuickJumper:!0,showSizeChanger:!0,current:o,onChange:function onChange(e){return l(e)},onShowSizeChange:function onShowSizeChange(e,t){l(e),p(t)},total:H,style:{float:"right",marginTop:30}}))},xt=(n(824),function Router(){var e=Object(a.useState)(!1),t=g()(e,2),n=t[0],o=t[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(ae,{setIsAdmin:o}),r.a.createElement(h.a.Content,{style:{maxWidth:1200,margin:"0 auto",paddingBottom:80,paddingTop:30}},r.a.createElement(f.a,null,r.a.createElement(d.a,{exact:!0,path:"/homepage",component:Pe}),"} />",r.a.createElement(d.a,{exact:!0,path:"/dataset",render:function render(e){return r.a.createElement(Je,u()({},e,{isAdmin:n}))}}),r.a.createElement(d.a,{exact:!0,path:"/dataset/:assetname",render:function render(e){return r.a.createElement(dt,u()({},e,{isAdmin:n}))}}),r.a.createElement(d.a,{exact:!0,path:"/upload",render:function render(e){return r.a.createElement(Ot,u()({},e,{isAdmin:n}))}}),r.a.createElement(p.a,{to:"/homepage"}))))}),Ct=[],St=function configSorter(e,t){return(e.priority||0)-(t.priority||0)};!function router_importAll(e){e.keys().map((function(t){return e(t).default})).sort(St).forEach((function(e){Ct=Ct.concat(function resolveRouteConfig(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=t+(e.route||""),a={key:n,path:n,exact:!!e.exact},o=e.redirect?r.a.createElement(p.a,u()({},a,{to:e.redirect})):r.a.createElement(d.a,u()({},a,{component:e.component}));return Ct.push(o),(e.children||[]).sort(St).forEach((function(e){resolveRouteConfig(e,n)})),Ct}(e))}))}(n(826));var router=function(){return r.a.createElement("div",null,r.a.createElement(m.a,null,r.a.createElement(f.a,null,r.a.createElement(d.a,{path:"/",component:xt}))))},Dt=(n(827),n(829),l()());s.forEach((function(e){return Dt.model(e)})),Dt.router((function(){return r.a.createElement(router,null)})),Dt.start("#root")}},[[831,1,2]]]);
//# sourceMappingURL=index.fbae82e0.chunk.js.map